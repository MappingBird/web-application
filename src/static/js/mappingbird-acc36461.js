!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=ie.type(e);return"function"===n||ie.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function o(e,t,n){if(ie.isFunction(t))return ie.grep(e,function(e,o){return!!t.call(e,o,e)!==n});if(t.nodeType)return ie.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(pe.test(t))return ie.filter(t,e,n);t=ie.filter(t,e)}return ie.grep(e,function(e){return ie.inArray(e,t)>=0!==n})}function i(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function r(e){var t=$e[e]={};return ie.each(e.match(we)||[],function(e,n){t[n]=!0}),t}function a(){he.addEventListener?(he.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1)):(he.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(he.addEventListener||"load"===event.type||"complete"===he.readyState)&&(a(),ie.ready())}function l(e,t,n){if(void 0===n&&1===e.nodeType){var o="data-"+t.replace(_e,"-$1").toLowerCase();if(n=e.getAttribute(o),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Se.test(n)?ie.parseJSON(n):n}catch(i){}ie.data(e,t,n)}else n=void 0}return n}function c(e){var t;for(t in e)if(("data"!==t||!ie.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function u(e,t,n,o){if(ie.acceptData(e)){var i,r,a=ie.expando,s=e.nodeType,l=s?ie.cache:e,c=s?e[a]:e[a]&&a;if(c&&l[c]&&(o||l[c].data)||void 0!==n||"string"!=typeof t)return c||(c=s?e[a]=G.pop()||ie.guid++:a),l[c]||(l[c]=s?{}:{toJSON:ie.noop}),("object"==typeof t||"function"==typeof t)&&(o?l[c]=ie.extend(l[c],t):l[c].data=ie.extend(l[c].data,t)),r=l[c],o||(r.data||(r.data={}),r=r.data),void 0!==n&&(r[ie.camelCase(t)]=n),"string"==typeof t?(i=r[t],null==i&&(i=r[ie.camelCase(t)])):i=r,i}}function d(e,t,n){if(ie.acceptData(e)){var o,i,r=e.nodeType,a=r?ie.cache:e,s=r?e[ie.expando]:ie.expando;if(a[s]){if(t&&(o=n?a[s]:a[s].data)){ie.isArray(t)?t=t.concat(ie.map(t,ie.camelCase)):t in o?t=[t]:(t=ie.camelCase(t),t=t in o?[t]:t.split(" ")),i=t.length;for(;i--;)delete o[t[i]];if(n?!c(o):!ie.isEmptyObject(o))return}(n||(delete a[s].data,c(a[s])))&&(r?ie.cleanData([e],!0):ne.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function p(){return!0}function f(){return!1}function h(){try{return he.activeElement}catch(e){}}function m(e){var t=Ne.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function g(e,t){var n,o,i=0,r=typeof e.getElementsByTagName!==Ce?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==Ce?e.querySelectorAll(t||"*"):void 0;if(!r)for(r=[],n=e.childNodes||e;null!=(o=n[i]);i++)!t||ie.nodeName(o,t)?r.push(o):ie.merge(r,g(o,t));return void 0===t||t&&ie.nodeName(e,t)?ie.merge([e],r):r}function v(e){De.test(e.type)&&(e.defaultChecked=e.checked)}function y(e,t){return ie.nodeName(e,"table")&&ie.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function w(e){return e.type=(null!==ie.find.attr(e,"type"))+"/"+e.type,e}function $(e){var t=Ye.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function b(e,t){for(var n,o=0;null!=(n=e[o]);o++)ie._data(n,"globalEval",!t||ie._data(t[o],"globalEval"))}function x(e,t){if(1===t.nodeType&&ie.hasData(e)){var n,o,i,r=ie._data(e),a=ie._data(t,r),s=r.events;if(s){delete a.handle,a.events={};for(n in s)for(o=0,i=s[n].length;i>o;o++)ie.event.add(t,n,s[n][o])}a.data&&(a.data=ie.extend({},a.data))}}function C(e,t){var n,o,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ne.noCloneEvent&&t[ie.expando]){i=ie._data(t);for(o in i.events)ie.removeEvent(t,o,i.handle);t.removeAttribute(ie.expando)}"script"===n&&t.text!==e.text?(w(t).text=e.text,$(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ne.html5Clone&&e.innerHTML&&!ie.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&De.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function S(t,n){var o,i=ie(n.createElement(t)).appendTo(n.body),r=e.getDefaultComputedStyle&&(o=e.getDefaultComputedStyle(i[0]))?o.display:ie.css(i[0],"display");return i.detach(),r}function _(e){var t=he,n=Je[e];return n||(n=S(e,t),"none"!==n&&n||(Ke=(Ke||ie("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Ke[0].contentWindow||Ke[0].contentDocument).document,t.write(),t.close(),n=S(e,t),Ke.detach()),Je[e]=n),n}function k(e,t){return{get:function(){var n=e();return null!=n?n?void delete this.get:(this.get=t).apply(this,arguments):void 0}}}function T(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),o=t,i=pt.length;i--;)if(t=pt[i]+n,t in e)return t;return o}function P(e,t){for(var n,o,i,r=[],a=0,s=e.length;s>a;a++)o=e[a],o.style&&(r[a]=ie._data(o,"olddisplay"),n=o.style.display,t?(r[a]||"none"!==n||(o.style.display=""),""===o.style.display&&Pe(o)&&(r[a]=ie._data(o,"olddisplay",_(o.nodeName)))):(i=Pe(o),(n&&"none"!==n||!i)&&ie._data(o,"olddisplay",i?n:ie.css(o,"display"))));for(a=0;s>a;a++)o=e[a],o.style&&(t&&"none"!==o.style.display&&""!==o.style.display||(o.style.display=t?r[a]||"":"none"));return e}function M(e,t,n){var o=lt.exec(t);return o?Math.max(0,o[1]-(n||0))+(o[2]||"px"):t}function D(e,t,n,o,i){for(var r=n===(o?"border":"content")?4:"width"===t?1:0,a=0;4>r;r+=2)"margin"===n&&(a+=ie.css(e,n+Te[r],!0,i)),o?("content"===n&&(a-=ie.css(e,"padding"+Te[r],!0,i)),"margin"!==n&&(a-=ie.css(e,"border"+Te[r]+"Width",!0,i))):(a+=ie.css(e,"padding"+Te[r],!0,i),"padding"!==n&&(a+=ie.css(e,"border"+Te[r]+"Width",!0,i)));return a}function E(e,t,n){var o=!0,i="width"===t?e.offsetWidth:e.offsetHeight,r=et(e),a=ne.boxSizing&&"border-box"===ie.css(e,"boxSizing",!1,r);if(0>=i||null==i){if(i=tt(e,t,r),(0>i||null==i)&&(i=e.style[t]),ot.test(i))return i;o=a&&(ne.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+D(e,t,n||(a?"border":"content"),o,r)+"px"}function A(e,t,n,o,i){return new A.prototype.init(e,t,n,o,i)}function I(){return setTimeout(function(){ft=void 0}),ft=ie.now()}function L(e,t){var n,o={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=Te[i],o["margin"+n]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function O(e,t,n){for(var o,i=(wt[t]||[]).concat(wt["*"]),r=0,a=i.length;a>r;r++)if(o=i[r].call(n,t,e))return o}function N(e,t,n){var o,i,r,a,s,l,c,u,d=this,p={},f=e.style,h=e.nodeType&&Pe(e),m=ie._data(e,"fxshow");n.queue||(s=ie._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,ie.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],c=ie.css(e,"display"),u="none"===c?ie._data(e,"olddisplay")||_(e.nodeName):c,"inline"===u&&"none"===ie.css(e,"float")&&(ne.inlineBlockNeedsLayout&&"inline"!==_(e.nodeName)?f.zoom=1:f.display="inline-block")),n.overflow&&(f.overflow="hidden",ne.shrinkWrapBlocks()||d.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(o in t)if(i=t[o],mt.exec(i)){if(delete t[o],r=r||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!m||void 0===m[o])continue;h=!0}p[o]=m&&m[o]||ie.style(e,o)}else c=void 0;if(ie.isEmptyObject(p))"inline"===("none"===c?_(e.nodeName):c)&&(f.display=c);else{m?"hidden"in m&&(h=m.hidden):m=ie._data(e,"fxshow",{}),r&&(m.hidden=!h),h?ie(e).show():d.done(function(){ie(e).hide()}),d.done(function(){var t;ie._removeData(e,"fxshow");for(t in p)ie.style(e,t,p[t])});for(o in p)a=O(h?m[o]:0,o,d),o in m||(m[o]=a.start,h&&(a.end=a.start,a.start="width"===o||"height"===o?1:0))}}function R(e,t){var n,o,i,r,a;for(n in e)if(o=ie.camelCase(n),i=t[o],r=e[n],ie.isArray(r)&&(i=r[1],r=e[n]=r[0]),n!==o&&(e[o]=r,delete e[n]),a=ie.cssHooks[o],a&&"expand"in a){r=a.expand(r),delete e[o];for(n in r)n in e||(e[n]=r[n],t[n]=i)}else t[o]=i}function B(e,t,n){var o,i,r=0,a=yt.length,s=ie.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=ft||I(),n=Math.max(0,c.startTime+c.duration-t),o=n/c.duration||0,r=1-o,a=0,l=c.tweens.length;l>a;a++)c.tweens[a].run(r);return s.notifyWith(e,[c,r,n]),1>r&&l?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:ie.extend({},t),opts:ie.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:ft||I(),duration:n.duration,tweens:[],createTween:function(t,n){var o=ie.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(o),o},stop:function(t){var n=0,o=t?c.tweens.length:0;if(i)return this;for(i=!0;o>n;n++)c.tweens[n].run(1);return t?s.resolveWith(e,[c,t]):s.rejectWith(e,[c,t]),this}}),u=c.props;for(R(u,c.opts.specialEasing);a>r;r++)if(o=yt[r].call(c,e,u,c.opts))return o;return ie.map(u,O,c),ie.isFunction(c.opts.start)&&c.opts.start.call(e,c),ie.fx.timer(ie.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function j(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var o,i=0,r=t.toLowerCase().match(we)||[];if(ie.isFunction(n))for(;o=r[i++];)"+"===o.charAt(0)?(o=o.slice(1)||"*",(e[o]=e[o]||[]).unshift(n)):(e[o]=e[o]||[]).push(n)}}function F(e,t,n,o){function i(s){var l;return r[s]=!0,ie.each(e[s]||[],function(e,s){var c=s(t,n,o);return"string"!=typeof c||a||r[c]?a?!(l=c):void 0:(t.dataTypes.unshift(c),i(c),!1)}),l}var r={},a=e===Vt;return i(t.dataTypes[0])||!r["*"]&&i("*")}function H(e,t){var n,o,i=ie.ajaxSettings.flatOptions||{};for(o in t)void 0!==t[o]&&((i[o]?e:n||(n={}))[o]=t[o]);return n&&ie.extend(!0,e,n),e}function U(e,t,n){for(var o,i,r,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){l.unshift(a);break}if(l[0]in n)r=l[0];else{for(a in n){if(!l[0]||e.converters[a+" "+l[0]]){r=a;break}o||(o=a)}r=r||o}return r?(r!==l[0]&&l.unshift(r),n[r]):void 0}function V(e,t,n,o){var i,r,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(r=u.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!l&&o&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(a=c[l+" "+r]||c["* "+r],!a)for(i in c)if(s=i.split(" "),s[1]===r&&(a=c[l+" "+s[0]]||c["* "+s[0]])){a===!0?a=c[i]:c[i]!==!0&&(r=s[0],u.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}function q(e,t,n,o){var i;if(ie.isArray(t))ie.each(t,function(t,i){n||Yt.test(e)?o(e,i):q(e+"["+("object"==typeof i?t:"")+"]",i,n,o)});else if(n||"object"!==ie.type(t))o(e,t);else for(i in t)q(e+"["+i+"]",t[i],n,o)}function W(){try{return new e.XMLHttpRequest}catch(t){}}function z(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function Y(e){return ie.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var G=[],X=G.slice,Q=G.concat,Z=G.push,K=G.indexOf,J={},ee=J.toString,te=J.hasOwnProperty,ne={},oe="1.11.1",ie=function(e,t){return new ie.fn.init(e,t)},re=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ae=/^-ms-/,se=/-([\da-z])/gi,le=function(e,t){return t.toUpperCase()};ie.fn=ie.prototype={jquery:oe,constructor:ie,selector:"",length:0,toArray:function(){return X.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:X.call(this)},pushStack:function(e){var t=ie.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ie.each(this,e,t)},map:function(e){return this.pushStack(ie.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(X.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Z,sort:G.sort,splice:G.splice},ie.extend=ie.fn.extend=function(){var e,t,n,o,i,r,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||ie.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(i=arguments[s]))for(o in i)e=a[o],n=i[o],a!==n&&(c&&n&&(ie.isPlainObject(n)||(t=ie.isArray(n)))?(t?(t=!1,r=e&&ie.isArray(e)?e:[]):r=e&&ie.isPlainObject(e)?e:{},a[o]=ie.extend(c,r,n)):void 0!==n&&(a[o]=n));return a},ie.extend({expando:"jQuery"+(oe+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ie.type(e)},isArray:Array.isArray||function(e){return"array"===ie.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!ie.isArray(e)&&e-parseFloat(e)>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==ie.type(e)||e.nodeType||ie.isWindow(e))return!1;try{if(e.constructor&&!te.call(e,"constructor")&&!te.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(ne.ownLast)for(t in e)return te.call(e,t);for(t in e);return void 0===t||te.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?J[ee.call(e)]||"object":typeof e},globalEval:function(t){t&&ie.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ae,"ms-").replace(se,le)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,o){var i,r=0,a=e.length,s=n(e);if(o){if(s)for(;a>r&&(i=t.apply(e[r],o),i!==!1);r++);else for(r in e)if(i=t.apply(e[r],o),i===!1)break}else if(s)for(;a>r&&(i=t.call(e[r],r,e[r]),i!==!1);r++);else for(r in e)if(i=t.call(e[r],r,e[r]),i===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(re,"")},makeArray:function(e,t){var o=t||[];return null!=e&&(n(Object(e))?ie.merge(o,"string"==typeof e?[e]:e):Z.call(o,e)),o},inArray:function(e,t,n){var o;if(t){if(K)return K.call(t,e,n);for(o=t.length,n=n?0>n?Math.max(0,o+n):n:0;o>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,o=0,i=e.length;n>o;)e[i++]=t[o++];if(n!==n)for(;void 0!==t[o];)e[i++]=t[o++];return e.length=i,e},grep:function(e,t,n){for(var o,i=[],r=0,a=e.length,s=!n;a>r;r++)o=!t(e[r],r),o!==s&&i.push(e[r]);return i},map:function(e,t,o){var i,r=0,a=e.length,s=n(e),l=[];if(s)for(;a>r;r++)i=t(e[r],r,o),null!=i&&l.push(i);else for(r in e)i=t(e[r],r,o),null!=i&&l.push(i);return Q.apply([],l)},guid:1,proxy:function(e,t){var n,o,i;return"string"==typeof t&&(i=e[t],t=e,e=i),ie.isFunction(e)?(n=X.call(arguments,2),o=function(){return e.apply(t||this,n.concat(X.call(arguments)))},o.guid=e.guid=e.guid||ie.guid++,o):void 0},now:function(){return+new Date},support:ne}),ie.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){J["[object "+t+"]"]=t.toLowerCase()});var ce=function(e){function t(e,t,n,o){var i,r,a,s,l,c,d,f,h,m;if((t?t.ownerDocument||t:F)!==A&&E(t),t=t||A,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(L&&!o){if(i=ye.exec(e))if(a=i[1]){if(9===s){if(r=t.getElementById(a),!r||!r.parentNode)return n;if(r.id===a)return n.push(r),n}else if(t.ownerDocument&&(r=t.ownerDocument.getElementById(a))&&B(t,r)&&r.id===a)return n.push(r),n}else{if(i[2])return J.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&b.getElementsByClassName&&t.getElementsByClassName)return J.apply(n,t.getElementsByClassName(a)),n}if(b.qsa&&(!O||!O.test(e))){if(f=d=j,h=t,m=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=_(e),(d=t.getAttribute("id"))?f=d.replace($e,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",l=c.length;l--;)c[l]=f+p(c[l]);h=we.test(e)&&u(t.parentNode)||t,m=c.join(",")}if(m)try{return J.apply(n,h.querySelectorAll(m)),n}catch(g){}finally{d||t.removeAttribute("id")}}}return T(e.replace(le,"$1"),t,n,o)}function n(){function e(n,o){return t.push(n+" ")>x.cacheLength&&delete e[t.shift()],e[n+" "]=o}var t=[];return e}function o(e){return e[j]=!0,e}function i(e){var t=A.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function r(e,t){for(var n=e.split("|"),o=e.length;o--;)x.attrHandle[n[o]]=t}function a(e,t){var n=t&&e,o=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||G)-(~e.sourceIndex||G);if(o)return o;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return o(function(t){return t=+t,o(function(n,o){for(var i,r=e([],n.length,t),a=r.length;a--;)n[i=r[a]]&&(n[i]=!(o[i]=n[i]))})})}function u(e){return e&&typeof e.getElementsByTagName!==Y&&e}function d(){}function p(e){for(var t=0,n=e.length,o="";n>t;t++)o+=e[t].value;return o}function f(e,t,n){var o=t.dir,i=n&&"parentNode"===o,r=U++;return t.first?function(t,n,r){for(;t=t[o];)if(1===t.nodeType||i)return e(t,n,r)}:function(t,n,a){var s,l,c=[H,r];if(a){for(;t=t[o];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[o];)if(1===t.nodeType||i){if(l=t[j]||(t[j]={}),(s=l[o])&&s[0]===H&&s[1]===r)return c[2]=s[2];if(l[o]=c,c[2]=e(t,n,a))return!0}}}function h(e){return e.length>1?function(t,n,o){for(var i=e.length;i--;)if(!e[i](t,n,o))return!1;return!0}:e[0]}function m(e,n,o){for(var i=0,r=n.length;r>i;i++)t(e,n[i],o);return o}function g(e,t,n,o,i){for(var r,a=[],s=0,l=e.length,c=null!=t;l>s;s++)(r=e[s])&&(!n||n(r,o,i))&&(a.push(r),c&&t.push(s));return a}function v(e,t,n,i,r,a){return i&&!i[j]&&(i=v(i)),r&&!r[j]&&(r=v(r,a)),o(function(o,a,s,l){var c,u,d,p=[],f=[],h=a.length,v=o||m(t||"*",s.nodeType?[s]:s,[]),y=!e||!o&&t?v:g(v,p,e,s,l),w=n?r||(o?e:h||i)?[]:a:y;if(n&&n(y,w,s,l),i)for(c=g(w,f),i(c,[],s,l),u=c.length;u--;)(d=c[u])&&(w[f[u]]=!(y[f[u]]=d));if(o){if(r||e){if(r){for(c=[],u=w.length;u--;)(d=w[u])&&c.push(y[u]=d);r(null,w=[],c,l)}for(u=w.length;u--;)(d=w[u])&&(c=r?te.call(o,d):p[u])>-1&&(o[c]=!(a[c]=d))}}else w=g(w===a?w.splice(h,w.length):w),r?r(null,a,w,l):J.apply(a,w)})}function y(e){for(var t,n,o,i=e.length,r=x.relative[e[0].type],a=r||x.relative[" "],s=r?1:0,l=f(function(e){return e===t},a,!0),c=f(function(e){return te.call(t,e)>-1},a,!0),u=[function(e,n,o){return!r&&(o||n!==P)||((t=n).nodeType?l(e,n,o):c(e,n,o))}];i>s;s++)if(n=x.relative[e[s].type])u=[f(h(u),n)];else{if(n=x.filter[e[s].type].apply(null,e[s].matches),n[j]){for(o=++s;i>o&&!x.relative[e[o].type];o++);return v(s>1&&h(u),s>1&&p(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(le,"$1"),n,o>s&&y(e.slice(s,o)),i>o&&y(e=e.slice(o)),i>o&&p(e))}u.push(n)}return h(u)}function w(e,n){var i=n.length>0,r=e.length>0,a=function(o,a,s,l,c){var u,d,p,f=0,h="0",m=o&&[],v=[],y=P,w=o||r&&x.find.TAG("*",c),$=H+=null==y?1:Math.random()||.1,b=w.length;for(c&&(P=a!==A&&a);h!==b&&null!=(u=w[h]);h++){if(r&&u){for(d=0;p=e[d++];)if(p(u,a,s)){l.push(u);break}c&&(H=$)}i&&((u=!p&&u)&&f--,o&&m.push(u))}if(f+=h,i&&h!==f){for(d=0;p=n[d++];)p(m,v,a,s);if(o){if(f>0)for(;h--;)m[h]||v[h]||(v[h]=Z.call(l));v=g(v)}J.apply(l,v),c&&!o&&v.length>0&&f+n.length>1&&t.uniqueSort(l)}return c&&(H=$,P=y),m};return i?o(a):a}var $,b,x,C,S,_,k,T,P,M,D,E,A,I,L,O,N,R,B,j="sizzle"+-new Date,F=e.document,H=0,U=0,V=n(),q=n(),W=n(),z=function(e,t){return e===t&&(D=!0),0},Y="undefined",G=1<<31,X={}.hasOwnProperty,Q=[],Z=Q.pop,K=Q.push,J=Q.push,ee=Q.slice,te=Q.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},ne="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",oe="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re=ie.replace("w","w#"),ae="\\["+oe+"*("+ie+")(?:"+oe+"*([*^$|!~]?=)"+oe+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+oe+"*\\]",se=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ae+")*)|.*)\\)|)",le=new RegExp("^"+oe+"+|((?:^|[^\\\\])(?:\\\\.)*)"+oe+"+$","g"),ce=new RegExp("^"+oe+"*,"+oe+"*"),ue=new RegExp("^"+oe+"*([>+~]|"+oe+")"+oe+"*"),de=new RegExp("="+oe+"*([^\\]'\"]*?)"+oe+"*\\]","g"),pe=new RegExp(se),fe=new RegExp("^"+re+"$"),he={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie.replace("w","w*")+")"),ATTR:new RegExp("^"+ae),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+oe+"*(even|odd|(([+-]|)(\\d*)n|)"+oe+"*(?:([+-]|)"+oe+"*(\\d+)|))"+oe+"*\\)|)","i"),bool:new RegExp("^(?:"+ne+")$","i"),needsContext:new RegExp("^"+oe+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+oe+"*((?:-\\d)?\\d*)"+oe+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,we=/[+~]/,$e=/'|\\/g,be=new RegExp("\\\\([\\da-f]{1,6}"+oe+"?|("+oe+")|.)","ig"),xe=function(e,t,n){var o="0x"+t-65536;return o!==o||n?t:0>o?String.fromCharCode(o+65536):String.fromCharCode(o>>10|55296,1023&o|56320)};try{J.apply(Q=ee.call(F.childNodes),F.childNodes),Q[F.childNodes.length].nodeType}catch(Ce){J={apply:Q.length?function(e,t){K.apply(e,ee.call(t))}:function(e,t){for(var n=e.length,o=0;e[n++]=t[o++];);e.length=n-1}}}b=t.support={},S=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},E=t.setDocument=function(e){var t,n=e?e.ownerDocument||e:F,o=n.defaultView;return n!==A&&9===n.nodeType&&n.documentElement?(A=n,I=n.documentElement,L=!S(n),o&&o!==o.top&&(o.addEventListener?o.addEventListener("unload",function(){E()},!1):o.attachEvent&&o.attachEvent("onunload",function(){E()})),b.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),b.getElementsByTagName=i(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),b.getElementsByClassName=ve.test(n.getElementsByClassName)&&i(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),b.getById=i(function(e){return I.appendChild(e).id=j,!n.getElementsByName||!n.getElementsByName(j).length}),b.getById?(x.find.ID=function(e,t){if(typeof t.getElementById!==Y&&L){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},x.filter.ID=function(e){var t=e.replace(be,xe);return function(e){return e.getAttribute("id")===t}}):(delete x.find.ID,x.filter.ID=function(e){var t=e.replace(be,xe);return function(e){var n=typeof e.getAttributeNode!==Y&&e.getAttributeNode("id");return n&&n.value===t}}),x.find.TAG=b.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==Y?t.getElementsByTagName(e):void 0}:function(e,t){var n,o=[],i=0,r=t.getElementsByTagName(e);if("*"===e){for(;n=r[i++];)1===n.nodeType&&o.push(n);return o}return r},x.find.CLASS=b.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==Y&&L?t.getElementsByClassName(e):void 0},N=[],O=[],(b.qsa=ve.test(n.querySelectorAll))&&(i(function(e){e.innerHTML="<select msallowclip=''><option selected=''></option></select>",e.querySelectorAll("[msallowclip^='']").length&&O.push("[*^$]="+oe+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||O.push("\\["+oe+"*(?:value|"+ne+")"),e.querySelectorAll(":checked").length||O.push(":checked")}),i(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&O.push("name"+oe+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||O.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),O.push(",.*:")})),(b.matchesSelector=ve.test(R=I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&i(function(e){b.disconnectedMatch=R.call(e,"div"),R.call(e,"[s!='']:x"),N.push("!=",se)}),O=O.length&&new RegExp(O.join("|")),N=N.length&&new RegExp(N.join("|")),t=ve.test(I.compareDocumentPosition),B=t||ve.test(I.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,o=t&&t.parentNode;return e===o||!(!o||1!==o.nodeType||!(n.contains?n.contains(o):e.compareDocumentPosition&&16&e.compareDocumentPosition(o)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},z=t?function(e,t){if(e===t)return D=!0,0;var o=!e.compareDocumentPosition-!t.compareDocumentPosition;return o?o:(o=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&o||!b.sortDetached&&t.compareDocumentPosition(e)===o?e===n||e.ownerDocument===F&&B(F,e)?-1:t===n||t.ownerDocument===F&&B(F,t)?1:M?te.call(M,e)-te.call(M,t):0:4&o?-1:1)}:function(e,t){if(e===t)return D=!0,0;var o,i=0,r=e.parentNode,s=t.parentNode,l=[e],c=[t];if(!r||!s)return e===n?-1:t===n?1:r?-1:s?1:M?te.call(M,e)-te.call(M,t):0;if(r===s)return a(e,t);for(o=e;o=o.parentNode;)l.unshift(o);for(o=t;o=o.parentNode;)c.unshift(o);for(;l[i]===c[i];)i++;return i?a(l[i],c[i]):l[i]===F?-1:c[i]===F?1:0},n):A},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==A&&E(e),n=n.replace(de,"='$1']"),!(!b.matchesSelector||!L||N&&N.test(n)||O&&O.test(n)))try{var o=R.call(e,n);if(o||b.disconnectedMatch||e.document&&11!==e.document.nodeType)return o}catch(i){}return t(n,A,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==A&&E(e),B(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==A&&E(e);var n=x.attrHandle[t.toLowerCase()],o=n&&X.call(x.attrHandle,t.toLowerCase())?n(e,t,!L):void 0;return void 0!==o?o:b.attributes||!L?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],o=0,i=0;if(D=!b.detectDuplicates,M=!b.sortStable&&e.slice(0),e.sort(z),D){for(;t=e[i++];)t===e[i]&&(o=n.push(i));for(;o--;)e.splice(n[o],1)}return M=null,e},C=t.getText=function(e){var t,n="",o=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[o++];)n+=C(t);return n},x=t.selectors={cacheLength:50,createPseudo:o,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(be,xe),e[3]=(e[3]||e[4]||e[5]||"").replace(be,xe),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&pe.test(n)&&(t=_(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(be,xe).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=V[e+" "];return t||(t=new RegExp("(^|"+oe+")"+e+"("+oe+"|$)"))&&V(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==Y&&e.getAttribute("class")||"")})},ATTR:function(e,n,o){return function(i){var r=t.attr(i,e);return null==r?"!="===n:n?(r+="","="===n?r===o:"!="===n?r!==o:"^="===n?o&&0===r.indexOf(o):"*="===n?o&&r.indexOf(o)>-1:"$="===n?o&&r.slice(-o.length)===o:"~="===n?(" "+r+" ").indexOf(o)>-1:"|="===n?r===o||r.slice(0,o.length+1)===o+"-":!1):!0}},CHILD:function(e,t,n,o,i){var r="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===o&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,p,f,h,m=r!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(g){if(r){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(u=g[j]||(g[j]={}),c=u[e]||[],f=c[0]===H&&c[1],p=c[0]===H&&c[2],d=f&&g.childNodes[f];d=++f&&d&&d[m]||(p=f=0)||h.pop();)if(1===d.nodeType&&++p&&d===t){u[e]=[H,f,p];break}}else if(y&&(c=(t[j]||(t[j]={}))[e])&&c[0]===H)p=c[1];else for(;(d=++f&&d&&d[m]||(p=f=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++p||(y&&((d[j]||(d[j]={}))[e]=[H,p]),d!==t)););return p-=i,p===o||p%o===0&&p/o>=0}}},PSEUDO:function(e,n){var i,r=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return r[j]?r(n):r.length>1?(i=[e,e,"",n],x.setFilters.hasOwnProperty(e.toLowerCase())?o(function(e,t){for(var o,i=r(e,n),a=i.length;a--;)o=te.call(e,i[a]),e[o]=!(t[o]=i[a])}):function(e){return r(e,0,i)}):r}},pseudos:{not:o(function(e){var t=[],n=[],i=k(e.replace(le,"$1"));return i[j]?o(function(e,t,n,o){for(var r,a=i(e,null,o,[]),s=e.length;s--;)(r=a[s])&&(e[s]=!(t[s]=r))}):function(e,o,r){return t[0]=e,i(t,null,r,n),!n.pop()}}),has:o(function(e){return function(n){return t(e,n).length>0}}),contains:o(function(e){return function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:o(function(e){return fe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(be,xe).toLowerCase(),function(t){var n;do if(n=L?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===I},focus:function(e){return e===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[0>n?n+t:n]}),even:c(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var o=0>n?n+t:n;--o>=0;)e.push(o);return e}),gt:c(function(e,t,n){for(var o=0>n?n+t:n;++o<t;)e.push(o);return e})}},x.pseudos.nth=x.pseudos.eq;for($ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[$]=s($);for($ in{submit:!0,reset:!0})x.pseudos[$]=l($);return d.prototype=x.filters=x.pseudos,x.setFilters=new d,_=t.tokenize=function(e,n){var o,i,r,a,s,l,c,u=q[e+" "];if(u)return n?0:u.slice(0);for(s=e,l=[],c=x.preFilter;s;){(!o||(i=ce.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),l.push(r=[])),o=!1,(i=ue.exec(s))&&(o=i.shift(),r.push({value:o,type:i[0].replace(le," ")}),s=s.slice(o.length));for(a in x.filter)!(i=he[a].exec(s))||c[a]&&!(i=c[a](i))||(o=i.shift(),r.push({value:o,type:a,matches:i
}),s=s.slice(o.length));if(!o)break}return n?s.length:s?t.error(e):q(e,l).slice(0)},k=t.compile=function(e,t){var n,o=[],i=[],r=W[e+" "];if(!r){for(t||(t=_(e)),n=t.length;n--;)r=y(t[n]),r[j]?o.push(r):i.push(r);r=W(e,w(i,o)),r.selector=e}return r},T=t.select=function(e,t,n,o){var i,r,a,s,l,c="function"==typeof e&&e,d=!o&&_(e=c.selector||e);if(n=n||[],1===d.length){if(r=d[0]=d[0].slice(0),r.length>2&&"ID"===(a=r[0]).type&&b.getById&&9===t.nodeType&&L&&x.relative[r[1].type]){if(t=(x.find.ID(a.matches[0].replace(be,xe),t)||[])[0],!t)return n;c&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(i=he.needsContext.test(e)?0:r.length;i--&&(a=r[i],!x.relative[s=a.type]);)if((l=x.find[s])&&(o=l(a.matches[0].replace(be,xe),we.test(r[0].type)&&u(t.parentNode)||t))){if(r.splice(i,1),e=o.length&&p(r),!e)return J.apply(n,o),n;break}}return(c||k(e,d))(o,t,!L,n,we.test(e)&&u(t.parentNode)||t),n},b.sortStable=j.split("").sort(z).join("")===j,b.detectDuplicates=!!D,E(),b.sortDetached=i(function(e){return 1&e.compareDocumentPosition(A.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||r("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),b.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||r("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||r(ne,function(e,t,n){var o;return n?void 0:e[t]===!0?t.toLowerCase():(o=e.getAttributeNode(t))&&o.specified?o.value:null}),t}(e);ie.find=ce,ie.expr=ce.selectors,ie.expr[":"]=ie.expr.pseudos,ie.unique=ce.uniqueSort,ie.text=ce.getText,ie.isXMLDoc=ce.isXML,ie.contains=ce.contains;var ue=ie.expr.match.needsContext,de=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,pe=/^.[^:#\[\.,]*$/;ie.filter=function(e,t,n){var o=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===o.nodeType?ie.find.matchesSelector(o,e)?[o]:[]:ie.find.matches(e,ie.grep(t,function(e){return 1===e.nodeType}))},ie.fn.extend({find:function(e){var t,n=[],o=this,i=o.length;if("string"!=typeof e)return this.pushStack(ie(e).filter(function(){for(t=0;i>t;t++)if(ie.contains(o[t],this))return!0}));for(t=0;i>t;t++)ie.find(e,o[t],n);return n=this.pushStack(i>1?ie.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(o(this,e||[],!1))},not:function(e){return this.pushStack(o(this,e||[],!0))},is:function(e){return!!o(this,"string"==typeof e&&ue.test(e)?ie(e):e||[],!1).length}});var fe,he=e.document,me=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ge=ie.fn.init=function(e,t){var n,o;if(!e)return this;if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:me.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||fe).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof ie?t[0]:t,ie.merge(this,ie.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:he,!0)),de.test(n[1])&&ie.isPlainObject(t))for(n in t)ie.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(o=he.getElementById(n[2]),o&&o.parentNode){if(o.id!==n[2])return fe.find(e);this.length=1,this[0]=o}return this.context=he,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ie.isFunction(e)?"undefined"!=typeof fe.ready?fe.ready(e):e(ie):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),ie.makeArray(e,this))};ge.prototype=ie.fn,fe=ie(he);var ve=/^(?:parents|prev(?:Until|All))/,ye={children:!0,contents:!0,next:!0,prev:!0};ie.extend({dir:function(e,t,n){for(var o=[],i=e[t];i&&9!==i.nodeType&&(void 0===n||1!==i.nodeType||!ie(i).is(n));)1===i.nodeType&&o.push(i),i=i[t];return o},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),ie.fn.extend({has:function(e){var t,n=ie(e,this),o=n.length;return this.filter(function(){for(t=0;o>t;t++)if(ie.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,o=0,i=this.length,r=[],a=ue.test(e)||"string"!=typeof e?ie(e,t||this.context):0;i>o;o++)for(n=this[o];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&ie.find.matchesSelector(n,e))){r.push(n);break}return this.pushStack(r.length>1?ie.unique(r):r)},index:function(e){return e?"string"==typeof e?ie.inArray(this[0],ie(e)):ie.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ie.unique(ie.merge(this.get(),ie(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ie.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ie.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ie.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return ie.dir(e,"nextSibling")},prevAll:function(e){return ie.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ie.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ie.dir(e,"previousSibling",n)},siblings:function(e){return ie.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ie.sibling(e.firstChild)},contents:function(e){return ie.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ie.merge([],e.childNodes)}},function(e,t){ie.fn[e]=function(n,o){var i=ie.map(this,t,n);return"Until"!==e.slice(-5)&&(o=n),o&&"string"==typeof o&&(i=ie.filter(o,i)),this.length>1&&(ye[e]||(i=ie.unique(i)),ve.test(e)&&(i=i.reverse())),this.pushStack(i)}});var we=/\S+/g,$e={};ie.Callbacks=function(e){e="string"==typeof e?$e[e]||r(e):ie.extend({},e);var t,n,o,i,a,s,l=[],c=!e.once&&[],u=function(r){for(n=e.memory&&r,o=!0,a=s||0,s=0,i=l.length,t=!0;l&&i>a;a++)if(l[a].apply(r[0],r[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,l&&(c?c.length&&u(c.shift()):n?l=[]:d.disable())},d={add:function(){if(l){var o=l.length;!function r(t){ie.each(t,function(t,n){var o=ie.type(n);"function"===o?e.unique&&d.has(n)||l.push(n):n&&n.length&&"string"!==o&&r(n)})}(arguments),t?i=l.length:n&&(s=o,u(n))}return this},remove:function(){return l&&ie.each(arguments,function(e,n){for(var o;(o=ie.inArray(n,l,o))>-1;)l.splice(o,1),t&&(i>=o&&i--,a>=o&&a--)}),this},has:function(e){return e?ie.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],i=0,this},disable:function(){return l=c=n=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,n||d.disable(),this},locked:function(){return!c},fireWith:function(e,n){return!l||o&&!c||(n=n||[],n=[e,n.slice?n.slice():n],t?c.push(n):u(n)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!o}};return d},ie.extend({Deferred:function(e){var t=[["resolve","done",ie.Callbacks("once memory"),"resolved"],["reject","fail",ie.Callbacks("once memory"),"rejected"],["notify","progress",ie.Callbacks("memory")]],n="pending",o={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ie.Deferred(function(n){ie.each(t,function(t,r){var a=ie.isFunction(e[t])&&e[t];i[r[1]](function(){var e=a&&a.apply(this,arguments);e&&ie.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[r[0]+"With"](this===o?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ie.extend(e,o):o}},i={};return o.pipe=o.then,ie.each(t,function(e,r){var a=r[2],s=r[3];o[r[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[r[0]]=function(){return i[r[0]+"With"](this===i?o:this,arguments),this},i[r[0]+"With"]=a.fireWith}),o.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,o,i=0,r=X.call(arguments),a=r.length,s=1!==a||e&&ie.isFunction(e.promise)?a:0,l=1===s?e:ie.Deferred(),c=function(e,n,o){return function(i){n[e]=this,o[e]=arguments.length>1?X.call(arguments):i,o===t?l.notifyWith(n,o):--s||l.resolveWith(n,o)}};if(a>1)for(t=new Array(a),n=new Array(a),o=new Array(a);a>i;i++)r[i]&&ie.isFunction(r[i].promise)?r[i].promise().done(c(i,o,r)).fail(l.reject).progress(c(i,n,t)):--s;return s||l.resolveWith(o,r),l.promise()}});var be;ie.fn.ready=function(e){return ie.ready.promise().done(e),this},ie.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ie.readyWait++:ie.ready(!0)},ready:function(e){if(e===!0?!--ie.readyWait:!ie.isReady){if(!he.body)return setTimeout(ie.ready);ie.isReady=!0,e!==!0&&--ie.readyWait>0||(be.resolveWith(he,[ie]),ie.fn.triggerHandler&&(ie(he).triggerHandler("ready"),ie(he).off("ready")))}}}),ie.ready.promise=function(t){if(!be)if(be=ie.Deferred(),"complete"===he.readyState)setTimeout(ie.ready);else if(he.addEventListener)he.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1);else{he.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&he.documentElement}catch(o){}n&&n.doScroll&&!function i(){if(!ie.isReady){try{n.doScroll("left")}catch(e){return setTimeout(i,50)}a(),ie.ready()}}()}return be.promise(t)};var xe,Ce="undefined";for(xe in ie(ne))break;ne.ownLast="0"!==xe,ne.inlineBlockNeedsLayout=!1,ie(function(){var e,t,n,o;n=he.getElementsByTagName("body")[0],n&&n.style&&(t=he.createElement("div"),o=he.createElement("div"),o.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(o).appendChild(t),typeof t.style.zoom!==Ce&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ne.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(o))}),function(){var e=he.createElement("div");if(null==ne.deleteExpando){ne.deleteExpando=!0;try{delete e.test}catch(t){ne.deleteExpando=!1}}e=null}(),ie.acceptData=function(e){var t=ie.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t};var Se=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,_e=/([A-Z])/g;ie.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?ie.cache[e[ie.expando]]:e[ie.expando],!!e&&!c(e)},data:function(e,t,n){return u(e,t,n)},removeData:function(e,t){return d(e,t)},_data:function(e,t,n){return u(e,t,n,!0)},_removeData:function(e,t){return d(e,t,!0)}}),ie.fn.extend({data:function(e,t){var n,o,i,r=this[0],a=r&&r.attributes;if(void 0===e){if(this.length&&(i=ie.data(r),1===r.nodeType&&!ie._data(r,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&(o=a[n].name,0===o.indexOf("data-")&&(o=ie.camelCase(o.slice(5)),l(r,o,i[o])));ie._data(r,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each(function(){ie.data(this,e)}):arguments.length>1?this.each(function(){ie.data(this,e,t)}):r?l(r,e,ie.data(r,e)):void 0},removeData:function(e){return this.each(function(){ie.removeData(this,e)})}}),ie.extend({queue:function(e,t,n){var o;return e?(t=(t||"fx")+"queue",o=ie._data(e,t),n&&(!o||ie.isArray(n)?o=ie._data(e,t,ie.makeArray(n)):o.push(n)),o||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=ie.queue(e,t),o=n.length,i=n.shift(),r=ie._queueHooks(e,t),a=function(){ie.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),o--),i&&("fx"===t&&n.unshift("inprogress"),delete r.stop,i.call(e,a,r)),!o&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ie._data(e,n)||ie._data(e,n,{empty:ie.Callbacks("once memory").add(function(){ie._removeData(e,t+"queue"),ie._removeData(e,n)})})}}),ie.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ie.queue(this[0],e):void 0===t?this:this.each(function(){var n=ie.queue(this,e,t);ie._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ie.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ie.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,o=1,i=ie.Deferred(),r=this,a=this.length,s=function(){--o||i.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=ie._data(r[a],e+"queueHooks"),n&&n.empty&&(o++,n.empty.add(s));return s(),i.promise(t)}});var ke=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Te=["Top","Right","Bottom","Left"],Pe=function(e,t){return e=t||e,"none"===ie.css(e,"display")||!ie.contains(e.ownerDocument,e)},Me=ie.access=function(e,t,n,o,i,r,a){var s=0,l=e.length,c=null==n;if("object"===ie.type(n)){i=!0;for(s in n)ie.access(e,t,s,n[s],!0,r,a)}else if(void 0!==o&&(i=!0,ie.isFunction(o)||(a=!0),c&&(a?(t.call(e,o),t=null):(c=t,t=function(e,t,n){return c.call(ie(e),n)})),t))for(;l>s;s++)t(e[s],n,a?o:o.call(e[s],s,t(e[s],n)));return i?e:c?t.call(e):l?t(e[0],n):r},De=/^(?:checkbox|radio)$/i;!function(){var e=he.createElement("input"),t=he.createElement("div"),n=he.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ne.leadingWhitespace=3===t.firstChild.nodeType,ne.tbody=!t.getElementsByTagName("tbody").length,ne.htmlSerialize=!!t.getElementsByTagName("link").length,ne.html5Clone="<:nav></:nav>"!==he.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),ne.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",ne.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",ne.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,ne.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){ne.noCloneEvent=!1}),t.cloneNode(!0).click()),null==ne.deleteExpando){ne.deleteExpando=!0;try{delete t.test}catch(o){ne.deleteExpando=!1}}}(),function(){var t,n,o=he.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(ne[t+"Bubbles"]=n in e)||(o.setAttribute(n,"t"),ne[t+"Bubbles"]=o.attributes[n].expando===!1);o=null}();var Ee=/^(?:input|select|textarea)$/i,Ae=/^key/,Ie=/^(?:mouse|pointer|contextmenu)|click/,Le=/^(?:focusinfocus|focusoutblur)$/,Oe=/^([^.]*)(?:\.(.+)|)$/;ie.event={global:{},add:function(e,t,n,o,i){var r,a,s,l,c,u,d,p,f,h,m,g=ie._data(e);if(g){for(n.handler&&(l=n,n=l.handler,i=l.selector),n.guid||(n.guid=ie.guid++),(a=g.events)||(a=g.events={}),(u=g.handle)||(u=g.handle=function(e){return typeof ie===Ce||e&&ie.event.triggered===e.type?void 0:ie.event.dispatch.apply(u.elem,arguments)},u.elem=e),t=(t||"").match(we)||[""],s=t.length;s--;)r=Oe.exec(t[s])||[],f=m=r[1],h=(r[2]||"").split(".").sort(),f&&(c=ie.event.special[f]||{},f=(i?c.delegateType:c.bindType)||f,c=ie.event.special[f]||{},d=ie.extend({type:f,origType:m,data:o,handler:n,guid:n.guid,selector:i,needsContext:i&&ie.expr.match.needsContext.test(i),namespace:h.join(".")},l),(p=a[f])||(p=a[f]=[],p.delegateCount=0,c.setup&&c.setup.call(e,o,h,u)!==!1||(e.addEventListener?e.addEventListener(f,u,!1):e.attachEvent&&e.attachEvent("on"+f,u))),c.add&&(c.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,d):p.push(d),ie.event.global[f]=!0);e=null}},remove:function(e,t,n,o,i){var r,a,s,l,c,u,d,p,f,h,m,g=ie.hasData(e)&&ie._data(e);if(g&&(u=g.events)){for(t=(t||"").match(we)||[""],c=t.length;c--;)if(s=Oe.exec(t[c])||[],f=m=s[1],h=(s[2]||"").split(".").sort(),f){for(d=ie.event.special[f]||{},f=(o?d.delegateType:d.bindType)||f,p=u[f]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=p.length;r--;)a=p[r],!i&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||o&&o!==a.selector&&("**"!==o||!a.selector)||(p.splice(r,1),a.selector&&p.delegateCount--,d.remove&&d.remove.call(e,a));l&&!p.length&&(d.teardown&&d.teardown.call(e,h,g.handle)!==!1||ie.removeEvent(e,f,g.handle),delete u[f])}else for(f in u)ie.event.remove(e,f+t[c],n,o,!0);ie.isEmptyObject(u)&&(delete g.handle,ie._removeData(e,"events"))}},trigger:function(t,n,o,i){var r,a,s,l,c,u,d,p=[o||he],f=te.call(t,"type")?t.type:t,h=te.call(t,"namespace")?t.namespace.split("."):[];if(s=u=o=o||he,3!==o.nodeType&&8!==o.nodeType&&!Le.test(f+ie.event.triggered)&&(f.indexOf(".")>=0&&(h=f.split("."),f=h.shift(),h.sort()),a=f.indexOf(":")<0&&"on"+f,t=t[ie.expando]?t:new ie.Event(f,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=o),n=null==n?[t]:ie.makeArray(n,[t]),c=ie.event.special[f]||{},i||!c.trigger||c.trigger.apply(o,n)!==!1)){if(!i&&!c.noBubble&&!ie.isWindow(o)){for(l=c.delegateType||f,Le.test(l+f)||(s=s.parentNode);s;s=s.parentNode)p.push(s),u=s;u===(o.ownerDocument||he)&&p.push(u.defaultView||u.parentWindow||e)}for(d=0;(s=p[d++])&&!t.isPropagationStopped();)t.type=d>1?l:c.bindType||f,r=(ie._data(s,"events")||{})[t.type]&&ie._data(s,"handle"),r&&r.apply(s,n),r=a&&s[a],r&&r.apply&&ie.acceptData(s)&&(t.result=r.apply(s,n),t.result===!1&&t.preventDefault());if(t.type=f,!i&&!t.isDefaultPrevented()&&(!c._default||c._default.apply(p.pop(),n)===!1)&&ie.acceptData(o)&&a&&o[f]&&!ie.isWindow(o)){u=o[a],u&&(o[a]=null),ie.event.triggered=f;try{o[f]()}catch(m){}ie.event.triggered=void 0,u&&(o[a]=u)}return t.result}},dispatch:function(e){e=ie.event.fix(e);var t,n,o,i,r,a=[],s=X.call(arguments),l=(ie._data(this,"events")||{})[e.type]||[],c=ie.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(a=ie.event.handlers.call(this,e,l),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,r=0;(o=i.handlers[r++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,n=((ie.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,o,i,r,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(i=[],r=0;s>r;r++)o=t[r],n=o.selector+" ",void 0===i[n]&&(i[n]=o.needsContext?ie(n,this).index(l)>=0:ie.find(n,this,null,[l]).length),i[n]&&i.push(o);i.length&&a.push({elem:l,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[ie.expando])return e;var t,n,o,i=e.type,r=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Ie.test(i)?this.mouseHooks:Ae.test(i)?this.keyHooks:{}),o=a.props?this.props.concat(a.props):this.props,e=new ie.Event(r),t=o.length;t--;)n=o[t],e[n]=r[n];return e.target||(e.target=r.srcElement||he),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,r):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,o,i,r=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(o=e.target.ownerDocument||he,i=o.documentElement,n=o.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===r||(e.which=1&r?1:2&r?3:4&r?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==h()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ie.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return ie.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,o){var i=ie.extend(new ie.Event,n,{type:e,isSimulated:!0,originalEvent:{}});o?ie.event.trigger(i,null,t):ie.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},ie.removeEvent=he.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var o="on"+t;e.detachEvent&&(typeof e[o]===Ce&&(e[o]=null),e.detachEvent(o,n))},ie.Event=function(e,t){return this instanceof ie.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?p:f):this.type=e,t&&ie.extend(this,t),this.timeStamp=e&&e.timeStamp||ie.now(),void(this[ie.expando]=!0)):new ie.Event(e,t)},ie.Event.prototype={isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=p,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=p,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=p,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},ie.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ie.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,o=this,i=e.relatedTarget,r=e.handleObj;return(!i||i!==o&&!ie.contains(o,i))&&(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}}),ne.submitBubbles||(ie.event.special.submit={setup:function(){return ie.nodeName(this,"form")?!1:void ie.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=ie.nodeName(t,"input")||ie.nodeName(t,"button")?t.form:void 0;n&&!ie._data(n,"submitBubbles")&&(ie.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),ie._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ie.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return ie.nodeName(this,"form")?!1:void ie.event.remove(this,"._submit")}}),ne.changeBubbles||(ie.event.special.change={setup:function(){return Ee.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ie.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ie.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ie.event.simulate("change",this,e,!0)})),!1):void ie.event.add(this,"beforeactivate._change",function(e){var t=e.target;Ee.test(t.nodeName)&&!ie._data(t,"changeBubbles")&&(ie.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ie.event.simulate("change",this.parentNode,e,!0)}),ie._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ie.event.remove(this,"._change"),!Ee.test(this.nodeName)}}),ne.focusinBubbles||ie.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){ie.event.simulate(t,e.target,ie.event.fix(e),!0)};ie.event.special[t]={setup:function(){var o=this.ownerDocument||this,i=ie._data(o,t);i||o.addEventListener(e,n,!0),ie._data(o,t,(i||0)+1)},teardown:function(){var o=this.ownerDocument||this,i=ie._data(o,t)-1;i?ie._data(o,t,i):(o.removeEventListener(e,n,!0),ie._removeData(o,t))}}}),ie.fn.extend({on:function(e,t,n,o,i){var r,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(r in e)this.on(r,t,n,e[r],i);return this}if(null==n&&null==o?(o=t,n=t=void 0):null==o&&("string"==typeof t?(o=n,n=void 0):(o=n,n=t,t=void 0)),o===!1)o=f;else if(!o)return this;return 1===i&&(a=o,o=function(e){return ie().off(e),a.apply(this,arguments)},o.guid=a.guid||(a.guid=ie.guid++)),this.each(function(){ie.event.add(this,e,o,n,t)})},one:function(e,t,n,o){return this.on(e,t,n,o,1)},off:function(e,t,n){var o,i;if(e&&e.preventDefault&&e.handleObj)return o=e.handleObj,ie(e.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=f),this.each(function(){ie.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){ie.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?ie.event.trigger(e,t,n,!0):void 0}});var Ne="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Re=/ jQuery\d+="(?:null|\d+)"/g,Be=new RegExp("<(?:"+Ne+")[\\s/>]","i"),je=/^\s+/,Fe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,He=/<([\w:]+)/,Ue=/<tbody/i,Ve=/<|&#?\w+;/,qe=/<(?:script|style|link)/i,We=/checked\s*(?:[^=]|=\s*.checked.)/i,ze=/^$|\/(?:java|ecma)script/i,Ye=/^true\/(.*)/,Ge=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Xe={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ne.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Qe=m(he),Ze=Qe.appendChild(he.createElement("div"));Xe.optgroup=Xe.option,Xe.tbody=Xe.tfoot=Xe.colgroup=Xe.caption=Xe.thead,Xe.th=Xe.td,ie.extend({clone:function(e,t,n){var o,i,r,a,s,l=ie.contains(e.ownerDocument,e);if(ne.html5Clone||ie.isXMLDoc(e)||!Be.test("<"+e.nodeName+">")?r=e.cloneNode(!0):(Ze.innerHTML=e.outerHTML,Ze.removeChild(r=Ze.firstChild)),!(ne.noCloneEvent&&ne.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ie.isXMLDoc(e)))for(o=g(r),s=g(e),a=0;null!=(i=s[a]);++a)o[a]&&C(i,o[a]);if(t)if(n)for(s=s||g(e),o=o||g(r),a=0;null!=(i=s[a]);a++)x(i,o[a]);else x(e,r);return o=g(r,"script"),o.length>0&&b(o,!l&&g(e,"script")),o=s=i=null,r},buildFragment:function(e,t,n,o){for(var i,r,a,s,l,c,u,d=e.length,p=m(t),f=[],h=0;d>h;h++)if(r=e[h],r||0===r)if("object"===ie.type(r))ie.merge(f,r.nodeType?[r]:r);else if(Ve.test(r)){for(s=s||p.appendChild(t.createElement("div")),l=(He.exec(r)||["",""])[1].toLowerCase(),u=Xe[l]||Xe._default,s.innerHTML=u[1]+r.replace(Fe,"<$1></$2>")+u[2],i=u[0];i--;)s=s.lastChild;if(!ne.leadingWhitespace&&je.test(r)&&f.push(t.createTextNode(je.exec(r)[0])),!ne.tbody)for(r="table"!==l||Ue.test(r)?"<table>"!==u[1]||Ue.test(r)?0:s:s.firstChild,i=r&&r.childNodes.length;i--;)ie.nodeName(c=r.childNodes[i],"tbody")&&!c.childNodes.length&&r.removeChild(c);for(ie.merge(f,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=p.lastChild}else f.push(t.createTextNode(r));for(s&&p.removeChild(s),ne.appendChecked||ie.grep(g(f,"input"),v),h=0;r=f[h++];)if((!o||-1===ie.inArray(r,o))&&(a=ie.contains(r.ownerDocument,r),s=g(p.appendChild(r),"script"),a&&b(s),n))for(i=0;r=s[i++];)ze.test(r.type||"")&&n.push(r);return s=null,p},cleanData:function(e,t){for(var n,o,i,r,a=0,s=ie.expando,l=ie.cache,c=ne.deleteExpando,u=ie.event.special;null!=(n=e[a]);a++)if((t||ie.acceptData(n))&&(i=n[s],r=i&&l[i])){if(r.events)for(o in r.events)u[o]?ie.event.remove(n,o):ie.removeEvent(n,o,r.handle);l[i]&&(delete l[i],c?delete n[s]:typeof n.removeAttribute!==Ce?n.removeAttribute(s):n[s]=null,G.push(i))}}}),ie.fn.extend({text:function(e){return Me(this,function(e){return void 0===e?ie.text(this):this.empty().append((this[0]&&this[0].ownerDocument||he).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,o=e?ie.filter(e,this):this,i=0;null!=(n=o[i]);i++)t||1!==n.nodeType||ie.cleanData(g(n)),n.parentNode&&(t&&ie.contains(n.ownerDocument,n)&&b(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ie.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ie.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ie.clone(this,e,t)})},html:function(e){return Me(this,function(e){var t=this[0]||{},n=0,o=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Re,""):void 0;if(!("string"!=typeof e||qe.test(e)||!ne.htmlSerialize&&Be.test(e)||!ne.leadingWhitespace&&je.test(e)||Xe[(He.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Fe,"<$1></$2>");try{for(;o>n;n++)t=this[n]||{},1===t.nodeType&&(ie.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,ie.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=Q.apply([],e);var n,o,i,r,a,s,l=0,c=this.length,u=this,d=c-1,p=e[0],f=ie.isFunction(p);if(f||c>1&&"string"==typeof p&&!ne.checkClone&&We.test(p))return this.each(function(n){var o=u.eq(n);f&&(e[0]=p.call(this,n,o.html())),o.domManip(e,t)});if(c&&(s=ie.buildFragment(e,this[0].ownerDocument,!1,this),n=s.firstChild,1===s.childNodes.length&&(s=n),n)){for(r=ie.map(g(s,"script"),w),i=r.length;c>l;l++)o=s,l!==d&&(o=ie.clone(o,!0,!0),i&&ie.merge(r,g(o,"script"))),t.call(this[l],o,l);if(i)for(a=r[r.length-1].ownerDocument,ie.map(r,$),l=0;i>l;l++)o=r[l],ze.test(o.type||"")&&!ie._data(o,"globalEval")&&ie.contains(a,o)&&(o.src?ie._evalUrl&&ie._evalUrl(o.src):ie.globalEval((o.text||o.textContent||o.innerHTML||"").replace(Ge,"")));s=n=null}return this}}),ie.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ie.fn[e]=function(e){for(var n,o=0,i=[],r=ie(e),a=r.length-1;a>=o;o++)n=o===a?this:this.clone(!0),ie(r[o])[t](n),Z.apply(i,n.get());return this.pushStack(i)}});var Ke,Je={};!function(){var e;ne.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,o;return n=he.getElementsByTagName("body")[0],n&&n.style?(t=he.createElement("div"),o=he.createElement("div"),o.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(o).appendChild(t),typeof t.style.zoom!==Ce&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(he.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(o),e):void 0}}();var et,tt,nt=/^margin/,ot=new RegExp("^("+ke+")(?!px)[a-z%]+$","i"),it=/^(top|right|bottom|left)$/;e.getComputedStyle?(et=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)},tt=function(e,t,n){var o,i,r,a,s=e.style;return n=n||et(e),a=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==a||ie.contains(e.ownerDocument,e)||(a=ie.style(e,t)),ot.test(a)&&nt.test(t)&&(o=s.width,i=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=o,s.minWidth=i,s.maxWidth=r)),
void 0===a?a:a+""}):he.documentElement.currentStyle&&(et=function(e){return e.currentStyle},tt=function(e,t,n){var o,i,r,a,s=e.style;return n=n||et(e),a=n?n[t]:void 0,null==a&&s&&s[t]&&(a=s[t]),ot.test(a)&&!it.test(t)&&(o=s.left,i=e.runtimeStyle,r=i&&i.left,r&&(i.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=o,r&&(i.left=r)),void 0===a?a:a+""||"auto"}),!function(){function t(){var t,n,o,i;n=he.getElementsByTagName("body")[0],n&&n.style&&(t=he.createElement("div"),o=he.createElement("div"),o.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(o).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",r=a=!1,l=!0,e.getComputedStyle&&(r="1%"!==(e.getComputedStyle(t,null)||{}).top,a="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,i=t.appendChild(he.createElement("div")),i.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",t.style.width="1px",l=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=t.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",s=0===i[0].offsetHeight,s&&(i[0].style.display="",i[1].style.display="none",s=0===i[0].offsetHeight),n.removeChild(o))}var n,o,i,r,a,s,l;n=he.createElement("div"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=n.getElementsByTagName("a")[0],(o=i&&i.style)&&(o.cssText="float:left;opacity:.5",ne.opacity="0.5"===o.opacity,ne.cssFloat=!!o.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",ne.clearCloneStyle="content-box"===n.style.backgroundClip,ne.boxSizing=""===o.boxSizing||""===o.MozBoxSizing||""===o.WebkitBoxSizing,ie.extend(ne,{reliableHiddenOffsets:function(){return null==s&&t(),s},boxSizingReliable:function(){return null==a&&t(),a},pixelPosition:function(){return null==r&&t(),r},reliableMarginRight:function(){return null==l&&t(),l}}))}(),ie.swap=function(e,t,n,o){var i,r,a={};for(r in t)a[r]=e.style[r],e.style[r]=t[r];i=n.apply(e,o||[]);for(r in t)e.style[r]=a[r];return i};var rt=/alpha\([^)]*\)/i,at=/opacity\s*=\s*([^)]*)/,st=/^(none|table(?!-c[ea]).+)/,lt=new RegExp("^("+ke+")(.*)$","i"),ct=new RegExp("^([+-])=("+ke+")","i"),ut={position:"absolute",visibility:"hidden",display:"block"},dt={letterSpacing:"0",fontWeight:"400"},pt=["Webkit","O","Moz","ms"];ie.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=tt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ne.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,o){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,r,a,s=ie.camelCase(t),l=e.style;if(t=ie.cssProps[s]||(ie.cssProps[s]=T(l,s)),a=ie.cssHooks[t]||ie.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,o))?i:l[t];if(r=typeof n,"string"===r&&(i=ct.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(ie.css(e,t)),r="number"),null!=n&&n===n&&("number"!==r||ie.cssNumber[s]||(n+="px"),ne.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(e,n,o)))))try{l[t]=n}catch(c){}}},css:function(e,t,n,o){var i,r,a,s=ie.camelCase(t);return t=ie.cssProps[s]||(ie.cssProps[s]=T(e.style,s)),a=ie.cssHooks[t]||ie.cssHooks[s],a&&"get"in a&&(r=a.get(e,!0,n)),void 0===r&&(r=tt(e,t,o)),"normal"===r&&t in dt&&(r=dt[t]),""===n||n?(i=parseFloat(r),n===!0||ie.isNumeric(i)?i||0:r):r}}),ie.each(["height","width"],function(e,t){ie.cssHooks[t]={get:function(e,n,o){return n?st.test(ie.css(e,"display"))&&0===e.offsetWidth?ie.swap(e,ut,function(){return E(e,t,o)}):E(e,t,o):void 0},set:function(e,n,o){var i=o&&et(e);return M(e,n,o?D(e,t,o,ne.boxSizing&&"border-box"===ie.css(e,"boxSizing",!1,i),i):0)}}}),ne.opacity||(ie.cssHooks.opacity={get:function(e,t){return at.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,o=e.currentStyle,i=ie.isNumeric(t)?"alpha(opacity="+100*t+")":"",r=o&&o.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===ie.trim(r.replace(rt,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||o&&!o.filter)||(n.filter=rt.test(r)?r.replace(rt,i):r+" "+i)}}),ie.cssHooks.marginRight=k(ne.reliableMarginRight,function(e,t){return t?ie.swap(e,{display:"inline-block"},tt,[e,"marginRight"]):void 0}),ie.each({margin:"",padding:"",border:"Width"},function(e,t){ie.cssHooks[e+t]={expand:function(n){for(var o=0,i={},r="string"==typeof n?n.split(" "):[n];4>o;o++)i[e+Te[o]+t]=r[o]||r[o-2]||r[0];return i}},nt.test(e)||(ie.cssHooks[e+t].set=M)}),ie.fn.extend({css:function(e,t){return Me(this,function(e,t,n){var o,i,r={},a=0;if(ie.isArray(t)){for(o=et(e),i=t.length;i>a;a++)r[t[a]]=ie.css(e,t[a],!1,o);return r}return void 0!==n?ie.style(e,t,n):ie.css(e,t)},e,t,arguments.length>1)},show:function(){return P(this,!0)},hide:function(){return P(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Pe(this)?ie(this).show():ie(this).hide()})}}),ie.Tween=A,A.prototype={constructor:A,init:function(e,t,n,o,i,r){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=o,this.unit=r||(ie.cssNumber[n]?"":"px")},cur:function(){var e=A.propHooks[this.prop];return e&&e.get?e.get(this):A.propHooks._default.get(this)},run:function(e){var t,n=A.propHooks[this.prop];return this.pos=t=this.options.duration?ie.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):A.propHooks._default.set(this),this}},A.prototype.init.prototype=A.prototype,A.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ie.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ie.fx.step[e.prop]?ie.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ie.cssProps[e.prop]]||ie.cssHooks[e.prop])?ie.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},A.propHooks.scrollTop=A.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ie.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ie.fx=A.prototype.init,ie.fx.step={};var ft,ht,mt=/^(?:toggle|show|hide)$/,gt=new RegExp("^(?:([+-])=|)("+ke+")([a-z%]*)$","i"),vt=/queueHooks$/,yt=[N],wt={"*":[function(e,t){var n=this.createTween(e,t),o=n.cur(),i=gt.exec(t),r=i&&i[3]||(ie.cssNumber[e]?"":"px"),a=(ie.cssNumber[e]||"px"!==r&&+o)&&gt.exec(ie.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==r){r=r||a[3],i=i||[],a=+o||1;do s=s||".5",a/=s,ie.style(n.elem,e,a+r);while(s!==(s=n.cur()/o)&&1!==s&&--l)}return i&&(a=n.start=+a||+o||0,n.unit=r,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};ie.Animation=ie.extend(B,{tweener:function(e,t){ie.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,o=0,i=e.length;i>o;o++)n=e[o],wt[n]=wt[n]||[],wt[n].unshift(t)},prefilter:function(e,t){t?yt.unshift(e):yt.push(e)}}),ie.speed=function(e,t,n){var o=e&&"object"==typeof e?ie.extend({},e):{complete:n||!n&&t||ie.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ie.isFunction(t)&&t};return o.duration=ie.fx.off?0:"number"==typeof o.duration?o.duration:o.duration in ie.fx.speeds?ie.fx.speeds[o.duration]:ie.fx.speeds._default,(null==o.queue||o.queue===!0)&&(o.queue="fx"),o.old=o.complete,o.complete=function(){ie.isFunction(o.old)&&o.old.call(this),o.queue&&ie.dequeue(this,o.queue)},o},ie.fn.extend({fadeTo:function(e,t,n,o){return this.filter(Pe).css("opacity",0).show().end().animate({opacity:t},e,n,o)},animate:function(e,t,n,o){var i=ie.isEmptyObject(e),r=ie.speed(t,n,o),a=function(){var t=B(this,ie.extend({},e),r);(i||ie._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||r.queue===!1?this.each(a):this.queue(r.queue,a)},stop:function(e,t,n){var o=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",r=ie.timers,a=ie._data(this);if(i)a[i]&&a[i].stop&&o(a[i]);else for(i in a)a[i]&&a[i].stop&&vt.test(i)&&o(a[i]);for(i=r.length;i--;)r[i].elem!==this||null!=e&&r[i].queue!==e||(r[i].anim.stop(n),t=!1,r.splice(i,1));(t||!n)&&ie.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ie._data(this),o=n[e+"queue"],i=n[e+"queueHooks"],r=ie.timers,a=o?o.length:0;for(n.finish=!0,ie.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;a>t;t++)o[t]&&o[t].finish&&o[t].finish.call(this);delete n.finish})}}),ie.each(["toggle","show","hide"],function(e,t){var n=ie.fn[t];ie.fn[t]=function(e,o,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(L(t,!0),e,o,i)}}),ie.each({slideDown:L("show"),slideUp:L("hide"),slideToggle:L("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ie.fn[e]=function(e,n,o){return this.animate(t,e,n,o)}}),ie.timers=[],ie.fx.tick=function(){var e,t=ie.timers,n=0;for(ft=ie.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||ie.fx.stop(),ft=void 0},ie.fx.timer=function(e){ie.timers.push(e),e()?ie.fx.start():ie.timers.pop()},ie.fx.interval=13,ie.fx.start=function(){ht||(ht=setInterval(ie.fx.tick,ie.fx.interval))},ie.fx.stop=function(){clearInterval(ht),ht=null},ie.fx.speeds={slow:600,fast:200,_default:400},ie.fn.delay=function(e,t){return e=ie.fx?ie.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var o=setTimeout(t,e);n.stop=function(){clearTimeout(o)}})},function(){var e,t,n,o,i;t=he.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",o=t.getElementsByTagName("a")[0],n=he.createElement("select"),i=n.appendChild(he.createElement("option")),e=t.getElementsByTagName("input")[0],o.style.cssText="top:1px",ne.getSetAttribute="t"!==t.className,ne.style=/top/.test(o.getAttribute("style")),ne.hrefNormalized="/a"===o.getAttribute("href"),ne.checkOn=!!e.value,ne.optSelected=i.selected,ne.enctype=!!he.createElement("form").enctype,n.disabled=!0,ne.optDisabled=!i.disabled,e=he.createElement("input"),e.setAttribute("value",""),ne.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),ne.radioValue="t"===e.value}();var $t=/\r/g;ie.fn.extend({val:function(e){var t,n,o,i=this[0];return arguments.length?(o=ie.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=o?e.call(this,n,ie(this).val()):e,null==i?i="":"number"==typeof i?i+="":ie.isArray(i)&&(i=ie.map(i,function(e){return null==e?"":e+""})),t=ie.valHooks[this.type]||ie.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=ie.valHooks[i.type]||ie.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace($t,""):null==n?"":n)):void 0}}),ie.extend({valHooks:{option:{get:function(e){var t=ie.find.attr(e,"value");return null!=t?t:ie.trim(ie.text(e))}},select:{get:function(e){for(var t,n,o=e.options,i=e.selectedIndex,r="select-one"===e.type||0>i,a=r?null:[],s=r?i+1:o.length,l=0>i?s:r?i:0;s>l;l++)if(n=o[l],!(!n.selected&&l!==i||(ne.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&ie.nodeName(n.parentNode,"optgroup"))){if(t=ie(n).val(),r)return t;a.push(t)}return a},set:function(e,t){for(var n,o,i=e.options,r=ie.makeArray(t),a=i.length;a--;)if(o=i[a],ie.inArray(ie.valHooks.option.get(o),r)>=0)try{o.selected=n=!0}catch(s){o.scrollHeight}else o.selected=!1;return n||(e.selectedIndex=-1),i}}}}),ie.each(["radio","checkbox"],function(){ie.valHooks[this]={set:function(e,t){return ie.isArray(t)?e.checked=ie.inArray(ie(e).val(),t)>=0:void 0}},ne.checkOn||(ie.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var bt,xt,Ct=ie.expr.attrHandle,St=/^(?:checked|selected)$/i,_t=ne.getSetAttribute,kt=ne.input;ie.fn.extend({attr:function(e,t){return Me(this,ie.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ie.removeAttr(this,e)})}}),ie.extend({attr:function(e,t,n){var o,i,r=e.nodeType;return e&&3!==r&&8!==r&&2!==r?typeof e.getAttribute===Ce?ie.prop(e,t,n):(1===r&&ie.isXMLDoc(e)||(t=t.toLowerCase(),o=ie.attrHooks[t]||(ie.expr.match.bool.test(t)?xt:bt)),void 0===n?o&&"get"in o&&null!==(i=o.get(e,t))?i:(i=ie.find.attr(e,t),null==i?void 0:i):null!==n?o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void ie.removeAttr(e,t)):void 0},removeAttr:function(e,t){var n,o,i=0,r=t&&t.match(we);if(r&&1===e.nodeType)for(;n=r[i++];)o=ie.propFix[n]||n,ie.expr.match.bool.test(n)?kt&&_t||!St.test(n)?e[o]=!1:e[ie.camelCase("default-"+n)]=e[o]=!1:ie.attr(e,n,""),e.removeAttribute(_t?n:o)},attrHooks:{type:{set:function(e,t){if(!ne.radioValue&&"radio"===t&&ie.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),xt={set:function(e,t,n){return t===!1?ie.removeAttr(e,n):kt&&_t||!St.test(n)?e.setAttribute(!_t&&ie.propFix[n]||n,n):e[ie.camelCase("default-"+n)]=e[n]=!0,n}},ie.each(ie.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Ct[t]||ie.find.attr;Ct[t]=kt&&_t||!St.test(t)?function(e,t,o){var i,r;return o||(r=Ct[t],Ct[t]=i,i=null!=n(e,t,o)?t.toLowerCase():null,Ct[t]=r),i}:function(e,t,n){return n?void 0:e[ie.camelCase("default-"+t)]?t.toLowerCase():null}}),kt&&_t||(ie.attrHooks.value={set:function(e,t,n){return ie.nodeName(e,"input")?void(e.defaultValue=t):bt&&bt.set(e,t,n)}}),_t||(bt={set:function(e,t,n){var o=e.getAttributeNode(n);return o||e.setAttributeNode(o=e.ownerDocument.createAttribute(n)),o.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},Ct.id=Ct.name=Ct.coords=function(e,t,n){var o;return n?void 0:(o=e.getAttributeNode(t))&&""!==o.value?o.value:null},ie.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:bt.set},ie.attrHooks.contenteditable={set:function(e,t,n){bt.set(e,""===t?!1:t,n)}},ie.each(["width","height"],function(e,t){ie.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),ne.style||(ie.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Tt=/^(?:input|select|textarea|button|object)$/i,Pt=/^(?:a|area)$/i;ie.fn.extend({prop:function(e,t){return Me(this,ie.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ie.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),ie.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var o,i,r,a=e.nodeType;return e&&3!==a&&8!==a&&2!==a?(r=1!==a||!ie.isXMLDoc(e),r&&(t=ie.propFix[t]||t,i=ie.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(o=i.set(e,n,t))?o:e[t]=n:i&&"get"in i&&null!==(o=i.get(e,t))?o:e[t]):void 0},propHooks:{tabIndex:{get:function(e){var t=ie.find.attr(e,"tabindex");return t?parseInt(t,10):Tt.test(e.nodeName)||Pt.test(e.nodeName)&&e.href?0:-1}}}}),ne.hrefNormalized||ie.each(["href","src"],function(e,t){ie.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ne.optSelected||(ie.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),ie.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ie.propFix[this.toLowerCase()]=this}),ne.enctype||(ie.propFix.enctype="encoding");var Mt=/[\t\r\n\f]/g;ie.fn.extend({addClass:function(e){var t,n,o,i,r,a,s=0,l=this.length,c="string"==typeof e&&e;if(ie.isFunction(e))return this.each(function(t){ie(this).addClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(we)||[];l>s;s++)if(n=this[s],o=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Mt," "):" ")){for(r=0;i=t[r++];)o.indexOf(" "+i+" ")<0&&(o+=i+" ");a=ie.trim(o),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,o,i,r,a,s=0,l=this.length,c=0===arguments.length||"string"==typeof e&&e;if(ie.isFunction(e))return this.each(function(t){ie(this).removeClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(we)||[];l>s;s++)if(n=this[s],o=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Mt," "):"")){for(r=0;i=t[r++];)for(;o.indexOf(" "+i+" ")>=0;)o=o.replace(" "+i+" "," ");a=e?ie.trim(o):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(ie.isFunction(e)?function(n){ie(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,o=0,i=ie(this),r=e.match(we)||[];t=r[o++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===Ce||"boolean"===n)&&(this.className&&ie._data(this,"__className__",this.className),this.className=this.className||e===!1?"":ie._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,o=this.length;o>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Mt," ").indexOf(t)>=0)return!0;return!1}}),ie.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ie.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ie.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,o){return this.on(t,e,n,o)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Dt=ie.now(),Et=/\?/,At=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ie.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,o=null,i=ie.trim(t+"");return i&&!ie.trim(i.replace(At,function(e,t,i,r){return n&&t&&(o=0),0===o?e:(n=i||t,o+=!r-!i,"")}))?Function("return "+i)():ie.error("Invalid JSON: "+t)},ie.parseXML=function(t){var n,o;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(o=new DOMParser,n=o.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(i){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||ie.error("Invalid XML: "+t),n};var It,Lt,Ot=/#.*$/,Nt=/([?&])_=[^&]*/,Rt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Bt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,jt=/^(?:GET|HEAD)$/,Ft=/^\/\//,Ht=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Ut={},Vt={},qt="*/".concat("*");try{Lt=location.href}catch(Wt){Lt=he.createElement("a"),Lt.href="",Lt=Lt.href}It=Ht.exec(Lt.toLowerCase())||[],ie.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Lt,type:"GET",isLocal:Bt.test(It[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":qt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ie.parseJSON,"text xml":ie.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?H(H(e,ie.ajaxSettings),t):H(ie.ajaxSettings,e)},ajaxPrefilter:j(Ut),ajaxTransport:j(Vt),ajax:function(e,t){function n(e,t,n,o){var i,u,v,y,$,x=t;2!==w&&(w=2,s&&clearTimeout(s),c=void 0,a=o||"",b.readyState=e>0?4:0,i=e>=200&&300>e||304===e,n&&(y=U(d,b,n)),y=V(d,y,b,i),i?(d.ifModified&&($=b.getResponseHeader("Last-Modified"),$&&(ie.lastModified[r]=$),$=b.getResponseHeader("etag"),$&&(ie.etag[r]=$)),204===e||"HEAD"===d.type?x="nocontent":304===e?x="notmodified":(x=y.state,u=y.data,v=y.error,i=!v)):(v=x,(e||!x)&&(x="error",0>e&&(e=0))),b.status=e,b.statusText=(t||x)+"",i?h.resolveWith(p,[u,x,b]):h.rejectWith(p,[b,x,v]),b.statusCode(g),g=void 0,l&&f.trigger(i?"ajaxSuccess":"ajaxError",[b,d,i?u:v]),m.fireWith(p,[b,x]),l&&(f.trigger("ajaxComplete",[b,d]),--ie.active||ie.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var o,i,r,a,s,l,c,u,d=ie.ajaxSetup({},t),p=d.context||d,f=d.context&&(p.nodeType||p.jquery)?ie(p):ie.event,h=ie.Deferred(),m=ie.Callbacks("once memory"),g=d.statusCode||{},v={},y={},w=0,$="canceled",b={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!u)for(u={};t=Rt.exec(a);)u[t[1].toLowerCase()]=t[2];t=u[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return w||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return w||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>w)for(t in e)g[t]=[g[t],e[t]];else b.always(e[b.status]);return this},abort:function(e){var t=e||$;return c&&c.abort(t),n(0,t),this}};if(h.promise(b).complete=m.add,b.success=b.done,b.error=b.fail,d.url=((e||d.url||Lt)+"").replace(Ot,"").replace(Ft,It[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=ie.trim(d.dataType||"*").toLowerCase().match(we)||[""],null==d.crossDomain&&(o=Ht.exec(d.url.toLowerCase()),d.crossDomain=!(!o||o[1]===It[1]&&o[2]===It[2]&&(o[3]||("http:"===o[1]?"80":"443"))===(It[3]||("http:"===It[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ie.param(d.data,d.traditional)),F(Ut,d,t,b),2===w)return b;l=d.global,l&&0===ie.active++&&ie.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!jt.test(d.type),r=d.url,d.hasContent||(d.data&&(r=d.url+=(Et.test(r)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=Nt.test(r)?r.replace(Nt,"$1_="+Dt++):r+(Et.test(r)?"&":"?")+"_="+Dt++)),d.ifModified&&(ie.lastModified[r]&&b.setRequestHeader("If-Modified-Since",ie.lastModified[r]),ie.etag[r]&&b.setRequestHeader("If-None-Match",ie.etag[r])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&b.setRequestHeader("Content-Type",d.contentType),b.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+qt+"; q=0.01":""):d.accepts["*"]);for(i in d.headers)b.setRequestHeader(i,d.headers[i]);if(d.beforeSend&&(d.beforeSend.call(p,b,d)===!1||2===w))return b.abort();$="abort";for(i in{success:1,error:1,complete:1})b[i](d[i]);if(c=F(Vt,d,t,b)){b.readyState=1,l&&f.trigger("ajaxSend",[b,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){b.abort("timeout")},d.timeout));try{w=1,c.send(v,n)}catch(x){if(!(2>w))throw x;n(-1,x)}}else n(-1,"No Transport");return b},getJSON:function(e,t,n){return ie.get(e,t,n,"json")},getScript:function(e,t){return ie.get(e,void 0,t,"script")}}),ie.each(["get","post"],function(e,t){ie[t]=function(e,n,o,i){return ie.isFunction(n)&&(i=i||o,o=n,n=void 0),ie.ajax({url:e,type:t,dataType:i,data:n,success:o})}}),ie.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ie.fn[t]=function(e){return this.on(t,e)}}),ie._evalUrl=function(e){return ie.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ie.fn.extend({wrapAll:function(e){if(ie.isFunction(e))return this.each(function(t){ie(this).wrapAll(e.call(this,t))});if(this[0]){var t=ie(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(ie.isFunction(e)?function(t){ie(this).wrapInner(e.call(this,t))}:function(){var t=ie(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ie.isFunction(e);return this.each(function(n){ie(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ie.nodeName(this,"body")||ie(this).replaceWith(this.childNodes)}).end()}}),ie.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ne.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||ie.css(e,"display"))},ie.expr.filters.visible=function(e){return!ie.expr.filters.hidden(e)};var zt=/%20/g,Yt=/\[\]$/,Gt=/\r?\n/g,Xt=/^(?:submit|button|image|reset|file)$/i,Qt=/^(?:input|select|textarea|keygen)/i;ie.param=function(e,t){var n,o=[],i=function(e,t){t=ie.isFunction(t)?t():null==t?"":t,o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=ie.ajaxSettings&&ie.ajaxSettings.traditional),ie.isArray(e)||e.jquery&&!ie.isPlainObject(e))ie.each(e,function(){i(this.name,this.value)});else for(n in e)q(n,e[n],t,i);return o.join("&").replace(zt,"+")},ie.fn.extend({serialize:function(){return ie.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ie.prop(this,"elements");return e?ie.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ie(this).is(":disabled")&&Qt.test(this.nodeName)&&!Xt.test(e)&&(this.checked||!De.test(e))}).map(function(e,t){var n=ie(this).val();return null==n?null:ie.isArray(n)?ie.map(n,function(e){return{name:t.name,value:e.replace(Gt,"\r\n")}}):{name:t.name,value:n.replace(Gt,"\r\n")}}).get()}}),ie.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&W()||z()}:W;var Zt=0,Kt={},Jt=ie.ajaxSettings.xhr();e.ActiveXObject&&ie(e).on("unload",function(){for(var e in Kt)Kt[e](void 0,!0)}),ne.cors=!!Jt&&"withCredentials"in Jt,Jt=ne.ajax=!!Jt,Jt&&ie.ajaxTransport(function(e){if(!e.crossDomain||ne.cors){var t;return{send:function(n,o){var i,r=e.xhr(),a=++Zt;if(r.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)r[i]=e.xhrFields[i];e.mimeType&&r.overrideMimeType&&r.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)void 0!==n[i]&&r.setRequestHeader(i,n[i]+"");r.send(e.hasContent&&e.data||null),t=function(n,i){var s,l,c;if(t&&(i||4===r.readyState))if(delete Kt[a],t=void 0,r.onreadystatechange=ie.noop,i)4!==r.readyState&&r.abort();else{c={},s=r.status,"string"==typeof r.responseText&&(c.text=r.responseText);try{l=r.statusText}catch(u){l=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=c.text?200:404}c&&o(s,l,c,r.getAllResponseHeaders())},e.async?4===r.readyState?setTimeout(t):r.onreadystatechange=Kt[a]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),ie.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ie.globalEval(e),e}}}),ie.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ie.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=he.head||ie("head")[0]||he.documentElement;return{send:function(o,i){t=he.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||i(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var en=[],tn=/(=)\?(?=&|$)|\?\?/;ie.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=en.pop()||ie.expando+"_"+Dt++;return this[e]=!0,e}}),ie.ajaxPrefilter("json jsonp",function(t,n,o){var i,r,a,s=t.jsonp!==!1&&(tn.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&tn.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=ie.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(tn,"$1"+i):t.jsonp!==!1&&(t.url+=(Et.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||ie.error(i+" was not called"),a[0]},t.dataTypes[0]="json",r=e[i],e[i]=function(){a=arguments},o.always(function(){e[i]=r,t[i]&&(t.jsonpCallback=n.jsonpCallback,en.push(i)),a&&ie.isFunction(r)&&r(a[0]),a=r=void 0}),"script"):void 0}),ie.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||he;var o=de.exec(e),i=!n&&[];return o?[t.createElement(o[1])]:(o=ie.buildFragment([e],t,i),i&&i.length&&ie(i).remove(),ie.merge([],o.childNodes))};var nn=ie.fn.load;ie.fn.load=function(e,t,n){if("string"!=typeof e&&nn)return nn.apply(this,arguments);var o,i,r,a=this,s=e.indexOf(" ");return s>=0&&(o=ie.trim(e.slice(s,e.length)),e=e.slice(0,s)),ie.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&ie.ajax({url:e,type:r,dataType:"html",data:t}).done(function(e){i=arguments,a.html(o?ie("<div>").append(ie.parseHTML(e)).find(o):e)}).complete(n&&function(e,t){a.each(n,i||[e.responseText,t,e])}),this},ie.expr.filters.animated=function(e){return ie.grep(ie.timers,function(t){return e===t.elem}).length};var on=e.document.documentElement;ie.offset={setOffset:function(e,t,n){var o,i,r,a,s,l,c,u=ie.css(e,"position"),d=ie(e),p={};"static"===u&&(e.style.position="relative"),s=d.offset(),r=ie.css(e,"top"),l=ie.css(e,"left"),c=("absolute"===u||"fixed"===u)&&ie.inArray("auto",[r,l])>-1,c?(o=d.position(),a=o.top,i=o.left):(a=parseFloat(r)||0,i=parseFloat(l)||0),ie.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(p.top=t.top-s.top+a),null!=t.left&&(p.left=t.left-s.left+i),"using"in t?t.using.call(e,p):d.css(p)}},ie.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ie.offset.setOffset(this,e,t)});var t,n,o={top:0,left:0},i=this[0],r=i&&i.ownerDocument;return r?(t=r.documentElement,ie.contains(t,i)?(typeof i.getBoundingClientRect!==Ce&&(o=i.getBoundingClientRect()),n=Y(r),{top:o.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:o.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):o):void 0},position:function(){if(this[0]){var e,t,n={top:0,left:0},o=this[0];return"fixed"===ie.css(o,"position")?t=o.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ie.nodeName(e[0],"html")||(n=e.offset()),n.top+=ie.css(e[0],"borderTopWidth",!0),n.left+=ie.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-ie.css(o,"marginTop",!0),left:t.left-n.left-ie.css(o,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||on;e&&!ie.nodeName(e,"html")&&"static"===ie.css(e,"position");)e=e.offsetParent;return e||on})}}),ie.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);ie.fn[e]=function(o){return Me(this,function(e,o,i){var r=Y(e);return void 0===i?r?t in r?r[t]:r.document.documentElement[o]:e[o]:void(r?r.scrollTo(n?ie(r).scrollLeft():i,n?i:ie(r).scrollTop()):e[o]=i)},e,o,arguments.length,null)}}),ie.each(["top","left"],function(e,t){ie.cssHooks[t]=k(ne.pixelPosition,function(e,n){return n?(n=tt(e,t),ot.test(n)?ie(e).position()[t]+"px":n):void 0})}),ie.each({Height:"height",Width:"width"},function(e,t){ie.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,o){ie.fn[o]=function(o,i){var r=arguments.length&&(n||"boolean"!=typeof o),a=n||(o===!0||i===!0?"margin":"border");return Me(this,function(t,n,o){var i;return ie.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===o?ie.css(t,n,a):ie.style(t,n,o,a);
},t,r?o:void 0,r,null)}})}),ie.fn.size=function(){return this.length},ie.fn.andSelf=ie.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ie});var rn=e.jQuery,an=e.$;return ie.noConflict=function(t){return e.$===ie&&(e.$=an),t&&e.jQuery===ie&&(e.jQuery=rn),ie},typeof t===Ce&&(e.jQuery=e.$=ie),ie}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var a=t||window.event,s=l.call(arguments,1),c=0,d=0,p=0,f=0,h=0,m=0;if(t=e.event.fix(a),t.type="mousewheel","detail"in a&&(p=-1*a.detail),"wheelDelta"in a&&(p=a.wheelDelta),"wheelDeltaY"in a&&(p=a.wheelDeltaY),"wheelDeltaX"in a&&(d=-1*a.wheelDeltaX),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(d=-1*p,p=0),c=0===p?d:p,"deltaY"in a&&(p=-1*a.deltaY,c=p),"deltaX"in a&&(d=a.deltaX,0===p&&(c=-1*d)),0!==p||0!==d){if(1===a.deltaMode){var g=e.data(this,"mousewheel-line-height");c*=g,p*=g,d*=g}else if(2===a.deltaMode){var v=e.data(this,"mousewheel-page-height");c*=v,p*=v,d*=v}if(f=Math.max(Math.abs(p),Math.abs(d)),(!r||r>f)&&(r=f,o(a,f)&&(r/=40)),o(a,f)&&(c/=40,d/=40,p/=40),c=Math[c>=1?"floor":"ceil"](c/r),d=Math[d>=1?"floor":"ceil"](d/r),p=Math[p>=1?"floor":"ceil"](p/r),u.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();h=t.clientX-y.left,m=t.clientY-y.top}return t.deltaX=d,t.deltaY=p,t.deltaFactor=r,t.offsetX=h,t.offsetY=m,t.deltaMode=0,s.unshift(t,c,d,p),i&&clearTimeout(i),i=setTimeout(n,200),(e.event.dispatch||e.event.handle).apply(this,s)}}function n(){r=null}function o(e,t){return u.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var i,r,a=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var c=a.length;c;)e.event.fixHooks[a[--c]]=e.event.mouseHooks;var u=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=s.length;n;)this.addEventListener(s[--n],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",u.getLineHeight(this)),e.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=s.length;n;)this.removeEventListener(s[--n],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var n=e(t),o=n["offsetParent"in e.fn?"offsetParent":"parent"]();return o.length||(o=e("body")),parseInt(o.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),!function(e){"undefined"!=typeof module&&module.exports?module.exports=e:e(jQuery,window,document)}(function(e){!function(t){var n="function"==typeof define&&define.amd,o="undefined"!=typeof module&&module.exports,i="https:"==document.location.protocol?"https:":"http:",r="cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.12/jquery.mousewheel.min.js";n||(o?require("jquery-mousewheel")(e):e.event.special.mousewheel||e("head").append(decodeURI("%3Cscript src="+i+"//"+r+"%3E%3C/script%3E"))),t()}(function(){var t,n="mCustomScrollbar",o="mCS",i=".mCustomScrollbar",r={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:!0,autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},a=0,s={},l=window.attachEvent&&!window.addEventListener?1:0,c=!1,u=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],d={init:function(t){var t=e.extend(!0,{},r,t),n=p.call(this);if(t.live){var l=t.liveSelector||this.selector||i,c=e(l);if("off"===t.live)return void h(l);s[l]=setTimeout(function(){c.mCustomScrollbar(t),"once"===t.live&&c.length&&h(l)},500)}else h(l);return t.setWidth=t.set_width?t.set_width:t.setWidth,t.setHeight=t.set_height?t.set_height:t.setHeight,t.axis=t.horizontalScroll?"x":m(t.axis),t.scrollInertia=t.scrollInertia>0&&t.scrollInertia<17?17:t.scrollInertia,"object"!=typeof t.mouseWheel&&1==t.mouseWheel&&(t.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),t.mouseWheel.scrollAmount=t.mouseWheelPixels?t.mouseWheelPixels:t.mouseWheel.scrollAmount,t.mouseWheel.normalizeDelta=t.advanced.normalizeMouseWheelDelta?t.advanced.normalizeMouseWheelDelta:t.mouseWheel.normalizeDelta,t.scrollButtons.scrollType=g(t.scrollButtons.scrollType),f(t),e(n).each(function(){var n=e(this);if(!n.data(o)){n.data(o,{idx:++a,opt:t,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:n.css("direction"),cbOffsets:null,trigger:null});var i=n.data(o),r=i.opt,s=n.data("mcs-axis"),l=n.data("mcs-scrollbar-position"),c=n.data("mcs-theme");s&&(r.axis=s),l&&(r.scrollbarPosition=l),c&&(r.theme=c,f(r)),v.call(this),e("#mCSB_"+i.idx+"_container img:not(."+u[2]+")").addClass(u[2]),d.update.call(null,n)}})},update:function(t,n){var i=t||p.call(this);return e(i).each(function(){var t=e(this);if(t.data(o)){var i=t.data(o),r=i.opt,a=e("#mCSB_"+i.idx+"_container"),s=[e("#mCSB_"+i.idx+"_dragger_vertical"),e("#mCSB_"+i.idx+"_dragger_horizontal")];if(!a.length)return;i.tweenRunning&&Y(t),t.hasClass(u[3])&&t.removeClass(u[3]),t.hasClass(u[4])&&t.removeClass(u[4]),b.call(this),w.call(this),"y"===r.axis||r.advanced.autoExpandHorizontalScroll||a.css("width",y(a.children())),i.overflowed=_.call(this),M.call(this),r.autoDraggerLength&&x.call(this),C.call(this),T.call(this);var l=[Math.abs(a[0].offsetTop),Math.abs(a[0].offsetLeft)];"x"!==r.axis&&(i.overflowed[0]?s[0].height()>s[0].parent().height()?k.call(this):(G(t,l[0].toString(),{dir:"y",dur:0,overwrite:"none"}),i.contentReset.y=null):(k.call(this),"y"===r.axis?P.call(this):"yx"===r.axis&&i.overflowed[1]&&G(t,l[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==r.axis&&(i.overflowed[1]?s[1].width()>s[1].parent().width()?k.call(this):(G(t,l[1].toString(),{dir:"x",dur:0,overwrite:"none"}),i.contentReset.x=null):(k.call(this),"x"===r.axis?P.call(this):"yx"===r.axis&&i.overflowed[0]&&G(t,l[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),n&&i&&(2===n&&r.callbacks.onImageLoad&&"function"==typeof r.callbacks.onImageLoad?r.callbacks.onImageLoad.call(this):3===n&&r.callbacks.onSelectorChange&&"function"==typeof r.callbacks.onSelectorChange?r.callbacks.onSelectorChange.call(this):r.callbacks.onUpdate&&"function"==typeof r.callbacks.onUpdate&&r.callbacks.onUpdate.call(this)),W.call(this)}})},scrollTo:function(t,n){if("undefined"!=typeof t&&null!=t){var i=p.call(this);return e(i).each(function(){var i=e(this);if(i.data(o)){var r=i.data(o),a=r.opt,s={trigger:"external",scrollInertia:a.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},l=e.extend(!0,{},s,n),c=V.call(this,t),u=l.scrollInertia>0&&l.scrollInertia<17?17:l.scrollInertia;c[0]=q.call(this,c[0],"y"),c[1]=q.call(this,c[1],"x"),l.moveDragger&&(c[0]*=r.scrollRatio.y,c[1]*=r.scrollRatio.x),l.dur=u,setTimeout(function(){null!==c[0]&&"undefined"!=typeof c[0]&&"x"!==a.axis&&r.overflowed[0]&&(l.dir="y",l.overwrite="all",G(i,c[0].toString(),l)),null!==c[1]&&"undefined"!=typeof c[1]&&"y"!==a.axis&&r.overflowed[1]&&(l.dir="x",l.overwrite="none",G(i,c[1].toString(),l))},l.timeout)}})}},stop:function(){var t=p.call(this);return e(t).each(function(){var t=e(this);t.data(o)&&Y(t)})},disable:function(t){var n=p.call(this);return e(n).each(function(){var n=e(this);n.data(o)&&(n.data(o),W.call(this,"remove"),P.call(this),t&&k.call(this),M.call(this,!0),n.addClass(u[3]))})},destroy:function(){var t=p.call(this);return e(t).each(function(){var i=e(this);if(i.data(o)){var r=i.data(o),a=r.opt,s=e("#mCSB_"+r.idx),l=e("#mCSB_"+r.idx+"_container"),c=e(".mCSB_"+r.idx+"_scrollbar");a.live&&h(a.liveSelector||e(t).selector),W.call(this,"remove"),P.call(this),k.call(this),i.removeData(o),K(this,"mcs"),c.remove(),l.find("img."+u[2]).removeClass(u[2]),s.replaceWith(l.contents()),i.removeClass(n+" _"+o+"_"+r.idx+" "+u[6]+" "+u[7]+" "+u[5]+" "+u[3]).addClass(u[4])}})}},p=function(){return"object"!=typeof e(this)||e(this).length<1?i:this},f=function(t){var n=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],o=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],i=["minimal","minimal-dark"],r=["minimal","minimal-dark"],a=["minimal","minimal-dark"];t.autoDraggerLength=e.inArray(t.theme,n)>-1?!1:t.autoDraggerLength,t.autoExpandScrollbar=e.inArray(t.theme,o)>-1?!1:t.autoExpandScrollbar,t.scrollButtons.enable=e.inArray(t.theme,i)>-1?!1:t.scrollButtons.enable,t.autoHideScrollbar=e.inArray(t.theme,r)>-1?!0:t.autoHideScrollbar,t.scrollbarPosition=e.inArray(t.theme,a)>-1?"outside":t.scrollbarPosition},h=function(e){s[e]&&(clearTimeout(s[e]),K(s,e))},m=function(e){return"yx"===e||"xy"===e||"auto"===e?"yx":"x"===e||"horizontal"===e?"x":"y"},g=function(e){return"stepped"===e||"pixels"===e||"step"===e||"click"===e?"stepped":"stepless"},v=function(){var t=e(this),i=t.data(o),r=i.opt,a=r.autoExpandScrollbar?" "+u[1]+"_expand":"",s=["<div id='mCSB_"+i.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+i.idx+"_scrollbar mCS-"+r.theme+" mCSB_scrollTools_vertical"+a+"'><div class='"+u[12]+"'><div id='mCSB_"+i.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+i.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+i.idx+"_scrollbar mCS-"+r.theme+" mCSB_scrollTools_horizontal"+a+"'><div class='"+u[12]+"'><div id='mCSB_"+i.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],l="yx"===r.axis?"mCSB_vertical_horizontal":"x"===r.axis?"mCSB_horizontal":"mCSB_vertical",c="yx"===r.axis?s[0]+s[1]:"x"===r.axis?s[1]:s[0],d="yx"===r.axis?"<div id='mCSB_"+i.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",p=r.autoHideScrollbar?" "+u[6]:"",f="x"!==r.axis&&"rtl"===i.langDir?" "+u[7]:"";r.setWidth&&t.css("width",r.setWidth),r.setHeight&&t.css("height",r.setHeight),r.setLeft="y"!==r.axis&&"rtl"===i.langDir?"989999px":r.setLeft,t.addClass(n+" _"+o+"_"+i.idx+p+f).wrapInner("<div id='mCSB_"+i.idx+"' class='mCustomScrollBox mCS-"+r.theme+" "+l+"'><div id='mCSB_"+i.idx+"_container' class='mCSB_container' style='position:relative; top:"+r.setTop+"; left:"+r.setLeft+";' dir="+i.langDir+" /></div>");var h=e("#mCSB_"+i.idx),m=e("#mCSB_"+i.idx+"_container");"y"===r.axis||r.advanced.autoExpandHorizontalScroll||m.css("width",y(m.children())),"outside"===r.scrollbarPosition?("static"===t.css("position")&&t.css("position","relative"),t.css("overflow","visible"),h.addClass("mCSB_outside").after(c)):(h.addClass("mCSB_inside").append(c),m.wrap(d)),$.call(this);var g=[e("#mCSB_"+i.idx+"_dragger_vertical"),e("#mCSB_"+i.idx+"_dragger_horizontal")];g[0].css("min-height",g[0].height()),g[1].css("min-width",g[1].width())},y=function(t){return Math.max.apply(Math,t.map(function(){return e(this).outerWidth(!0)}).get())},w=function(){var t=e(this),n=t.data(o),i=n.opt,r=e("#mCSB_"+n.idx+"_container");i.advanced.autoExpandHorizontalScroll&&"y"!==i.axis&&r.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(r[0].getBoundingClientRect().right+.4)-Math.floor(r[0].getBoundingClientRect().left),position:"relative"}).unwrap()},$=function(){var t=e(this),n=t.data(o),i=n.opt,r=e(".mCSB_"+n.idx+"_scrollbar:first"),a=te(i.scrollButtons.tabindex)?"tabindex='"+i.scrollButtons.tabindex+"'":"",s=["<a href='#' class='"+u[13]+"' oncontextmenu='return false;' "+a+" />","<a href='#' class='"+u[14]+"' oncontextmenu='return false;' "+a+" />","<a href='#' class='"+u[15]+"' oncontextmenu='return false;' "+a+" />","<a href='#' class='"+u[16]+"' oncontextmenu='return false;' "+a+" />"],l=["x"===i.axis?s[2]:s[0],"x"===i.axis?s[3]:s[1],s[2],s[3]];i.scrollButtons.enable&&r.prepend(l[0]).append(l[1]).next(".mCSB_scrollTools").prepend(l[2]).append(l[3])},b=function(){var t=e(this),n=t.data(o),i=e("#mCSB_"+n.idx),r=t.css("max-height")||"none",a=-1!==r.indexOf("%"),s=t.css("box-sizing");if("none"!==r){var l=a?t.parent().height()*parseInt(r)/100:parseInt(r);"border-box"===s&&(l-=t.innerHeight()-t.height()+(t.outerHeight()-t.innerHeight())),i.css("max-height",Math.round(l))}},x=function(){var t=e(this),n=t.data(o),i=e("#mCSB_"+n.idx),r=e("#mCSB_"+n.idx+"_container"),a=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")],s=[i.height()/r.outerHeight(!1),i.width()/r.outerWidth(!1)],c=[parseInt(a[0].css("min-height")),Math.round(s[0]*a[0].parent().height()),parseInt(a[1].css("min-width")),Math.round(s[1]*a[1].parent().width())],u=l&&c[1]<c[0]?c[0]:c[1],d=l&&c[3]<c[2]?c[2]:c[3];a[0].css({height:u,"max-height":a[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":c[0]+"px"}),a[1].css({width:d,"max-width":a[1].parent().width()-10})},C=function(){var t=e(this),n=t.data(o),i=e("#mCSB_"+n.idx),r=e("#mCSB_"+n.idx+"_container"),a=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")],s=[r.outerHeight(!1)-i.height(),r.outerWidth(!1)-i.width()],l=[s[0]/(a[0].parent().height()-a[0].height()),s[1]/(a[1].parent().width()-a[1].width())];n.scrollRatio={y:l[0],x:l[1]}},S=function(e,t,n){var o=n?u[0]+"_expanded":"",i=e.closest(".mCSB_scrollTools");"active"===t?(e.toggleClass(u[0]+" "+o),i.toggleClass(u[1]),e[0]._draggable=e[0]._draggable?0:1):e[0]._draggable||("hide"===t?(e.removeClass(u[0]),i.removeClass(u[1])):(e.addClass(u[0]),i.addClass(u[1])))},_=function(){var t=e(this),n=t.data(o),i=e("#mCSB_"+n.idx),r=e("#mCSB_"+n.idx+"_container"),a=null==n.overflowed?r.height():r.outerHeight(!1),s=null==n.overflowed?r.width():r.outerWidth(!1);return[a>i.height(),s>i.width()]},k=function(){var t=e(this),n=t.data(o),i=n.opt,r=e("#mCSB_"+n.idx),a=e("#mCSB_"+n.idx+"_container"),s=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")];if(Y(t),("x"!==i.axis&&!n.overflowed[0]||"y"===i.axis&&n.overflowed[0])&&(s[0].add(a).css("top",0),G(t,"_resetY")),"y"!==i.axis&&!n.overflowed[1]||"x"===i.axis&&n.overflowed[1]){var l=dx=0;"rtl"===n.langDir&&(l=r.width()-a.outerWidth(!1),dx=Math.abs(l/n.scrollRatio.x)),a.css("left",l),s[1].css("left",dx),G(t,"_resetX")}},T=function(){function t(){a=setTimeout(function(){e.event.special.mousewheel?(clearTimeout(a),L.call(n[0])):t()},100)}var n=e(this),i=n.data(o),r=i.opt;if(!i.bindEvents){if(E.call(this),r.contentTouchScroll&&A.call(this),I.call(this),r.mouseWheel.enable){var a;t()}R.call(this),j.call(this),r.advanced.autoScrollOnFocus&&B.call(this),r.scrollButtons.enable&&F.call(this),r.keyboard.enable&&H.call(this),i.bindEvents=!0}},P=function(){var t=e(this),n=t.data(o),i=n.opt,r=o+"_"+n.idx,a=".mCSB_"+n.idx+"_scrollbar",s=e("#mCSB_"+n.idx+",#mCSB_"+n.idx+"_container,#mCSB_"+n.idx+"_container_wrapper,"+a+" ."+u[12]+",#mCSB_"+n.idx+"_dragger_vertical,#mCSB_"+n.idx+"_dragger_horizontal,"+a+">a"),l=e("#mCSB_"+n.idx+"_container");i.advanced.releaseDraggableSelectors&&s.add(e(i.advanced.releaseDraggableSelectors)),n.bindEvents&&(e(document).unbind("."+r),s.each(function(){e(this).unbind("."+r)}),clearTimeout(t[0]._focusTimeout),K(t[0],"_focusTimeout"),clearTimeout(n.sequential.step),K(n.sequential,"step"),clearTimeout(l[0].onCompleteTimeout),K(l[0],"onCompleteTimeout"),n.bindEvents=!1)},M=function(t){var n=e(this),i=n.data(o),r=i.opt,a=e("#mCSB_"+i.idx+"_container_wrapper"),s=a.length?a:e("#mCSB_"+i.idx+"_container"),l=[e("#mCSB_"+i.idx+"_scrollbar_vertical"),e("#mCSB_"+i.idx+"_scrollbar_horizontal")],c=[l[0].find(".mCSB_dragger"),l[1].find(".mCSB_dragger")];"x"!==r.axis&&(i.overflowed[0]&&!t?(l[0].add(c[0]).add(l[0].children("a")).css("display","block"),s.removeClass(u[8]+" "+u[10])):(r.alwaysShowScrollbar?(2!==r.alwaysShowScrollbar&&c[0].css("display","none"),s.removeClass(u[10])):(l[0].css("display","none"),s.addClass(u[10])),s.addClass(u[8]))),"y"!==r.axis&&(i.overflowed[1]&&!t?(l[1].add(c[1]).add(l[1].children("a")).css("display","block"),s.removeClass(u[9]+" "+u[11])):(r.alwaysShowScrollbar?(2!==r.alwaysShowScrollbar&&c[1].css("display","none"),s.removeClass(u[11])):(l[1].css("display","none"),s.addClass(u[11])),s.addClass(u[9]))),i.overflowed[0]||i.overflowed[1]?n.removeClass(u[5]):n.addClass(u[5])},D=function(e){var t=e.type;switch(t){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return e.target.ownerDocument!==document?[e.originalEvent.screenY,e.originalEvent.screenX,!1]:[e.originalEvent.pageY,e.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var n=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],o=e.originalEvent.touches.length||e.originalEvent.changedTouches.length;return e.target.ownerDocument!==document?[n.screenY,n.screenX,o>1]:[n.pageY,n.pageX,o>1];default:return[e.pageY,e.pageX,!1]}},E=function(){function t(e){var t=h.find("iframe");if(t.length){var n=e?"auto":"none";t.css("pointer-events",n)}}function n(e,t,n,o){if(h[0].idleTimer=d.scrollInertia<233?250:0,i.attr("id")===f[1])var r="x",a=(i[0].offsetLeft-t+o)*u.scrollRatio.x;else var r="y",a=(i[0].offsetTop-e+n)*u.scrollRatio.y;G(s,a.toString(),{dir:r,drag:!0})}var i,r,a,s=e(this),u=s.data(o),d=u.opt,p=o+"_"+u.idx,f=["mCSB_"+u.idx+"_dragger_vertical","mCSB_"+u.idx+"_dragger_horizontal"],h=e("#mCSB_"+u.idx+"_container"),m=e("#"+f[0]+",#"+f[1]),g=d.advanced.releaseDraggableSelectors?m.add(e(d.advanced.releaseDraggableSelectors)):m;m.bind("mousedown."+p+" touchstart."+p+" pointerdown."+p+" MSPointerDown."+p,function(n){if(n.stopImmediatePropagation(),n.preventDefault(),J(n)){c=!0,l&&(document.onselectstart=function(){return!1}),t(!1),Y(s),i=e(this);var o=i.offset(),u=D(n)[0]-o.top,p=D(n)[1]-o.left,f=i.height()+o.top,h=i.width()+o.left;f>u&&u>0&&h>p&&p>0&&(r=u,a=p),S(i,"active",d.autoExpandScrollbar)}}).bind("touchmove."+p,function(e){e.stopImmediatePropagation(),e.preventDefault();var t=i.offset(),o=D(e)[0]-t.top,s=D(e)[1]-t.left;n(r,a,o,s)}),e(document).bind("mousemove."+p+" pointermove."+p+" MSPointerMove."+p,function(e){if(i){var t=i.offset(),o=D(e)[0]-t.top,s=D(e)[1]-t.left;if(r===o)return;n(r,a,o,s)}}).add(g).bind("mouseup."+p+" touchend."+p+" pointerup."+p+" MSPointerUp."+p,function(e){i&&(S(i,"active",d.autoExpandScrollbar),i=null),c=!1,l&&(document.onselectstart=null),t(!0)})},A=function(){function n(e){if(!ee(e)||c||D(e)[2])return void(t=0);t=1,b=0,x=0,C.removeClass("mCS_touch_action");var n=P.offset();u=D(e)[0]-n.top,d=D(e)[1]-n.left,N=[D(e)[0],D(e)[1]]}function i(e){if(ee(e)&&!c&&!D(e)[2]&&(e.stopImmediatePropagation(),!x||b)){m=Q();var t=T.offset(),n=D(e)[0]-t.top,o=D(e)[1]-t.left,i="mcsLinearOut";if(E.push(n),A.push(o),N[2]=Math.abs(D(e)[0]-N[0]),N[3]=Math.abs(D(e)[1]-N[1]),S.overflowed[0])var r=M[0].parent().height()-M[0].height(),a=u-n>0&&n-u>-(r*S.scrollRatio.y)&&(2*N[3]<N[2]||"yx"===_.axis);if(S.overflowed[1])var s=M[1].parent().width()-M[1].width(),p=d-o>0&&o-d>-(s*S.scrollRatio.x)&&(2*N[2]<N[3]||"yx"===_.axis);a||p?(e.preventDefault(),b=1):(x=1,C.addClass("mCS_touch_action")),w="yx"===_.axis?[u-n,d-o]:"x"===_.axis?[null,d-o]:[u-n,null],P[0].idleTimer=250,S.overflowed[0]&&l(w[0],I,i,"y","all",!0),S.overflowed[1]&&l(w[1],I,i,"x",L,!0)}}function r(e){if(!ee(e)||c||D(e)[2])return void(t=0);t=1,e.stopImmediatePropagation(),Y(C),h=Q();var n=T.offset();p=D(e)[0]-n.top,f=D(e)[1]-n.left,E=[],A=[]}function a(e){if(ee(e)&&!c&&!D(e)[2]){e.stopImmediatePropagation(),b=0,x=0,g=Q();var t=T.offset(),n=D(e)[0]-t.top,o=D(e)[1]-t.left;if(!(g-m>30)){y=1e3/(g-h);var i="mcsEaseOut",r=2.5>y,a=r?[E[E.length-2],A[A.length-2]]:[0,0];v=r?[n-a[0],o-a[1]]:[n-p,o-f];var u=[Math.abs(v[0]),Math.abs(v[1])];y=r?[Math.abs(v[0]/4),Math.abs(v[1]/4)]:[y,y];var d=[Math.abs(P[0].offsetTop)-v[0]*s(u[0]/y[0],y[0]),Math.abs(P[0].offsetLeft)-v[1]*s(u[1]/y[1],y[1])];w="yx"===_.axis?[d[0],d[1]]:"x"===_.axis?[null,d[1]]:[d[0],null],$=[4*u[0]+_.scrollInertia,4*u[1]+_.scrollInertia];var C=parseInt(_.contentTouchScroll)||0;w[0]=u[0]>C?w[0]:0,w[1]=u[1]>C?w[1]:0,S.overflowed[0]&&l(w[0],$[0],i,"y",L,!1),S.overflowed[1]&&l(w[1],$[1],i,"x",L,!1)}}}function s(e,t){var n=[1.5*t,2*t,t/1.5,t/2];return e>90?t>4?n[0]:n[3]:e>60?t>3?n[3]:n[2]:e>30?t>8?n[1]:t>6?n[0]:t>4?t:n[2]:t>8?t:n[3]}function l(e,t,n,o,i,r){e&&G(C,e.toString(),{dur:t,scrollEasing:n,dir:o,overwrite:i,drag:r})}var u,d,p,f,h,m,g,v,y,w,$,b,x,C=e(this),S=C.data(o),_=S.opt,k=o+"_"+S.idx,T=e("#mCSB_"+S.idx),P=e("#mCSB_"+S.idx+"_container"),M=[e("#mCSB_"+S.idx+"_dragger_vertical"),e("#mCSB_"+S.idx+"_dragger_horizontal")],E=[],A=[],I=0,L="yx"===_.axis?"none":"all",N=[],R=P.find("iframe"),B=["touchstart."+k+" pointerdown."+k+" MSPointerDown."+k,"touchmove."+k+" pointermove."+k+" MSPointerMove."+k,"touchend."+k+" pointerup."+k+" MSPointerUp."+k];P.bind(B[0],function(e){n(e)}).bind(B[1],function(e){i(e)}),T.bind(B[0],function(e){r(e)}).bind(B[2],function(e){a(e)}),R.length&&R.each(function(){e(this).load(function(){O(this)&&e(this.contentDocument||this.contentWindow.document).bind(B[0],function(e){n(e),r(e)}).bind(B[1],function(e){i(e)}).bind(B[2],function(e){a(e)})})})},I=function(){function n(){return window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type?document.selection.createRange().text:0}function i(e,t,n){u.type=n&&r?"stepped":"stepless",u.scrollAmount=10,U(a,e,t,"mcsLinearOut",n?60:null)}var r,a=e(this),s=a.data(o),l=s.opt,u=s.sequential,d=o+"_"+s.idx,p=e("#mCSB_"+s.idx+"_container"),f=p.parent();p.bind("mousedown."+d,function(e){t||r||(r=1,c=!0)}).add(document).bind("mousemove."+d,function(e){if(!t&&r&&n()){var o=p.offset(),a=D(e)[0]-o.top+p[0].offsetTop,c=D(e)[1]-o.left+p[0].offsetLeft;a>0&&a<f.height()&&c>0&&c<f.width()?u.step&&i("off",null,"stepped"):("x"!==l.axis&&s.overflowed[0]&&(0>a?i("on",38):a>f.height()&&i("on",40)),"y"!==l.axis&&s.overflowed[1]&&(0>c?i("on",37):c>f.width()&&i("on",39)))}}).bind("mouseup."+d,function(e){t||(r&&(r=0,i("off",null)),c=!1)})},L=function(){function t(t,o){if(Y(n),!N(n,t.target)){var a="auto"!==r.mouseWheel.deltaFactor?parseInt(r.mouseWheel.deltaFactor):l&&t.deltaFactor<100?100:t.deltaFactor||100;if("x"===r.axis||"x"===r.mouseWheel.axis)var u="x",d=[Math.round(a*i.scrollRatio.x),parseInt(r.mouseWheel.scrollAmount)],p="auto"!==r.mouseWheel.scrollAmount?d[1]:d[0]>=s.width()?.9*s.width():d[0],f=Math.abs(e("#mCSB_"+i.idx+"_container")[0].offsetLeft),h=c[1][0].offsetLeft,m=c[1].parent().width()-c[1].width(),g=t.deltaX||t.deltaY||o;else var u="y",d=[Math.round(a*i.scrollRatio.y),parseInt(r.mouseWheel.scrollAmount)],p="auto"!==r.mouseWheel.scrollAmount?d[1]:d[0]>=s.height()?.9*s.height():d[0],f=Math.abs(e("#mCSB_"+i.idx+"_container")[0].offsetTop),h=c[0][0].offsetTop,m=c[0].parent().height()-c[0].height(),g=t.deltaY||o;"y"===u&&!i.overflowed[0]||"x"===u&&!i.overflowed[1]||((r.mouseWheel.invert||t.webkitDirectionInvertedFromDevice)&&(g=-g),r.mouseWheel.normalizeDelta&&(g=0>g?-1:1),(g>0&&0!==h||0>g&&h!==m||r.mouseWheel.preventDefault)&&(t.stopImmediatePropagation(),t.preventDefault()),G(n,(f-g*p).toString(),{dir:u}))}}if(e(this).data(o)){var n=e(this),i=n.data(o),r=i.opt,a=o+"_"+i.idx,s=e("#mCSB_"+i.idx),c=[e("#mCSB_"+i.idx+"_dragger_vertical"),e("#mCSB_"+i.idx+"_dragger_horizontal")],u=e("#mCSB_"+i.idx+"_container").find("iframe");u.length&&u.each(function(){e(this).load(function(){O(this)&&e(this.contentDocument||this.contentWindow.document).bind("mousewheel."+a,function(e,n){t(e,n)})})}),s.bind("mousewheel."+a,function(e,n){t(e,n)})}},O=function(e){var t=null;try{var n=e.contentDocument||e.contentWindow.document;t=n.body.innerHTML}catch(o){}return null!==t},N=function(t,n){var i=n.nodeName.toLowerCase(),r=t.data(o).opt.mouseWheel.disableOver,a=["select","textarea"];return e.inArray(i,r)>-1&&!(e.inArray(i,a)>-1&&!e(n).is(":focus"))},R=function(){var t=e(this),n=t.data(o),i=o+"_"+n.idx,r=e("#mCSB_"+n.idx+"_container"),a=r.parent(),s=e(".mCSB_"+n.idx+"_scrollbar ."+u[12]);s.bind("touchstart."+i+" pointerdown."+i+" MSPointerDown."+i,function(e){c=!0}).bind("touchend."+i+" pointerup."+i+" MSPointerUp."+i,function(e){c=!1}).bind("click."+i,function(o){if(e(o.target).hasClass(u[12])||e(o.target).hasClass("mCSB_draggerRail")){Y(t);var i=e(this),s=i.find(".mCSB_dragger");if(i.parent(".mCSB_scrollTools_horizontal").length>0){if(!n.overflowed[1])return;var l="x",c=o.pageX>s.offset().left?-1:1,d=Math.abs(r[0].offsetLeft)-.9*c*a.width()}else{if(!n.overflowed[0])return;var l="y",c=o.pageY>s.offset().top?-1:1,d=Math.abs(r[0].offsetTop)-.9*c*a.height()}G(t,d.toString(),{dir:l,scrollEasing:"mcsEaseInOut"})}})},B=function(){var t=e(this),n=t.data(o),i=n.opt,r=o+"_"+n.idx,a=e("#mCSB_"+n.idx+"_container"),s=a.parent();a.bind("focusin."+r,function(n){var o=e(document.activeElement),r=a.find(".mCustomScrollBox").length,l=0;o.is(i.advanced.autoScrollOnFocus)&&(Y(t),clearTimeout(t[0]._focusTimeout),t[0]._focusTimer=r?(l+17)*r:0,t[0]._focusTimeout=setTimeout(function(){var e=[ne(o)[0],ne(o)[1]],n=[a[0].offsetTop,a[0].offsetLeft],r=[n[0]+e[0]>=0&&n[0]+e[0]<s.height()-o.outerHeight(!1),n[1]+e[1]>=0&&n[0]+e[1]<s.width()-o.outerWidth(!1)],c="yx"!==i.axis||r[0]||r[1]?"all":"none";"x"===i.axis||r[0]||G(t,e[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:c,dur:l}),"y"===i.axis||r[1]||G(t,e[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:c,dur:l})},t[0]._focusTimer))})},j=function(){var t=e(this),n=t.data(o),i=o+"_"+n.idx,r=e("#mCSB_"+n.idx+"_container").parent();r.bind("scroll."+i,function(t){(0!==r.scrollTop()||0!==r.scrollLeft())&&e(".mCSB_"+n.idx+"_scrollbar").css("visibility","hidden")})},F=function(){var t=e(this),n=t.data(o),i=n.opt,r=n.sequential,a=o+"_"+n.idx,s=".mCSB_"+n.idx+"_scrollbar",l=e(s+">a");l.bind("mousedown."+a+" touchstart."+a+" pointerdown."+a+" MSPointerDown."+a+" mouseup."+a+" touchend."+a+" pointerup."+a+" MSPointerUp."+a+" mouseout."+a+" pointerout."+a+" MSPointerOut."+a+" click."+a,function(o){function a(e,n){r.scrollAmount=i.snapAmount||i.scrollButtons.scrollAmount,U(t,e,n)}if(o.preventDefault(),J(o)){var s=e(this).attr("class");switch(r.type=i.scrollButtons.scrollType,o.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===r.type)return;c=!0,n.tweenRunning=!1,a("on",s);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===r.type)return;c=!1,r.dir&&a("off",s);break;case"click":if("stepped"!==r.type||n.tweenRunning)return;a("on",s)}}})},H=function(){function t(t){function o(e,t){a.type=r.keyboard.scrollType,a.scrollAmount=r.snapAmount||r.keyboard.scrollAmount,"stepped"===a.type&&i.tweenRunning||U(n,e,t)}switch(t.type){case"blur":i.tweenRunning&&a.dir&&o("off",null);break;case"keydown":case"keyup":var s=t.keyCode?t.keyCode:t.which,l="on";if("x"!==r.axis&&(38===s||40===s)||"y"!==r.axis&&(37===s||39===s)){if((38===s||40===s)&&!i.overflowed[0]||(37===s||39===s)&&!i.overflowed[1])return;"keyup"===t.type&&(l="off"),e(document.activeElement).is(d)||(t.preventDefault(),t.stopImmediatePropagation(),o(l,s))}else if(33===s||34===s){if((i.overflowed[0]||i.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type){Y(n);var p=34===s?-1:1;if("x"===r.axis||"yx"===r.axis&&i.overflowed[1]&&!i.overflowed[0])var f="x",h=Math.abs(c[0].offsetLeft)-.9*p*u.width();else var f="y",h=Math.abs(c[0].offsetTop)-.9*p*u.height();G(n,h.toString(),{dir:f,scrollEasing:"mcsEaseInOut"})}}else if((35===s||36===s)&&!e(document.activeElement).is(d)&&((i.overflowed[0]||i.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type)){if("x"===r.axis||"yx"===r.axis&&i.overflowed[1]&&!i.overflowed[0])var f="x",h=35===s?Math.abs(u.width()-c.outerWidth(!1)):0;else var f="y",h=35===s?Math.abs(u.height()-c.outerHeight(!1)):0;G(n,h.toString(),{dir:f,scrollEasing:"mcsEaseInOut"})}}}var n=e(this),i=n.data(o),r=i.opt,a=i.sequential,s=o+"_"+i.idx,l=e("#mCSB_"+i.idx),c=e("#mCSB_"+i.idx+"_container"),u=c.parent(),d="input,textarea,select,datalist,keygen,[contenteditable='true']",p=c.find("iframe"),f=["blur."+s+" keydown."+s+" keyup."+s];p.length&&p.each(function(){e(this).load(function(){O(this)&&e(this.contentDocument||this.contentWindow.document).bind(f[0],function(e){t(e)})})}),l.attr("tabindex","0").bind(f[0],function(e){t(e)})},U=function(t,n,i,r,a){function s(e){var n="stepped"!==p.type,o=a?a:e?n?m/1.5:g:1e3/60,i=e?n?7.5:40:2.5,l=[Math.abs(f[0].offsetTop),Math.abs(f[0].offsetLeft)],u=[c.scrollRatio.y>10?10:c.scrollRatio.y,c.scrollRatio.x>10?10:c.scrollRatio.x],d="x"===p.dir[0]?l[1]+p.dir[1]*u[1]*i:l[0]+p.dir[1]*u[0]*i,h="x"===p.dir[0]?l[1]+p.dir[1]*parseInt(p.scrollAmount):l[0]+p.dir[1]*parseInt(p.scrollAmount),v="auto"!==p.scrollAmount?h:d,y=r?r:e?n?"mcsLinearOut":"mcsEaseInOut":"mcsLinear",w=e?!0:!1;return e&&17>o&&(v="x"===p.dir[0]?l[1]:l[0]),G(t,v.toString(),{dir:p.dir[0],scrollEasing:y,dur:o,onComplete:w}),e?void(p.dir=!1):(clearTimeout(p.step),void(p.step=setTimeout(function(){s()},o)))}function l(){clearTimeout(p.step),K(p,"step"),Y(t)}var c=t.data(o),d=c.opt,p=c.sequential,f=e("#mCSB_"+c.idx+"_container"),h="stepped"===p.type?!0:!1,m=d.scrollInertia<26?26:d.scrollInertia,g=d.scrollInertia<1?17:d.scrollInertia;switch(n){case"on":if(p.dir=[i===u[16]||i===u[15]||39===i||37===i?"x":"y",i===u[13]||i===u[15]||38===i||37===i?-1:1],Y(t),te(i)&&"stepped"===p.type)return;s(h);break;case"off":l(),(h||c.tweenRunning&&p.dir)&&s(!0)}},V=function(t){var n=e(this).data(o).opt,i=[];return"function"==typeof t&&(t=t()),t instanceof Array?i=t.length>1?[t[0],t[1]]:"x"===n.axis?[null,t[0]]:[t[0],null]:(i[0]=t.y?t.y:t.x||"x"===n.axis?null:t,i[1]=t.x?t.x:t.y||"y"===n.axis?null:t),"function"==typeof i[0]&&(i[0]=i[0]()),"function"==typeof i[1]&&(i[1]=i[1]()),i},q=function(t,n){if(null!=t&&"undefined"!=typeof t){var i=e(this),r=i.data(o),a=r.opt,s=e("#mCSB_"+r.idx+"_container"),l=s.parent(),c=typeof t;n||(n="x"===a.axis?"x":"y");var u="x"===n?s.outerWidth(!1):s.outerHeight(!1),p="x"===n?s[0].offsetLeft:s[0].offsetTop,f="x"===n?"left":"top";switch(c){case"function":return t();case"object":var h=t.jquery?t:e(t);if(!h.length)return;return"x"===n?ne(h)[1]:ne(h)[0];case"string":case"number":if(te(t))return Math.abs(t);if(-1!==t.indexOf("%"))return Math.abs(u*parseInt(t)/100);if(-1!==t.indexOf("-="))return Math.abs(p-parseInt(t.split("-=")[1]));if(-1!==t.indexOf("+=")){var m=p+parseInt(t.split("+=")[1]);return m>=0?0:Math.abs(m)}if(-1!==t.indexOf("px")&&te(t.split("px")[0]))return Math.abs(t.split("px")[0]);if("top"===t||"left"===t)return 0;if("bottom"===t)return Math.abs(l.height()-s.outerHeight(!1));
if("right"===t)return Math.abs(l.width()-s.outerWidth(!1));if("first"===t||"last"===t){var h=s.find(":"+t);return"x"===n?ne(h)[1]:ne(h)[0]}return e(t).length?"x"===n?ne(e(t))[1]:ne(e(t))[0]:(s.css(f,t),void d.update.call(null,i[0]))}}},W=function(t){function n(){return clearTimeout(f[0].autoUpdate),0===l.parents("html").length?void(l=null):void(f[0].autoUpdate=setTimeout(function(){return p.advanced.updateOnSelectorChange&&(h=a(),h!==$)?(s(3),void($=h)):(p.advanced.updateOnContentResize&&(m=[f.outerHeight(!1),f.outerWidth(!1),v.height(),v.width(),w()[0],w()[1]],(m[0]!==b[0]||m[1]!==b[1]||m[2]!==b[2]||m[3]!==b[3]||m[4]!==b[4]||m[5]!==b[5])&&(s(m[0]!==b[0]||m[1]!==b[1]),b=m)),p.advanced.updateOnImageLoad&&(g=i(),g!==x&&(f.find("img").each(function(){r(this)}),x=g)),void((p.advanced.updateOnSelectorChange||p.advanced.updateOnContentResize||p.advanced.updateOnImageLoad)&&n()))},p.advanced.autoUpdateTimeout))}function i(){var e=0;return p.advanced.updateOnImageLoad&&(e=f.find("img").length),e}function r(t){function n(e,t){return function(){return t.apply(e,arguments)}}function o(){this.onload=null,e(t).addClass(u[2]),s(2)}if(e(t).hasClass(u[2]))return void s();var i=new Image;i.onload=n(i,o),i.src=t.src}function a(){p.advanced.updateOnSelectorChange===!0&&(p.advanced.updateOnSelectorChange="*");var t=0,n=f.find(p.advanced.updateOnSelectorChange);return p.advanced.updateOnSelectorChange&&n.length>0&&n.each(function(){t+=e(this).height()+e(this).width()}),t}function s(e){clearTimeout(f[0].autoUpdate),d.update.call(null,l[0],e)}var l=e(this),c=l.data(o),p=c.opt,f=e("#mCSB_"+c.idx+"_container");if(t)return clearTimeout(f[0].autoUpdate),void K(f[0],"autoUpdate");var h,m,g,v=f.parent(),y=[e("#mCSB_"+c.idx+"_scrollbar_vertical"),e("#mCSB_"+c.idx+"_scrollbar_horizontal")],w=function(){return[y[0].is(":visible")?y[0].outerHeight(!0):0,y[1].is(":visible")?y[1].outerWidth(!0):0]},$=a(),b=[f.outerHeight(!1),f.outerWidth(!1),v.height(),v.width(),w()[0],w()[1]],x=i();n()},z=function(e,t,n){return Math.round(e/t)*t-n},Y=function(t){var n=t.data(o),i=e("#mCSB_"+n.idx+"_container,#mCSB_"+n.idx+"_container_wrapper,#mCSB_"+n.idx+"_dragger_vertical,#mCSB_"+n.idx+"_dragger_horizontal");i.each(function(){Z.call(this)})},G=function(t,n,i){function r(e){return l&&c.callbacks[e]&&"function"==typeof c.callbacks[e]}function a(){return[c.callbacks.alwaysTriggerOffsets||w>=$[0]+x,c.callbacks.alwaysTriggerOffsets||-C>=w]}function s(){var e=[f[0].offsetTop,f[0].offsetLeft],n=[v[0].offsetTop,v[0].offsetLeft],o=[f.outerHeight(!1),f.outerWidth(!1)],r=[p.height(),p.width()];t[0].mcs={content:f,top:e[0],left:e[1],draggerTop:n[0],draggerLeft:n[1],topPct:Math.round(100*Math.abs(e[0])/(Math.abs(o[0])-r[0])),leftPct:Math.round(100*Math.abs(e[1])/(Math.abs(o[1])-r[1])),direction:i.dir}}var l=t.data(o),c=l.opt,u={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:c.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},i=e.extend(u,i),d=[i.dur,i.drag?0:i.dur],p=e("#mCSB_"+l.idx),f=e("#mCSB_"+l.idx+"_container"),h=f.parent(),m=c.callbacks.onTotalScrollOffset?V.call(t,c.callbacks.onTotalScrollOffset):[0,0],g=c.callbacks.onTotalScrollBackOffset?V.call(t,c.callbacks.onTotalScrollBackOffset):[0,0];if(l.trigger=i.trigger,(0!==h.scrollTop()||0!==h.scrollLeft())&&(e(".mCSB_"+l.idx+"_scrollbar").css("visibility","visible"),h.scrollTop(0).scrollLeft(0)),"_resetY"!==n||l.contentReset.y||(r("onOverflowYNone")&&c.callbacks.onOverflowYNone.call(t[0]),l.contentReset.y=1),"_resetX"!==n||l.contentReset.x||(r("onOverflowXNone")&&c.callbacks.onOverflowXNone.call(t[0]),l.contentReset.x=1),"_resetY"!==n&&"_resetX"!==n){switch(!l.contentReset.y&&t[0].mcs||!l.overflowed[0]||(r("onOverflowY")&&c.callbacks.onOverflowY.call(t[0]),l.contentReset.x=null),!l.contentReset.x&&t[0].mcs||!l.overflowed[1]||(r("onOverflowX")&&c.callbacks.onOverflowX.call(t[0]),l.contentReset.x=null),c.snapAmount&&(n=z(n,c.snapAmount,c.snapOffset)),i.dir){case"x":var v=e("#mCSB_"+l.idx+"_dragger_horizontal"),y="left",w=f[0].offsetLeft,$=[p.width()-f.outerWidth(!1),v.parent().width()-v.width()],b=[n,0===n?0:n/l.scrollRatio.x],x=m[1],C=g[1],_=x>0?x/l.scrollRatio.x:0,k=C>0?C/l.scrollRatio.x:0;break;case"y":var v=e("#mCSB_"+l.idx+"_dragger_vertical"),y="top",w=f[0].offsetTop,$=[p.height()-f.outerHeight(!1),v.parent().height()-v.height()],b=[n,0===n?0:n/l.scrollRatio.y],x=m[0],C=g[0],_=x>0?x/l.scrollRatio.y:0,k=C>0?C/l.scrollRatio.y:0}b[1]<0||0===b[0]&&0===b[1]?b=[0,0]:b[1]>=$[1]?b=[$[0],$[1]]:b[0]=-b[0],t[0].mcs||(s(),r("onInit")&&c.callbacks.onInit.call(t[0])),clearTimeout(f[0].onCompleteTimeout),(l.tweenRunning||!(0===w&&b[0]>=0||w===$[0]&&b[0]<=$[0]))&&(X(v[0],y,Math.round(b[1]),d[1],i.scrollEasing),X(f[0],y,Math.round(b[0]),d[0],i.scrollEasing,i.overwrite,{onStart:function(){i.callbacks&&i.onStart&&!l.tweenRunning&&(r("onScrollStart")&&(s(),c.callbacks.onScrollStart.call(t[0])),l.tweenRunning=!0,S(v),l.cbOffsets=a())},onUpdate:function(){i.callbacks&&i.onUpdate&&r("whileScrolling")&&(s(),c.callbacks.whileScrolling.call(t[0]))},onComplete:function(){if(i.callbacks&&i.onComplete){"yx"===c.axis&&clearTimeout(f[0].onCompleteTimeout);var e=f[0].idleTimer||0;f[0].onCompleteTimeout=setTimeout(function(){r("onScroll")&&(s(),c.callbacks.onScroll.call(t[0])),r("onTotalScroll")&&b[1]>=$[1]-_&&l.cbOffsets[0]&&(s(),c.callbacks.onTotalScroll.call(t[0])),r("onTotalScrollBack")&&b[1]<=k&&l.cbOffsets[1]&&(s(),c.callbacks.onTotalScrollBack.call(t[0])),l.tweenRunning=!1,f[0].idleTimer=0,S(v,"hide")},e)}}}))}},X=function(e,t,n,o,i,r,a){function s(){b.stop||(y||h.call(),y=Q()-v,l(),y>=b.time&&(b.time=y>b.time?y+p-(y-b.time):y+p-1,b.time<y+1&&(b.time=y+1)),b.time<o?b.id=f(s):g.call())}function l(){o>0?(b.currVal=d(b.time,w,x,o,i),$[t]=Math.round(b.currVal)+"px"):$[t]=n+"px",m.call()}function c(){p=1e3/60,b.time=y+p,f=window.requestAnimationFrame?window.requestAnimationFrame:function(e){return l(),setTimeout(e,.01)},b.id=f(s)}function u(){null!=b.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(b.id):clearTimeout(b.id),b.id=null)}function d(e,t,n,o,i){switch(i){case"linear":case"mcsLinear":return n*e/o+t;case"mcsLinearOut":return e/=o,e--,n*Math.sqrt(1-e*e)+t;case"easeInOutSmooth":return e/=o/2,1>e?n/2*e*e+t:(e--,-n/2*(e*(e-2)-1)+t);case"easeInOutStrong":return e/=o/2,1>e?n/2*Math.pow(2,10*(e-1))+t:(e--,n/2*(-Math.pow(2,-10*e)+2)+t);case"easeInOut":case"mcsEaseInOut":return e/=o/2,1>e?n/2*e*e*e+t:(e-=2,n/2*(e*e*e+2)+t);case"easeOutSmooth":return e/=o,e--,-n*(e*e*e*e-1)+t;case"easeOutStrong":return n*(-Math.pow(2,-10*e/o)+1)+t;case"easeOut":case"mcsEaseOut":default:var r=(e/=o)*e,a=r*e;return t+n*(.499999999999997*a*r+-2.5*r*r+5.5*a+-6.5*r+4*e)}}e._mTween||(e._mTween={top:{},left:{}});var p,f,a=a||{},h=a.onStart||function(){},m=a.onUpdate||function(){},g=a.onComplete||function(){},v=Q(),y=0,w=e.offsetTop,$=e.style,b=e._mTween[t];"left"===t&&(w=e.offsetLeft);var x=n-w;b.stop=0,"none"!==r&&u(),c()},Q=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},Z=function(){var e=this;e._mTween||(e._mTween={top:{},left:{}});for(var t=["top","left"],n=0;n<t.length;n++){var o=t[n];e._mTween[o].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(e._mTween[o].id):clearTimeout(e._mTween[o].id),e._mTween[o].id=null,e._mTween[o].stop=1)}},K=function(e,t){try{delete e[t]}catch(n){e[t]=null}},J=function(e){return!(e.which&&1!==e.which)},ee=function(e){var t=e.originalEvent.pointerType;return!(t&&"touch"!==t&&2!==t)},te=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},ne=function(e){var t=e.parents(".mCSB_container");return[e.offset().top-t.offset().top,e.offset().left-t.offset().left]};e.fn[n]=function(t){return d[t]?d[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):d.init.apply(this,arguments)},e[n]=function(t){return d[t]?d[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):d.init.apply(this,arguments)},e[n].defaults=r,window[n]=!0,e(window).load(function(){e(i)[n](),e.extend(e.expr[":"],{mcsInView:e.expr[":"].mcsInView||function(t){var n,o,i=e(t),r=i.parents(".mCSB_container");return r.length?(n=r.parent(),o=[r[0].offsetTop,r[0].offsetLeft],o[0]+ne(i)[0]>=0&&o[0]+ne(i)[0]<n.height()-i.outerHeight(!1)&&o[1]+ne(i)[1]>=0&&o[1]+ne(i)[1]<n.width()-i.outerWidth(!1)):void 0},mcsOverflow:e.expr[":"].mcsOverflow||function(t){var n=e(t).data(o);return n?n.overflowed[0]||n.overflowed[1]:void 0}})})})}),function(e){function t(){var t=D.scrollLeft(),n=D.width();e([b,k]).css("left",t+n/2),g&&e($).css({left:t,top:D.scrollTop(),width:n,height:D.height()})}function n(n){n?e("object").add(A?"select":"embed").each(function(e,t){I[e]=[t,t.style.visibility],t.style.visibility="hidden"}):(e.each(I,function(e,t){t[0].style.visibility=t[1]}),I=[]);var i=n?"bind":"unbind";D[i]("scroll resize",t),e(document)[i]("keydown",o)}function o(t){var n=t.which,o=e.inArray;return o(n,d.closeKeys)>=0?u():o(n,d.nextKeys)>=0?r():o(n,d.previousKeys)>=0?i():null}function i(){return a(h)}function r(){return a(m)}function a(e){return e>=0&&(E=e,f=p[E][0],h=(E||(d.loop?p.length:0))-1,m=(E+1)%p.length||(d.loop?0:-1),c(),b.className="lbLoading",L=new Image,L.onload=s,L.src=f),!1}function s(){b.className="",e(x).css({backgroundImage:"url("+f+")",visibility:"hidden",display:""}),e(C).width(L.width),e([C,S,_]).height(L.height),e(P).html(p[E][1]||""),e(M).html((p.length>1&&d.counterText||"").replace(/{x}/,E+1).replace(/{y}/,p.length)),h>=0&&(O.src=p[h][0]),m>=0&&(N.src=p[m][0]),y=x.offsetWidth,w=x.offsetHeight;var t=Math.max(0,v-w/2);b.offsetHeight!=w&&e(b).animate({height:w,top:t},d.resizeDuration,d.resizeEasing),b.offsetWidth!=y&&e(b).animate({width:y,marginLeft:-y/2},d.resizeDuration,d.resizeEasing),e(b).queue(function(){e(k).css({width:y,top:t+w,marginLeft:-y/2,visibility:"hidden",display:""}),e(x).css({display:"none",visibility:"",opacity:""}).fadeIn(d.imageFadeDuration,l)})}function l(){h>=0&&e(S).show(),m>=0&&e(_).show(),e(T).css("marginTop",-T.offsetHeight).animate({marginTop:0},d.captionAnimationDuration),k.style.visibility=""}function c(){L.onload=null,L.src=O.src=N.src=f,e([b,x,T]).stop(!0),e([S,_,x,k]).hide()}function u(){return E>=0&&(c(),E=h=m=-1,e(b).hide(),e($).stop().fadeOut(d.overlayFadeDuration,n)),!1}var d,p,f,h,m,g,v,y,w,$,b,x,C,S,_,k,T,P,M,D=e(window),E=-1,A=!window.XMLHttpRequest,I=[],L=(document.documentElement,{}),O=new Image,N=new Image;e(function(){e("body").append(e([$=e('<div id="lbOverlay" />').click(u)[0],b=e('<div id="lbCenter" />')[0],k=e('<div id="lbBottomContainer" />')[0]]).css("display","none")),x=e('<div id="lbImage" />').appendTo(b).append(C=e('<div style="position: relative;" />').append([S=e('<a id="lbPrevLink" href="#" />').click(i)[0],_=e('<a id="lbNextLink" href="#" />').click(r)[0]])[0])[0],T=e('<div id="lbBottom" />').appendTo(k).append([e('<a id="lbCloseLink" href="#" />').click(u)[0],P=e('<div id="lbCaption" />')[0],M=e('<div id="lbNumber" />')[0],e('<div style="clear: both;" />')[0]])[0]}),e.slimbox=function(o,i,r){return d=e.extend({loop:!1,overlayOpacity:.8,overlayFadeDuration:400,resizeDuration:400,resizeEasing:"swing",initialWidth:250,initialHeight:250,imageFadeDuration:400,captionAnimationDuration:400,counterText:"Image {x} of {y}",closeKeys:[27,88,67],previousKeys:[37,80],nextKeys:[39,78]},r),"string"==typeof o&&(o=[[o,i]],i=0),v=D.scrollTop()+D.height()/2,y=d.initialWidth,w=d.initialHeight,e(b).css({top:Math.max(0,v-w/2),width:y,height:w,marginLeft:-y/2}).show(),g=A||$.currentStyle&&"fixed"!=$.currentStyle.position,g&&($.style.position="absolute"),e($).css("opacity",d.overlayOpacity).fadeIn(d.overlayFadeDuration),t(),n(1),p=o,d.loop=d.loop&&p.length>1,a(i)},e.fn.slimbox=function(t,n,o){n=n||function(e){return[e.href,e.title]},o=o||function(){return!0};var i=this;return i.unbind("click").click(function(){var r,a,s=this,l=0,c=0;for(r=e.grep(i,function(e,t){return o.call(s,e,t)}),a=r.length;a>c;++c)r[c]==s&&(l=c),r[c]=n(r[c],c);return e.slimbox(r,l,t)})}}(jQuery),/android|iphone|ipod|series60|symbian|windows ce|blackberry/i.test(navigator.userAgent)||jQuery(function(e){e("a[rel^='lightbox']").slimbox({},null,function(e){return this==e||this.rel.length>8&&this.rel==e.rel})}),function(e,t,n,o){var i=n("html"),r=n(e),a=n(t),s=n.fancybox=function(){s.open.apply(this,arguments)},l=navigator.userAgent.match(/msie/i),c=null,u=t.createTouch!==o,d=function(e){return e&&e.hasOwnProperty&&e instanceof n},p=function(e){return e&&"string"===n.type(e)},f=function(e){return p(e)&&0<e.indexOf("%")},h=function(e,t){var n=parseInt(e,10)||0;return t&&f(e)&&(n*=s.getViewport()[t]/100),Math.ceil(n)},m=function(e,t){return h(e,t)+"px"};n.extend(s,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!u,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(l?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:n.noop,beforeLoad:n.noop,afterLoad:n.noop,beforeShow:n.noop,afterShow:n.noop,beforeChange:n.noop,beforeClose:n.noop,afterClose:n.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(e,t){return e&&(n.isPlainObject(t)||(t={}),!1!==s.close(!0))?(n.isArray(e)||(e=d(e)?n(e).get():[e]),n.each(e,function(i,r){var a,l,c,u,f,h={};"object"===n.type(r)&&(r.nodeType&&(r=n(r)),d(r)?(h={href:r.data("fancybox-href")||r.attr("href"),title:r.data("fancybox-title")||r.attr("title"),isDom:!0,element:r},n.metadata&&n.extend(!0,h,r.metadata())):h=r),a=t.href||h.href||(p(r)?r:null),l=t.title!==o?t.title:h.title||"",u=(c=t.content||h.content)?"html":t.type||h.type,!u&&h.isDom&&(u=r.data("fancybox-type"),u||(u=(u=r.prop("class").match(/fancybox\.(\w+)/))?u[1]:null)),p(a)&&(u||(s.isImage(a)?u="image":s.isSWF(a)?u="swf":"#"===a.charAt(0)?u="inline":p(r)&&(u="html",c=r)),"ajax"===u&&(f=a.split(/\s+/,2),a=f.shift(),f=f.shift())),c||("inline"===u?a?c=n(p(a)?a.replace(/.*(?=#[^\s]+$)/,""):a):h.isDom&&(c=r):"html"===u?c=a:!u&&!a&&h.isDom&&(u="inline",c=r)),n.extend(h,{href:a,type:u,content:c,title:l,selector:f}),e[i]=h}),s.opts=n.extend(!0,{},s.defaults,t),t.keys!==o&&(s.opts.keys=t.keys?n.extend({},s.defaults.keys,t.keys):!1),s.group=e,s._start(s.opts.index)):void 0},cancel:function(){var e=s.coming;e&&!1!==s.trigger("onCancel")&&(s.hideLoading(),s.ajaxLoad&&s.ajaxLoad.abort(),s.ajaxLoad=null,s.imgPreload&&(s.imgPreload.onload=s.imgPreload.onerror=null),e.wrap&&e.wrap.stop(!0,!0).trigger("onReset").remove(),s.coming=null,s.current||s._afterZoomOut(e))},close:function(e){s.cancel(),!1!==s.trigger("beforeClose")&&(s.unbindEvents(),s.isActive&&(s.isOpen&&!0!==e?(s.isOpen=s.isOpened=!1,s.isClosing=!0,n(".fancybox-item, .fancybox-nav").remove(),s.wrap.stop(!0,!0).removeClass("fancybox-opened"),s.transitions[s.current.closeMethod]()):(n(".fancybox-wrap").stop(!0).trigger("onReset").remove(),s._afterZoomOut())))},play:function(e){var t=function(){clearTimeout(s.player.timer)},n=function(){t(),s.current&&s.player.isActive&&(s.player.timer=setTimeout(s.next,s.current.playSpeed))},o=function(){t(),a.unbind(".player"),s.player.isActive=!1,s.trigger("onPlayEnd")};!0===e||!s.player.isActive&&!1!==e?s.current&&(s.current.loop||s.current.index<s.group.length-1)&&(s.player.isActive=!0,a.bind({"onCancel.player beforeClose.player":o,"onUpdate.player":n,"beforeLoad.player":t}),n(),s.trigger("onPlayStart")):o()},next:function(e){var t=s.current;t&&(p(e)||(e=t.direction.next),s.jumpto(t.index+1,e,"next"))},prev:function(e){var t=s.current;t&&(p(e)||(e=t.direction.prev),s.jumpto(t.index-1,e,"prev"))},jumpto:function(e,t,n){var i=s.current;i&&(e=h(e),s.direction=t||i.direction[e>=i.index?"next":"prev"],s.router=n||"jumpto",i.loop&&(0>e&&(e=i.group.length+e%i.group.length),e%=i.group.length),i.group[e]!==o&&(s.cancel(),s._start(e)))},reposition:function(e,t){var o,i=s.current,r=i?i.wrap:null;r&&(o=s._getPosition(t),e&&"scroll"===e.type?(delete o.position,r.stop(!0,!0).animate(o,200)):(r.css(o),i.pos=n.extend({},i.dim,o)))},update:function(e){var t=e&&e.type,n=!t||"orientationchange"===t;n&&(clearTimeout(c),c=null),s.isOpen&&!c&&(c=setTimeout(function(){var o=s.current;o&&!s.isClosing&&(s.wrap.removeClass("fancybox-tmp"),(n||"load"===t||"resize"===t&&o.autoResize)&&s._setDimension(),"scroll"===t&&o.canShrink||s.reposition(e),s.trigger("onUpdate"),c=null)},n&&!u?0:300))},toggle:function(e){s.isOpen&&(s.current.fitToView="boolean"===n.type(e)?e:!s.current.fitToView,u&&(s.wrap.removeAttr("style").addClass("fancybox-tmp"),s.trigger("onUpdate")),s.update())},hideLoading:function(){a.unbind(".loading"),n("#fancybox-loading").remove()},showLoading:function(){var e,t;s.hideLoading(),e=n('<div id="fancybox-loading"><div></div></div>').click(s.cancel).appendTo("body"),a.bind("keydown.loading",function(e){27===(e.which||e.keyCode)&&(e.preventDefault(),s.cancel())}),s.defaults.fixed||(t=s.getViewport(),e.css({position:"absolute",top:.5*t.h+t.y,left:.5*t.w+t.x}))},getViewport:function(){var t=s.current&&s.current.locked||!1,n={x:r.scrollLeft(),y:r.scrollTop()};return t?(n.w=t[0].clientWidth,n.h=t[0].clientHeight):(n.w=u&&e.innerWidth?e.innerWidth:r.width(),n.h=u&&e.innerHeight?e.innerHeight:r.height()),n},unbindEvents:function(){s.wrap&&d(s.wrap)&&s.wrap.unbind(".fb"),a.unbind(".fb"),r.unbind(".fb")},bindEvents:function(){var e,t=s.current;t&&(r.bind("orientationchange.fb"+(u?"":" resize.fb")+(t.autoCenter&&!t.locked?" scroll.fb":""),s.update),(e=t.keys)&&a.bind("keydown.fb",function(i){var r=i.which||i.keyCode,a=i.target||i.srcElement;return 27===r&&s.coming?!1:void(!i.ctrlKey&&!i.altKey&&!i.shiftKey&&!i.metaKey&&(!a||!a.type&&!n(a).is("[contenteditable]"))&&n.each(e,function(e,a){return 1<t.group.length&&a[r]!==o?(s[e](a[r]),i.preventDefault(),!1):-1<n.inArray(r,a)?(s[e](),i.preventDefault(),!1):void 0}))}),n.fn.mousewheel&&t.mouseWheel&&s.wrap.bind("mousewheel.fb",function(e,o,i,r){for(var a=n(e.target||null),l=!1;a.length&&!l&&!a.is(".fancybox-skin")&&!a.is(".fancybox-wrap");)l=a[0]&&!(a[0].style.overflow&&"hidden"===a[0].style.overflow)&&(a[0].clientWidth&&a[0].scrollWidth>a[0].clientWidth||a[0].clientHeight&&a[0].scrollHeight>a[0].clientHeight),a=n(a).parent();0!==o&&!l&&1<s.group.length&&!t.canShrink&&(r>0||i>0?s.prev(r>0?"down":"left"):(0>r||0>i)&&s.next(0>r?"up":"right"),e.preventDefault())}))},trigger:function(e,t){var o,i=t||s.coming||s.current;if(i){if(n.isFunction(i[e])&&(o=i[e].apply(i,Array.prototype.slice.call(arguments,1))),!1===o)return!1;i.helpers&&n.each(i.helpers,function(t,o){o&&s.helpers[t]&&n.isFunction(s.helpers[t][e])&&s.helpers[t][e](n.extend(!0,{},s.helpers[t].defaults,o),i)}),a.trigger(e)}},isImage:function(e){return p(e)&&e.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(e){return p(e)&&e.match(/\.(swf)((\?|#).*)?$/i)},_start:function(e){var t,o,i={};if(e=h(e),t=s.group[e]||null,!t)return!1;if(i=n.extend(!0,{},s.opts,t),t=i.margin,o=i.padding,"number"===n.type(t)&&(i.margin=[t,t,t,t]),"number"===n.type(o)&&(i.padding=[o,o,o,o]),i.modal&&n.extend(!0,i,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),i.autoSize&&(i.autoWidth=i.autoHeight=!0),"auto"===i.width&&(i.autoWidth=!0),"auto"===i.height&&(i.autoHeight=!0),i.group=s.group,i.index=e,s.coming=i,!1===s.trigger("beforeLoad"))s.coming=null;else{if(o=i.type,t=i.href,!o)return s.coming=null,s.current&&s.router&&"jumpto"!==s.router?(s.current.index=e,s[s.router](s.direction)):!1;if(s.isActive=!0,("image"===o||"swf"===o)&&(i.autoHeight=i.autoWidth=!1,i.scrolling="visible"),"image"===o&&(i.aspectRatio=!0),"iframe"===o&&u&&(i.scrolling="scroll"),i.wrap=n(i.tpl.wrap).addClass("fancybox-"+(u?"mobile":"desktop")+" fancybox-type-"+o+" fancybox-tmp "+i.wrapCSS).appendTo(i.parent||"body"),n.extend(i,{skin:n(".fancybox-skin",i.wrap),outer:n(".fancybox-outer",i.wrap),inner:n(".fancybox-inner",i.wrap)}),n.each(["Top","Right","Bottom","Left"],function(e,t){i.skin.css("padding"+t,m(i.padding[e]))}),s.trigger("onReady"),"inline"===o||"html"===o){if(!i.content||!i.content.length)return s._error("content")}else if(!t)return s._error("href");"image"===o?s._loadImage():"ajax"===o?s._loadAjax():"iframe"===o?s._loadIframe():s._afterLoad()}},_error:function(e){n.extend(s.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:e,content:s.coming.tpl.error}),s._afterLoad()},_loadImage:function(){var e=s.imgPreload=new Image;e.onload=function(){this.onload=this.onerror=null,s.coming.width=this.width/s.opts.pixelRatio,s.coming.height=this.height/s.opts.pixelRatio,s._afterLoad()},e.onerror=function(){this.onload=this.onerror=null,s._error("image")},e.src=s.coming.href,!0!==e.complete&&s.showLoading()},_loadAjax:function(){var e=s.coming;s.showLoading(),s.ajaxLoad=n.ajax(n.extend({},e.ajax,{url:e.href,error:function(e,t){s.coming&&"abort"!==t?s._error("ajax",e):s.hideLoading()},success:function(t,n){"success"===n&&(e.content=t,s._afterLoad())}}))},_loadIframe:function(){var e=s.coming,t=n(e.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",u?"auto":e.iframe.scrolling).attr("src",e.href);n(e.wrap).bind("onReset",function(){try{n(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(e){}}),e.iframe.preload&&(s.showLoading(),t.one("load",function(){n(this).data("ready",1),u||n(this).bind("load.fb",s.update),n(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(),s._afterLoad()})),e.content=t.appendTo(e.inner),e.iframe.preload||s._afterLoad()},_preloadImages:function(){var e,t,n=s.group,o=s.current,i=n.length,r=o.preload?Math.min(o.preload,i-1):0;for(t=1;r>=t;t+=1)e=n[(o.index+t)%i],"image"===e.type&&e.href&&((new Image).src=e.href)},_afterLoad:function(){var e,t,o,i,r,a=s.coming,l=s.current;if(s.hideLoading(),a&&!1!==s.isActive)if(!1===s.trigger("afterLoad",a,l))a.wrap.stop(!0).trigger("onReset").remove(),s.coming=null;else{switch(l&&(s.trigger("beforeChange",l),l.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()),s.unbindEvents(),e=a.content,t=a.type,o=a.scrolling,n.extend(s,{wrap:a.wrap,skin:a.skin,outer:a.outer,inner:a.inner,current:a,previous:l}),i=a.href,t){case"inline":case"ajax":case"html":a.selector?e=n("<div>").html(e).find(a.selector):d(e)&&(e.data("fancybox-placeholder")||e.data("fancybox-placeholder",n('<div class="fancybox-placeholder"></div>').insertAfter(e).hide()),e=e.show().detach(),a.wrap.bind("onReset",function(){n(this).find(e).length&&e.hide().replaceAll(e.data("fancybox-placeholder")).data("fancybox-placeholder",!1)}));break;case"image":e=a.tpl.image.replace("{href}",i);break;case"swf":e='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+i+'"></param>',r="",n.each(a.swf,function(t,n){e+='<param name="'+t+'" value="'+n+'"></param>',r+=" "+t+'="'+n+'"'}),e+='<embed src="'+i+'" type="application/x-shockwave-flash" width="100%" height="100%"'+r+"></embed></object>"}(!d(e)||!e.parent().is(a.inner))&&a.inner.append(e),s.trigger("beforeShow"),a.inner.css("overflow","yes"===o?"scroll":"no"===o?"hidden":o),s._setDimension(),s.reposition(),s.isOpen=!1,s.coming=null,s.bindEvents(),s.isOpened?l.prevMethod&&s.transitions[l.prevMethod]():n(".fancybox-wrap").not(a.wrap).stop(!0).trigger("onReset").remove(),s.transitions[s.isOpened?a.nextMethod:a.openMethod](),s._preloadImages()}},_setDimension:function(){var e,t,o,i,r,a,l,c,u,d=s.getViewport(),p=0,g=!1,v=!1,g=s.wrap,y=s.skin,w=s.inner,$=s.current,v=$.width,b=$.height,x=$.minWidth,C=$.minHeight,S=$.maxWidth,_=$.maxHeight,k=$.scrolling,T=$.scrollOutside?$.scrollbarWidth:0,P=$.margin,M=h(P[1]+P[3]),D=h(P[0]+P[2]);if(g.add(y).add(w).width("auto").height("auto").removeClass("fancybox-tmp"),P=h(y.outerWidth(!0)-y.width()),e=h(y.outerHeight(!0)-y.height()),t=M+P,o=D+e,i=f(v)?(d.w-t)*h(v)/100:v,r=f(b)?(d.h-o)*h(b)/100:b,"iframe"===$.type){if(u=$.content,$.autoHeight&&1===u.data("ready"))try{u[0].contentWindow.document.location&&(w.width(i).height(9999),a=u.contents().find("body"),T&&a.css("overflow-x","hidden"),r=a.outerHeight(!0))}catch(E){}}else($.autoWidth||$.autoHeight)&&(w.addClass("fancybox-tmp"),$.autoWidth||w.width(i),$.autoHeight||w.height(r),$.autoWidth&&(i=w.width()),$.autoHeight&&(r=w.height()),w.removeClass("fancybox-tmp"));if(v=h(i),b=h(r),c=i/r,x=h(f(x)?h(x,"w")-t:x),S=h(f(S)?h(S,"w")-t:S),C=h(f(C)?h(C,"h")-o:C),_=h(f(_)?h(_,"h")-o:_),a=S,l=_,$.fitToView&&(S=Math.min(d.w-t,S),_=Math.min(d.h-o,_)),t=d.w-M,D=d.h-D,$.aspectRatio?(v>S&&(v=S,b=h(v/c)),b>_&&(b=_,v=h(b*c)),x>v&&(v=x,b=h(v/c)),C>b&&(b=C,v=h(b*c))):(v=Math.max(x,Math.min(v,S)),$.autoHeight&&"iframe"!==$.type&&(w.width(v),b=w.height()),b=Math.max(C,Math.min(b,_))),$.fitToView)if(w.width(v).height(b),g.width(v+P),d=g.width(),M=g.height(),$.aspectRatio)for(;(d>t||M>D)&&v>x&&b>C&&!(19<p++);)b=Math.max(C,Math.min(_,b-10)),v=h(b*c),x>v&&(v=x,b=h(v/c)),v>S&&(v=S,b=h(v/c)),w.width(v).height(b),g.width(v+P),d=g.width(),M=g.height();else v=Math.max(x,Math.min(v,v-(d-t))),b=Math.max(C,Math.min(b,b-(M-D)));T&&"auto"===k&&r>b&&t>v+P+T&&(v+=T),w.width(v).height(b),g.width(v+P),d=g.width(),M=g.height(),g=(d>t||M>D)&&v>x&&b>C,v=$.aspectRatio?a>v&&l>b&&i>v&&r>b:(a>v||l>b)&&(i>v||r>b),n.extend($,{dim:{width:m(d),height:m(M)},origWidth:i,origHeight:r,canShrink:g,canExpand:v,wPadding:P,hPadding:e,wrapSpace:M-y.outerHeight(!0),skinSpace:y.height()-b}),!u&&$.autoHeight&&b>C&&_>b&&!v&&w.height("auto")},_getPosition:function(e){var t=s.current,n=s.getViewport(),o=t.margin,i=s.wrap.width()+o[1]+o[3],r=s.wrap.height()+o[0]+o[2],o={position:"absolute",top:o[0],left:o[3]};return t.autoCenter&&t.fixed&&!e&&r<=n.h&&i<=n.w?o.position="fixed":t.locked||(o.top+=n.y,o.left+=n.x),o.top=m(Math.max(o.top,o.top+(n.h-r)*t.topRatio)),o.left=m(Math.max(o.left,o.left+(n.w-i)*t.leftRatio)),o},_afterZoomIn:function(){var e=s.current;e&&(s.isOpen=s.isOpened=!0,s.wrap.css("overflow","visible").addClass("fancybox-opened"),s.update(),(e.closeClick||e.nextClick&&1<s.group.length)&&s.inner.css("cursor","pointer").bind("click.fb",function(t){!n(t.target).is("a")&&!n(t.target).parent().is("a")&&(t.preventDefault(),s[e.closeClick?"close":"next"]())}),e.closeBtn&&n(e.tpl.closeBtn).appendTo(s.skin).bind("click.fb",function(e){e.preventDefault(),s.close()}),e.arrows&&1<s.group.length&&((e.loop||0<e.index)&&n(e.tpl.prev).appendTo(s.outer).bind("click.fb",s.prev),(e.loop||e.index<s.group.length-1)&&n(e.tpl.next).appendTo(s.outer).bind("click.fb",s.next)),s.trigger("afterShow"),e.loop||e.index!==e.group.length-1?s.opts.autoPlay&&!s.player.isActive&&(s.opts.autoPlay=!1,s.play()):s.play(!1))},_afterZoomOut:function(e){e=e||s.current,n(".fancybox-wrap").trigger("onReset").remove(),n.extend(s,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),s.trigger("afterClose",e)}}),s.transitions={getOrigPosition:function(){var e=s.current,t=e.element,n=e.orig,o={},i=50,r=50,a=e.hPadding,l=e.wPadding,c=s.getViewport();return!n&&e.isDom&&t.is(":visible")&&(n=t.find("img:first"),n.length||(n=t)),d(n)?(o=n.offset(),n.is("img")&&(i=n.outerWidth(),r=n.outerHeight())):(o.top=c.y+(c.h-r)*e.topRatio,o.left=c.x+(c.w-i)*e.leftRatio),("fixed"===s.wrap.css("position")||e.locked)&&(o.top-=c.y,o.left-=c.x),o={top:m(o.top-a*e.topRatio),left:m(o.left-l*e.leftRatio),width:m(i+l),height:m(r+a)}},step:function(e,t){var n,o,i=t.prop;o=s.current;var r=o.wrapSpace,a=o.skinSpace;("width"===i||"height"===i)&&(n=t.end===t.start?1:(e-t.start)/(t.end-t.start),s.isClosing&&(n=1-n),o="width"===i?o.wPadding:o.hPadding,o=e-o,s.skin[i](h("width"===i?o:o-r*n)),s.inner[i](h("width"===i?o:o-r*n-a*n)))},zoomIn:function(){var e=s.current,t=e.pos,o=e.openEffect,i="elastic"===o,r=n.extend({opacity:1},t);delete r.position,i?(t=this.getOrigPosition(),e.openOpacity&&(t.opacity=.1)):"fade"===o&&(t.opacity=.1),s.wrap.css(t).animate(r,{duration:"none"===o?0:e.openSpeed,easing:e.openEasing,step:i?this.step:null,complete:s._afterZoomIn})},zoomOut:function(){var e=s.current,t=e.closeEffect,n="elastic"===t,o={opacity:.1};n&&(o=this.getOrigPosition(),e.closeOpacity&&(o.opacity=.1)),s.wrap.animate(o,{duration:"none"===t?0:e.closeSpeed,easing:e.closeEasing,step:n?this.step:null,complete:s._afterZoomOut})},changeIn:function(){var e,t=s.current,n=t.nextEffect,o=t.pos,i={opacity:1},r=s.direction;o.opacity=.1,"elastic"===n&&(e="down"===r||"up"===r?"top":"left","down"===r||"right"===r?(o[e]=m(h(o[e])-200),i[e]="+=200px"):(o[e]=m(h(o[e])+200),i[e]="-=200px")),"none"===n?s._afterZoomIn():s.wrap.css(o).animate(i,{duration:t.nextSpeed,easing:t.nextEasing,complete:s._afterZoomIn})},changeOut:function(){var e=s.previous,t=e.prevEffect,o={opacity:.1},i=s.direction;"elastic"===t&&(o["down"===i||"up"===i?"top":"left"]=("up"===i||"left"===i?"-":"+")+"=200px"),e.wrap.animate(o,{duration:"none"===t?0:e.prevSpeed,easing:e.prevEasing,complete:function(){n(this).trigger("onReset").remove()}})}},s.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!u,fixed:!0},overlay:null,fixed:!1,el:n("html"),create:function(e){e=n.extend({},this.defaults,e),this.overlay&&this.close(),this.overlay=n('<div class="fancybox-overlay"></div>').appendTo(s.coming?s.coming.parent:e.parent),this.fixed=!1,e.fixed&&s.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(e){var t=this;e=n.extend({},this.defaults,e),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(e),this.fixed||(r.bind("resize.overlay",n.proxy(this.update,this)),this.update()),e.closeClick&&this.overlay.bind("click.overlay",function(e){return n(e.target).hasClass("fancybox-overlay")?(s.isActive?s.close():t.close(),!1):void 0}),this.overlay.css(e.css).show();
},close:function(){var e,t;r.unbind("resize.overlay"),this.el.hasClass("fancybox-lock")&&(n(".fancybox-margin").removeClass("fancybox-margin"),e=r.scrollTop(),t=r.scrollLeft(),this.el.removeClass("fancybox-lock"),r.scrollTop(e).scrollLeft(t)),n(".fancybox-overlay").remove().hide(),n.extend(this,{overlay:null,fixed:!1})},update:function(){var e,n="100%";this.overlay.width(n).height("100%"),l?(e=Math.max(t.documentElement.offsetWidth,t.body.offsetWidth),a.width()>e&&(n=a.width())):a.width()>r.width()&&(n=a.width()),this.overlay.width(n).height(a.height())},onReady:function(e,t){var o=this.overlay;n(".fancybox-overlay").stop(!0,!0),o||this.create(e),e.locked&&this.fixed&&t.fixed&&(o||(this.margin=a.height()>r.height()?n("html").css("margin-right").replace("px",""):!1),t.locked=this.overlay.append(t.wrap),t.fixed=!1),!0===e.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(e,t){var o,i;t.locked&&(!1!==this.margin&&(n("*").filter(function(){return"fixed"===n(this).css("position")&&!n(this).hasClass("fancybox-overlay")&&!n(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin")),o=r.scrollTop(),i=r.scrollLeft(),this.el.addClass("fancybox-lock"),r.scrollTop(o).scrollLeft(i)),this.open(e)},onUpdate:function(){this.fixed||this.update()},afterClose:function(e){this.overlay&&!s.coming&&this.overlay.fadeOut(e.speedOut,n.proxy(this.close,this))}},s.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(e){var t=s.current,o=t.title,i=e.type;if(n.isFunction(o)&&(o=o.call(t.element,t)),p(o)&&""!==n.trim(o)){switch(t=n('<div class="fancybox-title fancybox-title-'+i+'-wrap">'+o+"</div>"),i){case"inside":i=s.skin;break;case"outside":i=s.wrap;break;case"over":i=s.inner;break;default:i=s.skin,t.appendTo("body"),l&&t.width(t.width()),t.wrapInner('<span class="child"></span>'),s.current.margin[2]+=Math.abs(h(t.css("margin-bottom")))}t["top"===e.position?"prependTo":"appendTo"](i)}}},n.fn.fancybox=function(e){var t,o=n(this),i=this.selector||"",r=function(r){var a,l,c=n(this).blur(),u=t;!r.ctrlKey&&!r.altKey&&!r.shiftKey&&!r.metaKey&&!c.is(".fancybox-wrap")&&(a=e.groupAttr||"data-fancybox-group",l=c.attr(a),l||(a="rel",l=c.get(0)[a]),l&&""!==l&&"nofollow"!==l&&(c=i.length?n(i):o,c=c.filter("["+a+'="'+l+'"]'),u=c.index(this)),e.index=u,!1!==s.open(c,e)&&r.preventDefault())};return e=e||{},t=e.index||0,i&&!1!==e.live?a.undelegate(i,"click.fb-start").delegate(i+":not('.fancybox-item, .fancybox-nav')","click.fb-start",r):o.unbind("click.fb-start").bind("click.fb-start",r),this.filter("[data-fancybox-start=1]").trigger("click"),this},a.ready(function(){var t,r;if(n.scrollbarWidth===o&&(n.scrollbarWidth=function(){var e=n('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),t=e.children(),t=t.innerWidth()-t.height(99).innerWidth();return e.remove(),t}),n.support.fixedPosition===o){t=n.support,r=n('<div style="position:fixed;top:20px;"></div>').appendTo("body");var a=20===r[0].offsetTop||15===r[0].offsetTop;r.remove(),t.fixedPosition=a}n.extend(s.defaults,{scrollbarWidth:n.scrollbarWidth(),fixed:n.support.fixedPosition,parent:n("body")}),t=n(e).width(),i.addClass("fancybox-lock-test"),r=n(e).width(),i.removeClass("fancybox-lock-test"),n("<style type='text/css'>.fancybox-margin{margin-right:"+(r-t)+"px;}</style>").appendTo("head")})}(window,document,jQuery),function(e){"use strict";var t=e.fancybox,n=function(t,n,o){return o=o||"","object"===e.type(o)&&(o=e.param(o,!0)),e.each(n,function(e,n){t=t.replace("$"+e,n||"")}),o.length&&(t+=(t.indexOf("?")>0?"&":"?")+o),t};t.helpers.media={defaults:{youtube:{matcher:/(youtube\.com|youtu\.be|youtube-nocookie\.com)\/(watch\?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*)).*/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"opaque",enablejsapi:1},type:"iframe",url:"//www.youtube.com/embed/$3"},vimeo:{matcher:/(?:vimeo(?:pro)?.com)\/(?:[^\d]+)?(\d+)(?:.*)/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},type:"iframe",url:"//player.vimeo.com/video/$1"},metacafe:{matcher:/metacafe.com\/(?:watch|fplayer)\/([\w\-]{1,10})/,params:{autoPlay:"yes"},type:"swf",url:function(t,n,o){return o.swf.flashVars="playerVars="+e.param(n,!0),"//www.metacafe.com/fplayer/"+t[1]+"/.swf"}},dailymotion:{matcher:/dailymotion.com\/video\/(.*)\/?(.*)/,params:{additionalInfos:0,autoStart:1},type:"swf",url:"//www.dailymotion.com/swf/video/$1"},twitvid:{matcher:/twitvid\.com\/([a-zA-Z0-9_\-\?\=]+)/i,params:{autoplay:0},type:"iframe",url:"//www.twitvid.com/embed.php?guid=$1"},twitpic:{matcher:/twitpic\.com\/(?!(?:place|photos|events)\/)([a-zA-Z0-9\?\=\-]+)/i,type:"image",url:"//twitpic.com/show/full/$1/"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},google_maps:{matcher:/maps\.google\.([a-z]{2,3}(\.[a-z]{2})?)\/(\?ll=|maps\?)(.*)/i,type:"iframe",url:function(e){return"//maps.google."+e[1]+"/"+e[3]+e[4]+"&output="+(e[4].indexOf("layer=c")>0?"svembed":"embed")}}},beforeLoad:function(t,o){var i,r,a,s,l=o.href||"",c=!1;for(i in t)if(t.hasOwnProperty(i)&&(r=t[i],a=l.match(r.matcher))){c=r.type,s=e.extend(!0,{},r.params,o[i]||(e.isPlainObject(t[i])?t[i].params:null)),l="function"===e.type(r.url)?r.url.call(this,a,s,o):n(r.url,a,s);break}c&&(o.href=l,o.type=c,o.autoHeight=!1)}}}(jQuery),!function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1),t.enforceFocus(),n?t.$element.one(e.support.transition.end,function(){t.$element.focus().trigger("shown")}):t.$element.focus().trigger("shown")}))},hide:function(t){t&&t.preventDefault();t=e.Event("hide"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){t.$element[0]===e.target||t.$element.has(e.target).length||t.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){27==t.which&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n),t.hideModal()})},hideModal:function(){var e=this;this.$element.hide(),this.backdrop(function(){e.removeBackdrop(),e.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=e.support.transition&&n;if(this.$backdrop=e('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?e.proxy(this.$element[0].focus,this.$element[0]):e.proxy(this.hide,this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;o?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t):t()):t&&t()}};var n=e.fn.modal;e.fn.modal=function(n){return this.each(function(){var o=e(this),i=o.data("modal"),r=e.extend({},e.fn.modal.defaults,o.data(),"object"==typeof n&&n);i||o.data("modal",i=new t(this,r)),"string"==typeof n?i[n]():r.show&&i.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),o=n.attr("href"),i=e(n.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),r=i.data("modal")?"toggle":e.extend({remote:!/#/.test(o)&&o},i.data(),n.data());t.preventDefault(),i.modal(r).one("hide",function(){n.focus()})})}(window.jQuery),function(e,t,n){"use strict";function o(e){return function(){var t,n,o=arguments[0],i="["+(e?e+":":"")+o+"] ",r=arguments[1],a=arguments,s=function(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof e?"undefined":"string"!=typeof e?JSON.stringify(e):e};for(t=i+r.replace(/\{\d+\}/g,function(e){var t,n=+e.slice(1,-1);return n+2<a.length?(t=a[n+2],"function"==typeof t?t.toString().replace(/ ?\{[\s\S]*$/,""):"undefined"==typeof t?"undefined":"string"!=typeof t?U(t):t):e}),t=t+"\nhttp://errors.angularjs.org/1.2.26/"+(e?e+"/":"")+o,n=2;n<arguments.length;n++)t=t+(2==n?"?":"&")+"p"+(n-2)+"="+encodeURIComponent(s(arguments[n]));return new Error(t)}}function i(e){if(null==e||_(e))return!1;var t=e.length;return 1===e.nodeType&&t?!0:$(e)||Mn(e)||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){var o;if(e)if(C(e))for(o in e)"prototype"==o||"length"==o||"name"==o||e.hasOwnProperty&&!e.hasOwnProperty(o)||t.call(n,e[o],o);else if(Mn(e)||i(e))for(o=0;o<e.length;o++)t.call(n,e[o],o);else if(e.forEach&&e.forEach!==r)e.forEach(t,n);else for(o in e)e.hasOwnProperty(o)&&t.call(n,e[o],o);return e}function a(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t.sort()}function s(e,t,n){for(var o=a(e),i=0;i<o.length;i++)t.call(n,e[o[i]],o[i]);return o}function l(e){return function(t,n){e(n,t)}}function c(){for(var e,t=Pn.length;t;){if(t--,e=Pn[t].charCodeAt(0),57==e)return Pn[t]="A",Pn.join("");if(90!=e)return Pn[t]=String.fromCharCode(e+1),Pn.join("");Pn[t]="0"}return Pn.unshift("0"),Pn.join("")}function u(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function d(e){var t=e.$$hashKey;return r(arguments,function(t){t!==e&&r(t,function(t,n){e[n]=t})}),u(e,t),e}function p(e){return parseInt(e,10)}function f(e,t){return d(new(d(function(){},{prototype:e})),t)}function h(){}function m(e){return e}function g(e){return function(){return e}}function v(e){return"undefined"==typeof e}function y(e){return"undefined"!=typeof e}function w(e){return null!=e&&"object"==typeof e}function $(e){return"string"==typeof e}function b(e){return"number"==typeof e}function x(e){return"[object Date]"===_n.call(e)}function C(e){return"function"==typeof e}function S(e){return"[object RegExp]"===_n.call(e)}function _(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function k(e){return e&&e.$evalAsync&&e.$watch}function T(e){return"[object File]"===_n.call(e)}function P(e){return"[object Blob]"===_n.call(e)}function M(e){return e&&C(e.then)}function D(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function E(e,t,n){var o=[];return r(e,function(e,i,r){o.push(t.call(n,e,i,r))}),o}function A(e,t){return-1!=I(e,t)}function I(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(t===e[n])return n;return-1}function L(e,t){var n=I(e,t);return n>=0&&e.splice(n,1),t}function O(e,t,n,o){if(_(e)||k(e))throw kn("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(t){if(e===t)throw kn("cpi","Can't copy! Source and destination are identical.");if(n=n||[],o=o||[],w(e)){var i=I(n,e);if(-1!==i)return o[i];n.push(e),o.push(t)}var a;if(Mn(e)){t.length=0;for(var s=0;s<e.length;s++)a=O(e[s],null,n,o),w(e[s])&&(n.push(e[s]),o.push(a)),t.push(a)}else{var l=t.$$hashKey;Mn(t)?t.length=0:r(t,function(e,n){delete t[n]});for(var c in e)a=O(e[c],null,n,o),w(e[c])&&(n.push(e[c]),o.push(a)),t[c]=a;u(t,l)}}else t=e,e&&(Mn(e)?t=O(e,[],n,o):x(e)?t=new Date(e.getTime()):S(e)?(t=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]),t.lastIndex=e.lastIndex):w(e)&&(t=O(e,{},n,o)));return t}function N(e,t){if(Mn(e)){t=t||[];for(var n=0;n<e.length;n++)t[n]=e[n]}else if(w(e)){t=t||{};for(var o in e)!hn.call(e,o)||"$"===o.charAt(0)&&"$"===o.charAt(1)||(t[o]=e[o])}return t||e}function R(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var o,i,r,a=typeof e,s=typeof t;if(a==s&&"object"==a){if(!Mn(e)){if(x(e))return x(t)?isNaN(e.getTime())&&isNaN(t.getTime())||e.getTime()===t.getTime():!1;if(S(e)&&S(t))return e.toString()==t.toString();if(k(e)||k(t)||_(e)||_(t)||Mn(t))return!1;r={};for(i in e)if("$"!==i.charAt(0)&&!C(e[i])){if(!R(e[i],t[i]))return!1;r[i]=!0}for(i in t)if(!r.hasOwnProperty(i)&&"$"!==i.charAt(0)&&t[i]!==n&&!C(t[i]))return!1;return!0}if(!Mn(t))return!1;if((o=e.length)==t.length){for(i=0;o>i;i++)if(!R(e[i],t[i]))return!1;return!0}}return!1}function B(e,t,n){return e.concat(Cn.call(t,n))}function j(e,t){return Cn.call(e,t||0)}function F(e,t){var n=arguments.length>2?j(arguments,2):[];return!C(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,n.concat(Cn.call(arguments,0))):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function H(e,o){var i=o;return"string"==typeof e&&"$"===e.charAt(0)?i=n:_(o)?i="$WINDOW":o&&t===o?i="$DOCUMENT":k(o)&&(i="$SCOPE"),i}function U(e,t){return"undefined"==typeof e?n:JSON.stringify(e,H,t?"  ":null)}function V(e){return $(e)?JSON.parse(e):e}function q(e){if("function"==typeof e)e=!0;else if(e&&0!==e.length){var t=fn(""+e);e=!("f"==t||"0"==t||"false"==t||"no"==t||"n"==t||"[]"==t)}else e=!1;return e}function W(e){e=wn(e).clone();try{e.empty()}catch(t){}var n=3,o=wn("<div>").append(e).html();try{return e[0].nodeType===n?fn(o):o.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+fn(t)})}catch(t){return fn(o)}}function z(e){try{return decodeURIComponent(e)}catch(t){}}function Y(e){var t,n,o={};return r((e||"").split("&"),function(e){if(e&&(t=e.replace(/\+/g,"%20").split("="),n=z(t[0]),y(n))){var i=y(t[1])?z(t[1]):!0;hn.call(o,n)?Mn(o[n])?o[n].push(i):o[n]=[o[n],i]:o[n]=i}}),o}function G(e){var t=[];return r(e,function(e,n){Mn(e)?r(e,function(e){t.push(Q(n,!0)+(e===!0?"":"="+Q(e,!0)))}):t.push(Q(n,!0)+(e===!0?"":"="+Q(e,!0)))}),t.length?t.join("&"):""}function X(e){return Q(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Q(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function Z(e,n){function o(e){e&&s.push(e)}var i,a,s=[e],l=["ng:app","ng-app","x-ng-app","data-ng-app"],c=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;r(l,function(n){l[n]=!0,o(t.getElementById(n)),n=n.replace(":","\\:"),e.querySelectorAll&&(r(e.querySelectorAll("."+n),o),r(e.querySelectorAll("."+n+"\\:"),o),r(e.querySelectorAll("["+n+"]"),o))}),r(s,function(e){if(!i){var t=" "+e.className+" ",n=c.exec(t);n?(i=e,a=(n[2]||"").replace(/\s+/g,",")):r(e.attributes,function(t){!i&&l[t.name]&&(i=e,a=t.value)})}}),i&&n(i,a?[a]:[])}function K(n,o){var i=function(){if(n=wn(n),n.injector()){var e=n[0]===t?"document":W(n);throw kn("btstrpd","App Already Bootstrapped with this Element '{0}'",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}o=o||[],o.unshift(["$provide",function(e){e.value("$rootElement",n)}]),o.unshift("ng");var i=Ie(o);return i.invoke(["$rootScope","$rootElement","$compile","$injector","$animate",function(e,t,n,o,i){e.$apply(function(){t.data("$injector",o),n(t)(e)})}]),i},a=/^NG_DEFER_BOOTSTRAP!/;return e&&!a.test(e.name)?i():(e.name=e.name.replace(a,""),void(Tn.resumeBootstrap=function(e){r(e,function(e){o.push(e)}),i()}))}function J(e,t){return t=t||"_",e.replace(An,function(e,n){return(n?t:"")+e.toLowerCase()})}function ee(){$n=e.jQuery,$n&&$n.fn.on?(wn=$n,d($n.fn,{scope:zn.scope,isolateScope:zn.isolateScope,controller:zn.controller,injector:zn.injector,inheritedData:zn.inheritedData}),ue("remove",!0,!0,!1),ue("empty",!1,!1,!1),ue("html",!1,!1,!0)):wn=he,Tn.element=wn}function te(e,t,n){if(!e)throw kn("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function ne(e,t,n){return n&&Mn(e)&&(e=e[e.length-1]),te(C(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function oe(e,t){if("hasOwnProperty"===e)throw kn("badname","hasOwnProperty is not a valid {0} name",t)}function ie(e,t,n){if(!t)return e;for(var o,i=t.split("."),r=e,a=i.length,s=0;a>s;s++)o=i[s],e&&(e=(r=e)[o]);return!n&&C(e)?F(r,e):e}function re(e){var t=e[0],n=e[e.length-1];if(t===n)return wn(t);var o=t,i=[o];do{if(o=o.nextSibling,!o)break;i.push(o)}while(o!==n);return wn(i)}function ae(e){function t(e,t,n){return e[t]||(e[t]=n())}var n=o("$injector"),i=o("ng"),r=t(e,"angular",Object);return r.$$minErr=r.$$minErr||o,t(r,"module",function(){var e={};return function(o,r,a){var s=function(e,t){if("hasOwnProperty"===e)throw i("badname","hasOwnProperty is not a valid {0} name",t)};return s(o,"module"),r&&e.hasOwnProperty(o)&&(e[o]=null),t(e,o,function(){function e(e,n,o){return function(){return t[o||"push"]([e,n,arguments]),l}}if(!r)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",o);var t=[],i=[],s=e("$injector","invoke"),l={_invokeQueue:t,_runBlocks:i,requires:r,name:o,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),animation:e("$animateProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:s,run:function(e){return i.push(e),this}};return a&&s(a),l})}})}function se(t){d(t,{bootstrap:K,copy:O,extend:d,equals:R,element:wn,forEach:r,injector:Ie,noop:h,bind:F,toJson:U,fromJson:V,identity:m,isUndefined:v,isDefined:y,isString:$,isFunction:C,isObject:w,isNumber:b,isElement:D,isArray:Mn,version:In,isDate:x,lowercase:fn,uppercase:mn,callbacks:{counter:0},$$minErr:o,$$csp:En}),bn=ae(e);try{bn("ngLocale")}catch(n){bn("ngLocale",[]).provider("$locale",nt)}bn("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Pt}),e.provider("$compile",Fe).directive({a:Do,input:Ho,textarea:Ho,form:Lo,script:Ci,select:ki,style:Pi,option:Ti,ngBind:Jo,ngBindHtml:ti,ngBindTemplate:ei,ngClass:ni,ngClassEven:ii,ngClassOdd:oi,ngCloak:ri,ngController:ai,ngForm:Oo,ngHide:vi,ngIf:ci,ngInclude:ui,ngInit:pi,ngNonBindable:fi,ngPluralize:hi,ngRepeat:mi,ngShow:gi,ngStyle:yi,ngSwitch:wi,ngSwitchWhen:$i,ngSwitchDefault:bi,ngOptions:_i,ngTransclude:xi,ngModel:Yo,ngList:Qo,ngChange:Go,required:Xo,ngRequired:Xo,ngValue:Ko}).directive({ngInclude:di}).directive(Eo).directive(si),e.provider({$anchorScroll:Le,$animate:to,$browser:Re,$cacheFactory:Be,$controller:Ve,$document:qe,$exceptionHandler:We,$filter:jt,$interpolate:et,$interval:tt,$http:Qe,$httpBackend:Ke,$location:mt,$log:gt,$parse:Ct,$rootScope:Tt,$q:St,$sce:It,$sceDelegate:At,$sniffer:Lt,$templateCache:je,$timeout:Ot,$window:Bt,$$rAF:kt,$$asyncCallback:Oe})}])}function le(){return++On}function ce(e){return e.replace(Bn,function(e,t,n,o){return o?n.toUpperCase():n}).replace(jn,"Moz$1")}function ue(e,t,n,o){function i(e){var i,a,s,l,c,u,d,p=n&&e?[this.filter(e)]:[this],f=t;if(!o||null!=e)for(;p.length;)for(i=p.shift(),a=0,s=i.length;s>a;a++)for(l=wn(i[a]),f?l.triggerHandler("$destroy"):f=!f,c=0,u=(d=l.children()).length;u>c;c++)p.push($n(d[c]));return r.apply(this,arguments)}var r=$n.fn[e];r=r.$original||r,i.$original=r,$n.fn[e]=i}function de(e){return!Un.test(e)}function pe(e,t){var n,o,i,r,a,s,l=t.createDocumentFragment(),c=[];if(de(e))c.push(t.createTextNode(e));else{for(n=l.appendChild(t.createElement("div")),o=(Vn.exec(e)||["",""])[1].toLowerCase(),i=Wn[o]||Wn._default,n.innerHTML="<div>&#160;</div>"+i[1]+e.replace(qn,"<$1></$2>")+i[2],n.removeChild(n.firstChild),r=i[0];r--;)n=n.lastChild;for(a=0,s=n.childNodes.length;s>a;++a)c.push(n.childNodes[a]);n=l.firstChild,n.textContent=""}return l.textContent="",l.innerHTML="",c}function fe(e,n){n=n||t;var o;return(o=Hn.exec(e))?[n.createElement(o[1])]:pe(e,n)}function he(e){if(e instanceof he)return e;if($(e)&&(e=Dn(e)),!(this instanceof he)){if($(e)&&"<"!=e.charAt(0))throw Fn("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new he(e)}if($(e)){Se(this,fe(e));var n=wn(t.createDocumentFragment());n.append(this)}else Se(this,e)}function me(e){return e.cloneNode(!0)}function ge(e){ye(e);for(var t=0,n=e.childNodes||[];t<n.length;t++)ge(n[t])}function ve(e,t,n,o){if(y(o))throw Fn("offargs","jqLite#off() does not support the `selector` argument");var i=we(e,"events"),a=we(e,"handle");a&&(v(t)?r(i,function(t,n){Rn(e,n,t),delete i[n]}):r(t.split(" "),function(t){v(n)?(Rn(e,t,i[t]),delete i[t]):L(i[t]||[],n)}))}function ye(e,t){var o=e.ng339,i=Ln[o];if(i){if(t)return void delete Ln[o].data[t];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),ve(e)),delete Ln[o],e.ng339=n}}function we(e,t,n){var o=e.ng339,i=Ln[o||-1];return y(n)?(i||(e.ng339=o=le(),i=Ln[o]={}),void(i[t]=n)):i&&i[t]}function $e(e,t,n){var o=we(e,"data"),i=y(n),r=!i&&y(t),a=r&&!w(t);if(o||a||we(e,"data",o={}),i)o[t]=n;else{if(!r)return o;if(a)return o&&o[t];d(o,t)}}function be(e,t){return e.getAttribute?(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1:!1}function xe(e,t){t&&e.setAttribute&&r(t.split(" "),function(t){e.setAttribute("class",Dn((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Dn(t)+" "," ")))})}function Ce(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");r(t.split(" "),function(e){e=Dn(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",Dn(n))}}function Se(e,t){if(t){t=t.nodeName||!y(t.length)||_(t)?[t]:t;for(var n=0;n<t.length;n++)e.push(t[n])}}function _e(e,t){return ke(e,"$"+(t||"ngController")+"Controller")}function ke(e,t,o){9==e.nodeType&&(e=e.documentElement);for(var i=Mn(t)?t:[t];e;){for(var r=0,a=i.length;a>r;r++)if((o=wn.data(e,i[r]))!==n)return o;e=e.parentNode||11===e.nodeType&&e.host}}function Te(e){for(var t=0,n=e.childNodes;t<n.length;t++)ge(n[t]);for(;e.firstChild;)e.removeChild(e.firstChild)}function Pe(e,t){var n=Yn[t.toLowerCase()];return n&&Gn[e.nodeName]&&n}function Me(e,n){var o=function(o,i){if(o.preventDefault||(o.preventDefault=function(){o.returnValue=!1}),o.stopPropagation||(o.stopPropagation=function(){o.cancelBubble=!0}),o.target||(o.target=o.srcElement||t),v(o.defaultPrevented)){var a=o.preventDefault;o.preventDefault=function(){o.defaultPrevented=!0,a.call(o)},o.defaultPrevented=!1}o.isDefaultPrevented=function(){return o.defaultPrevented||o.returnValue===!1};var s=N(n[i||o.type]||[]);r(s,function(t){t.call(e,o)}),8>=yn?(o.preventDefault=null,o.stopPropagation=null,o.isDefaultPrevented=null):(delete o.preventDefault,delete o.stopPropagation,delete o.isDefaultPrevented)};return o.elem=e,o}function De(e,t){var o,i=typeof e;return"function"==i||"object"==i&&null!==e?"function"==typeof(o=e.$$hashKey)?o=e.$$hashKey():o===n&&(o=e.$$hashKey=(t||c)()):o=e,i+":"+o}function Ee(e,t){if(t){var n=0;this.nextUid=function(){return++n}}r(e,this.put,this)}function Ae(e){var t,n,o,i;return"function"==typeof e?(t=e.$inject)||(t=[],e.length&&(n=e.toString().replace(Kn,""),o=n.match(Xn),r(o[1].split(Qn),function(e){e.replace(Zn,function(e,n,o){t.push(o)})})),e.$inject=t):Mn(e)?(i=e.length-1,ne(e[i],"fn"),t=e.slice(0,i)):ne(e,"fn",!0),t}function Ie(e){function t(e){return function(t,n){return w(t)?void r(t,l(e)):e(t,n)}}function n(e,t){if(oe(e,"service"),(C(t)||Mn(t))&&(t=b.instantiate(t)),!t.$get)throw Jn("pget","Provider '{0}' must define $get factory method.",e);return y[e+f]=t}function o(e,t){return n(e,{$get:t})}function i(e,t){return o(e,["$injector",function(e){return e.instantiate(t)}])}function a(e,t){return o(e,g(t))}function s(e,t){oe(e,"constant"),y[e]=t,x[e]=t}function c(e,t){var n=b.get(e+f),o=n.$get;n.$get=function(){var e=S.invoke(o,n);return S.invoke(t,null,{$delegate:e})}}function u(e){var t,n,o,i,a=[];return r(e,function(e){if(!v.get(e)){v.put(e,!0);try{if($(e))for(t=bn(e),a=a.concat(u(t.requires)).concat(t._runBlocks),n=t._invokeQueue,o=0,i=n.length;i>o;o++){var r=n[o],s=b.get(r[0]);s[r[1]].apply(s,r[2])}else C(e)?a.push(b.invoke(e)):Mn(e)?a.push(b.invoke(e)):ne(e,"module")}catch(l){throw Mn(e)&&(e=e[e.length-1]),l.message&&l.stack&&-1==l.stack.indexOf(l.message)&&(l=l.message+"\n"+l.stack),Jn("modulerr","Failed to instantiate module {0} due to:\n{1}",e,l.stack||l.message||l)}}}),a}function d(e,t){function n(n){if(e.hasOwnProperty(n)){if(e[n]===p)throw Jn("cdep","Circular dependency found: {0}",n+" <- "+m.join(" <- "));return e[n]}try{return m.unshift(n),e[n]=p,e[n]=t(n)}catch(o){throw e[n]===p&&delete e[n],o}finally{m.shift()}}function o(e,t,o){var i,r,a,s=[],l=Ae(e);for(r=0,i=l.length;i>r;r++){if(a=l[r],"string"!=typeof a)throw Jn("itkn","Incorrect injection token! Expected service name as string, got {0}",a);s.push(o&&o.hasOwnProperty(a)?o[a]:n(a))}return Mn(e)&&(e=e[i]),e.apply(t,s)}function i(e,t){var n,i,r=function(){};return r.prototype=(Mn(e)?e[e.length-1]:e).prototype,n=new r,i=o(e,n,t),w(i)||C(i)?i:n}return{invoke:o,instantiate:i,get:n,annotate:Ae,has:function(t){return y.hasOwnProperty(t+f)||e.hasOwnProperty(t)}}}var p={},f="Provider",m=[],v=new Ee([],!0),y={$provide:{provider:t(n),factory:t(o),service:t(i),value:t(a),constant:t(s),decorator:c}},b=y.$injector=d(y,function(){throw Jn("unpr","Unknown provider: {0}",m.join(" <- "))}),x={},S=x.$injector=d(x,function(e){var t=b.get(e+f);return S.invoke(t.$get,t)});return r(u(e),function(e){S.invoke(e||h)}),S}function Le(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,o){function i(e){var t=null;return r(e,function(e){t||"a"!==fn(e.nodeName)||(t=e)}),t}function a(){var e,o=n.hash();o?(e=s.getElementById(o))?e.scrollIntoView():(e=i(s.getElementsByName(o)))?e.scrollIntoView():"top"===o&&t.scrollTo(0,0):t.scrollTo(0,0)}var s=t.document;return e&&o.$watch(function(){return n.hash()},function(){o.$evalAsync(a)}),a}]}function Oe(){this.$get=["$$rAF","$timeout",function(e,t){return e.supported?function(t){return e(t)}:function(e){return t(e,0,!1)}}]}function Ne(e,t,o,i){function a(e){try{e.apply(null,j(arguments,1))}finally{if(y--,0===y)for(;w.length;)try{w.pop()()}catch(t){o.error(t)}}}function s(e,t){!function n(){r(x,function(e){e()}),b=t(n,e)}()}function l(){_=null,C!=c.url()&&(C=c.url(),r(k,function(e){e(c.url())}))}var c=this,u=t[0],d=e.location,p=e.history,f=e.setTimeout,m=e.clearTimeout,g={};c.isMock=!1;var y=0,w=[];c.$$completeOutstandingRequest=a,c.$$incOutstandingRequestCount=function(){y++},c.notifyWhenNoOutstandingRequests=function(e){r(x,function(e){e()}),0===y?e():w.push(e)};var b,x=[];c.addPollFn=function(e){return v(b)&&s(100,f),x.push(e),e};var C=d.href,S=t.find("base"),_=null;c.url=function(t,n){if(d!==e.location&&(d=e.location),p!==e.history&&(p=e.history),t){if(C==t)return;return C=t,i.history?n?p.replaceState(null,"",t):(p.pushState(null,"",t),S.attr("href",S.attr("href"))):(_=t,n?d.replace(t):d.href=t),c}return _||d.href.replace(/%27/g,"'")};var k=[],T=!1;c.onUrlChange=function(t){return T||(i.history&&wn(e).on("popstate",l),i.hashchange?wn(e).on("hashchange",l):c.addPollFn(l),T=!0),k.push(t),t},c.$$checkUrlChange=l,c.baseHref=function(){var e=S.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var P={},M="",D=c.baseHref();c.cookies=function(e,t){var i,r,a,s,l;if(!e){if(u.cookie!==M)for(M=u.cookie,r=M.split("; "),P={},s=0;s<r.length;s++)a=r[s],l=a.indexOf("="),l>0&&(e=unescape(a.substring(0,l)),P[e]===n&&(P[e]=unescape(a.substring(l+1))));return P}t===n?u.cookie=escape(e)+"=;path="+D+";expires=Thu, 01 Jan 1970 00:00:00 GMT":$(t)&&(i=(u.cookie=escape(e)+"="+escape(t)+";path="+D).length+1,i>4096&&o.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+i+" > 4096 bytes)!"))},c.defer=function(e,t){var n;return y++,n=f(function(){delete g[n],a(e)},t||0),g[n]=!0,n},c.defer.cancel=function(e){return g[e]?(delete g[e],m(e),a(h),!0):!1}}function Re(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,o){return new Ne(e,o,t,n)}]}function Be(){this.$get=function(){function e(e,n){function i(e){e!=p&&(f?f==e&&(f=e.n):f=e,r(e.n,e.p),r(e,p),p=e,p.n=null)}function r(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw o("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var a=0,s=d({},n,{id:e}),l={},c=n&&n.capacity||Number.MAX_VALUE,u={},p=null,f=null;return t[e]={put:function(e,t){if(c<Number.MAX_VALUE){var n=u[e]||(u[e]={key:e});i(n)}if(!v(t))return e in l||a++,l[e]=t,a>c&&this.remove(f.key),t},get:function(e){if(c<Number.MAX_VALUE){var t=u[e];if(!t)return;i(t)}return l[e]},remove:function(e){if(c<Number.MAX_VALUE){var t=u[e];if(!t)return;t==p&&(p=t.p),t==f&&(f=t.n),r(t.n,t.p),delete u[e]}delete l[e],a--},removeAll:function(){l={},a=0,u={},p=f=null},destroy:function(){l=null,s=null,u=null,delete t[e]},info:function(){return d({},s,{size:a})}}}var t={};return e.info=function(){var e={};return r(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function je(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function Fe(e,o){var i={},a="Directive",s=/^\s*directive\:\s*([\d\w_\-]+)\s+(.*)$/,c=/(([\d\w_\-]+)(?:\:([^;]+))?;?)/,u=/^(on[a-z]+|formaction)$/;this.directive=function p(t,n){return oe(t,"directive"),$(t)?(te(n,"directiveFactory"),i.hasOwnProperty(t)||(i[t]=[],e.factory(t+a,["$injector","$exceptionHandler",function(e,n){var o=[];return r(i[t],function(i,r){try{var a=e.invoke(i);C(a)?a={compile:g(a)}:!a.compile&&a.link&&(a.compile=g(a.link)),a.priority=a.priority||0,a.index=r,a.name=a.name||t,a.require=a.require||a.controller&&a.name,a.restrict=a.restrict||"A",o.push(a)}catch(s){n(s)}}),o}])),i[t].push(n)):r(t,l(p)),this},this.aHrefSanitizationWhitelist=function(e){return y(e)?(o.aHrefSanitizationWhitelist(e),this):o.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return y(e)?(o.imgSrcSanitizationWhitelist(e),this):o.imgSrcSanitizationWhitelist()},this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(e,o,l,p,h,g,v,y,b,x,S,_){function k(e,t,n,o,i){e instanceof wn||(e=wn(e)),r(e,function(t,n){3==t.nodeType&&t.nodeValue.match(/\S+/)&&(e[n]=t=wn(t).wrap("<span></span>").parent()[0])});var a=P(e,t,e,n,o,i);return T(e,"ng-scope"),function(t,n,o,i){te(t,"scope");var s=n?zn.clone.call(e):e;r(o,function(e,t){s.data("$"+t+"Controller",e)});for(var l=0,c=s.length;c>l;l++){var u=s[l],d=u.nodeType;(1===d||9===d)&&s.eq(l).data("$scope",t)}return n&&n(s,t),a&&a(t,s,s,i),s}}function T(e,t){try{e.addClass(t)}catch(n){}}function P(e,t,o,i,r,a){function s(e,o,i,r){var a,s,l,c,u,d,p,f,m=o.length,g=new Array(m);for(u=0;m>u;u++)g[u]=o[u];for(u=0,p=0,d=h.length;d>u;p++)l=g[p],a=h[u++],s=h[u++],a?(a.scope?(c=e.$new(),wn.data(l,"$scope",c)):c=e,f=a.transcludeOnThisElement?M(e,a.transclude,r):!a.templateOnThisElement&&r?r:!r&&t?M(e,t):null,a(s,c,l,i,f)):s&&s(e,l.childNodes,n,r)}for(var l,c,u,d,p,f,h=[],m=0;m<e.length;m++)l=new X,c=D(e[m],[],l,0===m?i:n,r),u=c.length?I(c,e[m],l,t,o,null,[],[],a):null,u&&u.scope&&T(l.$$element,"ng-scope"),p=u&&u.terminal||!(d=e[m].childNodes)||!d.length?null:P(d,u?(u.transcludeOnThisElement||!u.templateOnThisElement)&&u.transclude:t),
h.push(u,p),f=f||u||p,a=null;return f?s:null}function M(e,t,n){var o=function(o,i,r){var a=!1;o||(o=e.$new(),o.$$transcluded=!0,a=!0);var s=t(o,i,r,n);return a&&s.on("$destroy",function(){o.$destroy()}),s};return o}function D(e,t,n,o,i){var r,a,l=e.nodeType,u=n.$attr;switch(l){case 1:O(t,He(xn(e).toLowerCase()),"E",o,i);for(var d,p,f,h,m,g,v=e.attributes,y=0,w=v&&v.length;w>y;y++){var b=!1,x=!1;if(d=v[y],!yn||yn>=8||d.specified){p=d.name,m=Dn(d.value),h=He(p),(g=ee.test(h))&&(p=J(h.substr(6),"-"));var C=h.replace(/(Start|End)$/,"");h===C+"Start"&&(b=p,x=p.substr(0,p.length-5)+"end",p=p.substr(0,p.length-6)),f=He(p.toLowerCase()),u[f]=p,(g||!n.hasOwnProperty(f))&&(n[f]=m,Pe(e,f)&&(n[f]=!0)),z(e,t,m,f),O(t,f,"A",o,i,b,x)}}if(a=e.className,$(a)&&""!==a)for(;r=c.exec(a);)f=He(r[2]),O(t,f,"C",o,i)&&(n[f]=Dn(r[3])),a=a.substr(r.index+r[0].length);break;case 3:V(t,e.nodeValue);break;case 8:try{r=s.exec(e.nodeValue),r&&(f=He(r[1]),O(t,f,"M",o,i)&&(n[f]=Dn(r[2])))}catch(S){}}return t.sort(H),t}function E(e,t,n){var o=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw no("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);1==e.nodeType&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),o.push(e),e=e.nextSibling}while(i>0)}else o.push(e);return wn(o)}function A(e,t,n){return function(o,i,r,a,s){return i=E(i[0],t,n),e(o,i,r,a,s)}}function I(e,i,a,s,c,u,d,p,f){function h(e,t,n,o){e&&(n&&(e=A(e,n,o)),e.require=x.require,e.directiveName=S,(H===x||x.$$isolateScope)&&(e=G(e,{isolateScope:!0})),d.push(e)),t&&(n&&(t=A(t,n,o)),t.require=x.require,t.directiveName=S,(H===x||x.$$isolateScope)&&(t=G(t,{isolateScope:!0})),p.push(t))}function m(e,t,n,o){var i,a="data",s=!1;if($(t)){for(;"^"==(i=t.charAt(0))||"?"==i;)t=t.substr(1),"^"==i&&(a="inheritedData"),s=s||"?"==i;if(i=null,o&&"data"===a&&(i=o[t]),i=i||n[a]("$"+t+"Controller"),!i&&!s)throw no("ctreq","Controller '{0}', required by directive '{1}', can't be found!",t,e);return i}return Mn(t)&&(i=[],r(t,function(t){i.push(m(e,t,n,o))})),i}function y(e,t,s,c,u){function f(e,t){var o;return arguments.length<2&&(t=e,e=n),Z&&(o=_),u(e,t,o)}var h,y,w,$,b,x,C,S,_={};if(h=i===s?a:N(a,new X(wn(s),a.$attr)),y=h.$$element,H){var k=/^\s*([@=&])(\??)\s*(\w*)\s*$/;C=t.$new(!0),!V||V!==H&&V!==H.$$originalDirective?y.data("$isolateScopeNoTemplate",C):y.data("$isolateScope",C),T(y,"ng-isolate-scope"),r(H.scope,function(e,n){var i,r,a,s,l=e.match(k)||[],c=l[3]||n,u="?"==l[2],d=l[1];switch(C.$$isolateBindings[n]=d+c,d){case"@":h.$observe(c,function(e){C[n]=e}),h.$$observers[c].$$scope=t,h[c]&&(C[n]=o(h[c])(t));break;case"=":if(u&&!h[c])return;r=g(h[c]),s=r.literal?R:function(e,t){return e===t||e!==e&&t!==t},a=r.assign||function(){throw i=C[n]=r(t),no("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",h[c],H.name)},i=C[n]=r(t),C.$watch(function(){var e=r(t);return s(e,C[n])||(s(e,i)?a(t,e=C[n]):C[n]=e),i=e},null,r.literal);break;case"&":r=g(h[c]),C[n]=function(e){return r(t,e)};break;default:throw no("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",H.name,n,e)}})}for(S=u&&f,O&&r(O,function(e){var n,o={$scope:e===H||e.$$isolateScope?C:t,$element:y,$attrs:h,$transclude:S};x=e.controller,"@"==x&&(x=h[e.name]),n=v(x,o),_[e.name]=n,Z||y.data("$"+e.name+"Controller",n),e.controllerAs&&(o.$scope[e.controllerAs]=n)}),w=0,$=d.length;$>w;w++)try{b=d[w],b(b.isolateScope?C:t,y,h,b.require&&m(b.directiveName,b.require,y,_),S)}catch(P){l(P,W(y))}var M=t;for(H&&(H.template||null===H.templateUrl)&&(M=C),e&&e(M,s.childNodes,n,u),w=p.length-1;w>=0;w--)try{b=p[w],b(b.isolateScope?C:t,y,h,b.require&&m(b.directiveName,b.require,y,_),S)}catch(P){l(P,W(y))}}f=f||{};for(var b,x,S,_,P,M,I=-Number.MAX_VALUE,O=f.controllerDirectives,H=f.newIsolateScopeDirective,V=f.templateDirective,q=f.nonTlbTranscludeDirective,z=!1,Q=!1,Z=f.hasElementTranscludeDirective,J=a.$$element=wn(i),ee=u,te=s,ne=0,oe=e.length;oe>ne;ne++){x=e[ne];var ie=x.$$start,re=x.$$end;if(ie&&(J=E(i,ie,re)),_=n,I>x.priority)break;if((M=x.scope)&&(b=b||x,x.templateUrl||(U("new/isolated scope",H,x,J),w(M)&&(H=x))),S=x.name,!x.templateUrl&&x.controller&&(M=x.controller,O=O||{},U("'"+S+"' controller",O[S],x,J),O[S]=x),(M=x.transclude)&&(z=!0,x.$$tlb||(U("transclusion",q,x,J),q=x),"element"==M?(Z=!0,I=x.priority,_=J,J=a.$$element=wn(t.createComment(" "+S+": "+a[S]+" ")),i=J[0],Y(c,j(_),i),te=k(_,s,I,ee&&ee.name,{nonTlbTranscludeDirective:q})):(_=wn(me(i)).contents(),J.empty(),te=k(_,s))),x.template)if(Q=!0,U("template",V,x,J),V=x,M=C(x.template)?x.template(J,a):x.template,M=K(M),x.replace){if(ee=x,_=de(M)?[]:wn(Dn(M)),i=_[0],1!=_.length||1!==i.nodeType)throw no("tplrt","Template for directive '{0}' must have exactly one root element. {1}",S,"");Y(c,J,i);var ae={$attr:{}},se=D(i,[],ae),le=e.splice(ne+1,e.length-(ne+1));H&&L(se),e=e.concat(se).concat(le),B(a,ae),oe=e.length}else J.html(M);if(x.templateUrl)Q=!0,U("template",V,x,J),V=x,x.replace&&(ee=x),y=F(e.splice(ne,e.length-ne),J,a,c,z&&te,d,p,{controllerDirectives:O,newIsolateScopeDirective:H,templateDirective:V,nonTlbTranscludeDirective:q}),oe=e.length;else if(x.compile)try{P=x.compile(J,a,te),C(P)?h(null,P,ie,re):P&&h(P.pre,P.post,ie,re)}catch(ce){l(ce,W(J))}x.terminal&&(y.terminal=!0,I=Math.max(I,x.priority))}return y.scope=b&&b.scope===!0,y.transcludeOnThisElement=z,y.templateOnThisElement=Q,y.transclude=te,f.hasElementTranscludeDirective=Z,y}function L(e){for(var t=0,n=e.length;n>t;t++)e[t]=f(e[t],{$$isolateScope:!0})}function O(t,o,r,s,c,u,d){if(o===c)return null;var p=null;if(i.hasOwnProperty(o))for(var h,m=e.get(o+a),g=0,v=m.length;v>g;g++)try{h=m[g],(s===n||s>h.priority)&&-1!=h.restrict.indexOf(r)&&(u&&(h=f(h,{$$start:u,$$end:d})),t.push(h),p=h)}catch(y){l(y)}return p}function B(e,t){var n=t.$attr,o=e.$attr,i=e.$$element;r(e,function(o,i){"$"!=i.charAt(0)&&(t[i]&&t[i]!==o&&(o+=("style"===i?";":" ")+t[i]),e.$set(i,o,!0,n[i]))}),r(t,function(t,r){"class"==r?(T(i,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):"style"==r?(i.attr("style",i.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==r.charAt(0)||e.hasOwnProperty(r)||(e[r]=t,o[r]=n[r])})}function F(e,t,n,o,i,a,s,l){var c,u,f=[],m=t[0],g=e.shift(),v=d({},g,{templateUrl:null,transclude:null,replace:null,$$originalDirective:g}),y=C(g.templateUrl)?g.templateUrl(t,n):g.templateUrl;return t.empty(),p.get(x.getTrustedResourceUrl(y),{cache:h}).success(function(d){var p,h,$,b;if(d=K(d),g.replace){if($=de(d)?[]:wn(Dn(d)),p=$[0],1!=$.length||1!==p.nodeType)throw no("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g.name,y);h={$attr:{}},Y(o,t,p);var x=D(p,[],h);w(g.scope)&&L(x),e=x.concat(e),B(n,h)}else p=m,t.html(d);for(e.unshift(v),c=I(e,p,n,i,t,g,a,s,l),r(o,function(e,n){e==p&&(o[n]=t[0])}),u=P(t[0].childNodes,i);f.length;){var C=f.shift(),S=f.shift(),_=f.shift(),k=f.shift(),E=t[0];if(S!==m){var A=S.className;l.hasElementTranscludeDirective&&g.replace||(E=me(p)),Y(_,wn(S),E),T(wn(E),A)}b=c.transcludeOnThisElement?M(C,c.transclude,k):k,c(u,C,E,o,b)}f=null}).error(function(e,t,n,o){throw no("tpload","Failed to load template: {0}",o.url)}),function(e,t,n,o,i){var r=i;f?(f.push(t),f.push(n),f.push(o),f.push(r)):(c.transcludeOnThisElement&&(r=M(t,c.transclude,i)),c(u,t,n,o,r))}}function H(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function U(e,t,n,o){if(t)throw no("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",t.name,n.name,e,W(o))}function V(e,t){var n=o(t,!0);n&&e.push({priority:0,compile:function(e){var t=e.parent(),o=t.length;return o&&T(e.parent(),"ng-binding"),function(e,t){var i=t.parent(),r=i.data("$binding")||[];r.push(n),i.data("$binding",r),o||T(i,"ng-binding"),e.$watch(n,function(e){t[0].nodeValue=e})}}})}function q(e,t){if("srcdoc"==t)return x.HTML;var n=xn(e);return"xlinkHref"==t||"FORM"==n&&"action"==t||"IMG"!=n&&("src"==t||"ngSrc"==t)?x.RESOURCE_URL:void 0}function z(e,t,n,i){var r=o(n,!0);if(r){if("multiple"===i&&"SELECT"===xn(e))throw no("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",W(e));t.push({priority:100,compile:function(){return{pre:function(t,n,a){var s=a.$$observers||(a.$$observers={});if(u.test(i))throw no("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");r=o(a[i],!0,q(e,i)),r&&(a[i]=r(t),(s[i]||(s[i]=[])).$$inter=!0,(a.$$observers&&a.$$observers[i].$$scope||t).$watch(r,function(e,t){"class"===i&&e!=t?a.$updateClass(e,t):a.$set(i,e)}))}}}})}}function Y(e,n,o){var i,r,a=n[0],s=n.length,l=a.parentNode;if(e)for(i=0,r=e.length;r>i;i++)if(e[i]==a){e[i++]=o;for(var c=i,u=c+s-1,d=e.length;d>c;c++,u++)d>u?e[c]=e[u]:delete e[c];e.length-=s-1;break}l&&l.replaceChild(o,a);var p=t.createDocumentFragment();p.appendChild(a),o[wn.expando]=a[wn.expando];for(var f=1,h=n.length;h>f;f++){var m=n[f];wn(m).remove(),p.appendChild(m),delete n[f]}n[0]=o,n.length=1}function G(e,t){return d(function(){return e.apply(null,arguments)},e,t)}var X=function(e,t){this.$$element=e,this.$attr=t||{}};X.prototype={$normalize:He,$addClass:function(e){e&&e.length>0&&S.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&S.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=Ue(e,t),o=Ue(t,e);0===n.length?S.removeClass(this.$$element,o):0===o.length?S.addClass(this.$$element,n):S.setClass(this.$$element,n,o)},$set:function(e,t,o,i){var a,s=Pe(this.$$element[0],e);s&&(this.$$element.prop(e,t),i=s),this[e]=t,i?this.$attr[e]=i:(i=this.$attr[e],i||(this.$attr[e]=i=J(e,"-"))),a=xn(this.$$element),("A"===a&&"href"===e||"IMG"===a&&"src"===e)&&(this[e]=t=_(t,"src"===e)),o!==!1&&(null===t||t===n?this.$$element.removeAttr(i):this.$$element.attr(i,t));var c=this.$$observers;c&&r(c[e],function(e){try{e(t)}catch(n){l(n)}})},$observe:function(e,t){var n=this,o=n.$$observers||(n.$$observers={}),i=o[e]||(o[e]=[]);return i.push(t),y.$evalAsync(function(){i.$$inter||t(n[e])}),t}};var Q=o.startSymbol(),Z=o.endSymbol(),K="{{"==Q||"}}"==Z?m:function(e){return e.replace(/\{\{/g,Q).replace(/}}/g,Z)},ee=/^ngAttr[A-Z]/;return k}]}function He(e){return ce(e.replace(oo,""))}function Ue(e,t){var n="",o=e.split(/\s+/),i=t.split(/\s+/);e:for(var r=0;r<o.length;r++){for(var a=o[r],s=0;s<i.length;s++)if(a==i[s])continue e;n+=(n.length>0?" ":"")+a}return n}function Ve(){var e={},t=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(t,n){oe(t,"controller"),w(t)?d(e,t):e[t]=n},this.$get=["$injector","$window",function(n,i){return function(r,a){var s,l,c,u;if($(r)&&(l=r.match(t),c=l[1],u=l[3],r=e.hasOwnProperty(c)?e[c]:ie(a.$scope,c,!0)||ie(i,c,!0),ne(r,c,!0)),s=n.instantiate(r,a),u){if(!a||"object"!=typeof a.$scope)throw o("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",c||r.name,u);a.$scope[u]=s}return s}}]}function qe(){this.$get=["$window",function(e){return wn(e.document)}]}function We(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function ze(e){var t,n,o,i={};return e?(r(e.split("\n"),function(e){o=e.indexOf(":"),t=fn(Dn(e.substr(0,o))),n=Dn(e.substr(o+1)),t&&(i[t]=i[t]?i[t]+", "+n:n)}),i):i}function Ye(e){var t=w(e)?e:n;return function(n){return t||(t=ze(e)),n?t[fn(n)]||null:t}}function Ge(e,t,n){return C(n)?n(e,t):(r(n,function(n){e=n(e,t)}),e)}function Xe(e){return e>=200&&300>e}function Qe(){var e=/^\s*(\[|\{[^\{])/,t=/[\}\]]\s*$/,o=/^\)\]\}',?\n/,i={"Content-Type":"application/json;charset=utf-8"},a=this.defaults={transformResponse:[function(n){return $(n)&&(n=n.replace(o,""),e.test(n)&&t.test(n)&&(n=V(n))),n}],transformRequest:[function(e){return!w(e)||T(e)||P(e)?e:U(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:N(i),put:N(i),patch:N(i)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},l=this.interceptors=[],c=this.responseInterceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(e,t,o,i,u,p){function f(e){function t(e){var t=d({},e,{data:Ge(e.data,e.headers,i.transformResponse)});return Xe(e.status)?t:u.reject(t)}function o(e){function t(e){var t;r(e,function(n,o){C(n)&&(t=n(),null!=t?e[o]=t:delete e[o])})}var n,o,i,s=a.headers,l=d({},e.headers);s=d({},s.common,s[fn(e.method)]);e:for(n in s){o=fn(n);for(i in l)if(fn(i)===o)continue e;l[n]=s[n]}return t(l),l}var i={method:"get",transformRequest:a.transformRequest,transformResponse:a.transformResponse},s=o(e);d(i,e),i.headers=s,i.method=mn(i.method);var l=function(e){s=e.headers;var n=Ge(e.data,Ye(s),e.transformRequest);return v(n)&&r(s,function(e,t){"content-type"===fn(t)&&delete s[t]}),v(e.withCredentials)&&!v(a.withCredentials)&&(e.withCredentials=a.withCredentials),g(e,n,s).then(t,t)},c=[l,n],p=u.when(i);for(r(_,function(e){(e.request||e.requestError)&&c.unshift(e.request,e.requestError),(e.response||e.responseError)&&c.push(e.response,e.responseError)});c.length;){var f=c.shift(),h=c.shift();p=p.then(f,h)}return p.success=function(e){return p.then(function(t){e(t.data,t.status,t.headers,i)}),p},p.error=function(e){return p.then(null,function(t){e(t.data,t.status,t.headers,i)}),p},p}function h(e){r(arguments,function(e){f[e]=function(t,n){return f(d(n||{},{method:e,url:t}))}})}function m(e){r(arguments,function(e){f[e]=function(t,n,o){return f(d(o||{},{method:e,url:t,data:n}))}})}function g(o,r,s){function l(e,t,n,o){p&&(Xe(e)?p.put($,[e,t,ze(n),o]):p.remove($)),c(t,e,n,o),i.$$phase||i.$apply()}function c(e,t,n,i){t=Math.max(t,0),(Xe(t)?m.resolve:m.reject)({data:e,status:t,headers:Ye(n),config:o,statusText:i})}function d(){var e=I(f.pendingRequests,o);-1!==e&&f.pendingRequests.splice(e,1)}var p,h,m=u.defer(),g=m.promise,$=b(o.url,o.params);if(f.pendingRequests.push(o),g.then(d,d),!o.cache&&!a.cache||o.cache===!1||"GET"!==o.method&&"JSONP"!==o.method||(p=w(o.cache)?o.cache:w(a.cache)?a.cache:S),p)if(h=p.get($),y(h)){if(M(h))return h.then(d,d),h;Mn(h)?c(h[1],h[0],N(h[2]),h[3]):c(h,200,{},"OK")}else p.put($,g);if(v(h)){var x=Rt(o.url)?t.cookies()[o.xsrfCookieName||a.xsrfCookieName]:n;x&&(s[o.xsrfHeaderName||a.xsrfHeaderName]=x),e(o.method,$,r,l,s,o.timeout,o.withCredentials,o.responseType)}return g}function b(e,t){if(!t)return e;var n=[];return s(t,function(e,t){null===e||v(e)||(Mn(e)||(e=[e]),r(e,function(e){w(e)&&(e=x(e)?e.toISOString():U(e)),n.push(Q(t)+"="+Q(e))}))}),n.length>0&&(e+=(-1==e.indexOf("?")?"?":"&")+n.join("&")),e}var S=o("$http"),_=[];return r(l,function(e){_.unshift($(e)?p.get(e):p.invoke(e))}),r(c,function(e,t){var n=$(e)?p.get(e):p.invoke(e);_.splice(t,0,{response:function(e){return n(u.when(e))},responseError:function(e){return n(u.reject(e))}})}),f.pendingRequests=[],h("get","delete","head","jsonp"),m("post","put"),f.defaults=a,f}]}function Ze(t){if(8>=yn&&(!t.match(/^(get|post|head|put|delete|options)$/i)||!e.XMLHttpRequest))return new e.ActiveXObject("Microsoft.XMLHTTP");if(e.XMLHttpRequest)return new e.XMLHttpRequest;throw o("$httpBackend")("noxhr","This browser does not support XMLHttpRequest.")}function Ke(){this.$get=["$browser","$window","$document",function(e,t,n){return Je(e,Ze,e.defer,t.angular.callbacks,n[0])}]}function Je(e,t,n,o,i){function a(e,t,n){var r=i.createElement("script"),a=null;return r.type="text/javascript",r.src=e,r.async=!0,a=function(e){Rn(r,"load",a),Rn(r,"error",a),i.body.removeChild(r),r=null;var s=-1,l="unknown";e&&("load"!==e.type||o[t].called||(e={type:"error"}),l=e.type,s="error"===e.type?404:200),n&&n(s,l)},Nn(r,"load",a),Nn(r,"error",a),8>=yn&&(r.onreadystatechange=function(){$(r.readyState)&&/loaded|complete/.test(r.readyState)&&(r.onreadystatechange=null,a({type:"load"}))}),i.body.appendChild(r),a}var s=-1;return function(i,l,c,u,d,p,f,m){function g(){w=s,b&&b(),x&&x.abort()}function v(t,o,i,r,a){S&&n.cancel(S),b=x=null,0===o&&(o=i?200:"file"==Nt(l).protocol?404:0),o=1223===o?204:o,a=a||"",t(o,i,r,a),e.$$completeOutstandingRequest(h)}var w;if(e.$$incOutstandingRequestCount(),l=l||e.url(),"jsonp"==fn(i)){var $="_"+(o.counter++).toString(36);o[$]=function(e){o[$].data=e,o[$].called=!0};var b=a(l.replace("JSON_CALLBACK","angular.callbacks."+$),$,function(e,t){v(u,e,o[$].data,"",t),o[$]=h})}else{var x=t(i);if(x.open(i,l,!0),r(d,function(e,t){y(e)&&x.setRequestHeader(t,e)}),x.onreadystatechange=function(){if(x&&4==x.readyState){var e=null,t=null,n="";w!==s&&(e=x.getAllResponseHeaders(),t="response"in x?x.response:x.responseText),w===s&&10>yn||(n=x.statusText),v(u,w||x.status,t,e,n)}},f&&(x.withCredentials=!0),m)try{x.responseType=m}catch(C){if("json"!==m)throw C}x.send(c||null)}if(p>0)var S=n(g,p);else M(p)&&p.then(g)}}function et(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,o,i){function r(r,l,c){for(var u,d,p,f,h=0,m=[],g=r.length,v=!1,y=[];g>h;)-1!=(u=r.indexOf(e,h))&&-1!=(d=r.indexOf(t,u+a))?(h!=u&&m.push(r.substring(h,u)),m.push(p=n(f=r.substring(u+a,d))),p.exp=f,h=d+s,v=!0):(h!=g&&m.push(r.substring(h)),h=g);if((g=m.length)||(m.push(""),g=1),c&&m.length>1)throw io("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",r);return!l||v?(y.length=g,p=function(e){try{for(var t,n=0,a=g;a>n;n++){if("function"==typeof(t=m[n]))if(t=t(e),t=c?i.getTrusted(c,t):i.valueOf(t),null==t)t="";else switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=U(t)}y[n]=t}return y.join("")}catch(s){var l=io("interr","Can't interpolate: {0}\n{1}",r,s.toString());o(l)}},p.exp=r,p.parts=m,p):void 0}var a=e.length,s=t.length;return r.startSymbol=function(){return e},r.endSymbol=function(){return t},r}]}function tt(){this.$get=["$rootScope","$window","$q",function(e,t,n){function o(o,r,a,s){var l=t.setInterval,c=t.clearInterval,u=n.defer(),d=u.promise,p=0,f=y(s)&&!s;return a=y(a)?a:0,d.then(null,null,o),d.$$intervalId=l(function(){u.notify(p++),a>0&&p>=a&&(u.resolve(p),c(d.$$intervalId),delete i[d.$$intervalId]),f||e.$apply()},r),i[d.$$intervalId]=u,d}var i={};return o.cancel=function(e){return e&&e.$$intervalId in i?(i[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete i[e.$$intervalId],!0):!1},o}]}function nt(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(e){return 1===e?"one":"other"}}}}function ot(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=X(t[n]);return t.join("/")}function it(e,t,n){var o=Nt(e,n);t.$$protocol=o.protocol,t.$$host=o.hostname,t.$$port=p(o.port)||ao[o.protocol]||null}function rt(e,t,n){var o="/"!==e.charAt(0);o&&(e="/"+e);var i=Nt(e,n);t.$$path=decodeURIComponent(o&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),t.$$search=Y(i.search),t.$$hash=decodeURIComponent(i.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function at(e,t){return 0===t.indexOf(e)?t.substr(e.length):void 0}function st(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function lt(e){return e.substr(0,st(e).lastIndexOf("/")+1)}function ct(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function ut(e,t){this.$$html5=!0,t=t||"";var o=lt(e);it(e,this,e),this.$$parse=function(t){var n=at(o,t);if(!$(n))throw so("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,o);rt(n,this,e),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=G(this.$$search),t=this.$$hash?"#"+X(this.$$hash):"";this.$$url=ot(this.$$path)+(e?"?"+e:"")+t,this.$$absUrl=o+this.$$url.substr(1)},this.$$rewrite=function(i){var r,a;return(r=at(e,i))!==n?(a=r,(r=at(t,r))!==n?o+(at("/",r)||r):e+a):(r=at(o,i))!==n?o+r:o==i+"/"?o:void 0}}function dt(e,t){var n=lt(e);it(e,this,e),this.$$parse=function(o){function i(e,t,n){var o,i=/^\/[A-Z]:(\/.*)/;return 0===t.indexOf(n)&&(t=t.replace(n,"")),i.exec(t)?e:(o=i.exec(e),o?o[1]:e)}var r=at(e,o)||at(n,o),a="#"==r.charAt(0)?at(t,r):this.$$html5?r:"";if(!$(a))throw so("ihshprfx",'Invalid url "{0}", missing hash prefix "{1}".',o,t);rt(a,this,e),this.$$path=i(this.$$path,a,e),this.$$compose()},this.$$compose=function(){var n=G(this.$$search),o=this.$$hash?"#"+X(this.$$hash):"";this.$$url=ot(this.$$path)+(n?"?"+n:"")+o,this.$$absUrl=e+(this.$$url?t+this.$$url:"")},this.$$rewrite=function(t){return st(e)==st(t)?t:void 0}}function pt(e,t){this.$$html5=!0,dt.apply(this,arguments);var n=lt(e);this.$$rewrite=function(o){var i;return e==st(o)?o:(i=at(n,o))?e+t+i:n===o+"/"?n:void 0},this.$$compose=function(){var n=G(this.$$search),o=this.$$hash?"#"+X(this.$$hash):"";this.$$url=ot(this.$$path)+(n?"?"+n:"")+o,this.$$absUrl=e+t+this.$$url}}function ft(e){return function(){return this[e]}}function ht(e,t){return function(n){return v(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function mt(){var t="",n=!1;this.hashPrefix=function(e){return y(e)?(t=e,this):t},this.html5Mode=function(e){return y(e)?(n=e,this):n},this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(o,i,r,a){function s(e){o.$broadcast("$locationChangeSuccess",l.absUrl(),e)}var l,c,u,d=i.baseHref(),p=i.url();n?(u=ct(p)+(d||"/"),c=r.history?ut:pt):(u=st(p),c=dt),l=new c(u,"#"+t),l.$$parse(l.$$rewrite(p));var f=/^\s*(javascript|mailto):/i;a.on("click",function(n){if(!n.ctrlKey&&!n.metaKey&&2!=n.which){for(var r=wn(n.target);"a"!==fn(r[0].nodeName);)if(r[0]===a[0]||!(r=r.parent())[0])return;var s=r.prop("href");if(w(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=Nt(s.animVal).href),!f.test(s)){if(c===pt){var d=r.attr("href")||r.attr("xlink:href");if(d&&d.indexOf("://")<0){var p="#"+t;if("/"==d[0])s=u+p+d;else if("#"==d[0])s=u+p+(l.path()||"/")+d;else{var h=l.path().split("/"),m=d.split("/");2!==h.length||h[1]||(h.length=1);for(var g=0;g<m.length;g++)"."!=m[g]&&(".."==m[g]?h.pop():m[g].length&&h.push(m[g]));s=u+p+h.join("/")}}}var v=l.$$rewrite(s);s&&!r.attr("target")&&v&&!n.isDefaultPrevented()&&(n.preventDefault(),v!=i.url()&&(l.$$parse(v),o.$apply(),e.angular["ff-684208-preventDefault"]=!0))}}}),l.absUrl()!=p&&i.url(l.absUrl(),!0),i.onUrlChange(function(e){l.absUrl()!=e&&(o.$evalAsync(function(){var t=l.absUrl();l.$$parse(e),o.$broadcast("$locationChangeStart",e,t).defaultPrevented?(l.$$parse(t),i.url(t)):s(t)}),o.$$phase||o.$digest())});var h=0;return o.$watch(function(){var e=i.url(),t=l.$$replace;return h&&e==l.absUrl()||(h++,o.$evalAsync(function(){o.$broadcast("$locationChangeStart",l.absUrl(),e).defaultPrevented?l.$$parse(e):(i.url(l.absUrl(),t),s(e))})),l.$$replace=!1,h}),l}]}function gt(){var e=!0,t=this;this.debugEnabled=function(t){return y(t)?(e=t,this):e},this.$get=["$window",function(n){function o(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function i(e){var t=n.console||{},i=t[e]||t.log||h,a=!1;try{a=!!i.apply}catch(s){}return a?function(){var e=[];return r(arguments,function(t){e.push(o(t))}),i.apply(t,e)}:function(e,t){i(e,null==t?"":t)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function vt(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw co("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function yt(e,t){if(e){if(e.constructor===e)throw co("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.document&&e.location&&e.alert&&e.setInterval)throw co("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw co("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw co("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}function wt(e,t){if(e){if(e.constructor===e)throw co("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===po||e===fo||ho&&e===ho)throw co("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function $t(e,t,o,i,r){yt(e,i),r=r||{};for(var a,s=t.split("."),l=0;s.length>1;l++){a=vt(s.shift(),i);var c=yt(e[a],i);c||(c={},e[a]=c),e=c,e.then&&r.unwrapPromises&&(lo(i),"$$v"in e||!function(e){e.then(function(t){e.$$v=t})}(e),e.$$v===n&&(e.$$v={}),e=e.$$v)}return a=vt(s.shift(),i),yt(e[a],i),e[a]=o,o}function bt(e,t,o,i,r,a,s){return vt(e,a),vt(t,a),vt(o,a),vt(i,a),vt(r,a),s.unwrapPromises?function(s,l){var c,u=l&&l.hasOwnProperty(e)?l:s;return null==u?u:(u=u[e],u&&u.then&&(lo(a),"$$v"in u||(c=u,c.$$v=n,c.then(function(e){c.$$v=e})),u=u.$$v),t?null==u?n:(u=u[t],u&&u.then&&(lo(a),"$$v"in u||(c=u,c.$$v=n,c.then(function(e){c.$$v=e})),u=u.$$v),o?null==u?n:(u=u[o],u&&u.then&&(lo(a),"$$v"in u||(c=u,c.$$v=n,c.then(function(e){c.$$v=e})),u=u.$$v),i?null==u?n:(u=u[i],u&&u.then&&(lo(a),"$$v"in u||(c=u,c.$$v=n,c.then(function(e){c.$$v=e})),u=u.$$v),r?null==u?n:(u=u[r],u&&u.then&&(lo(a),"$$v"in u||(c=u,c.$$v=n,c.then(function(e){c.$$v=e})),u=u.$$v),u):u):u):u):u)}:function(a,s){var l=s&&s.hasOwnProperty(e)?s:a;return null==l?l:(l=l[e],t?null==l?n:(l=l[t],o?null==l?n:(l=l[o],i?null==l?n:(l=l[i],r?null==l?n:l=l[r]:l):l):l):l)}}function xt(e,t,o){if(wo.hasOwnProperty(e))return wo[e];var i,a=e.split("."),s=a.length;if(t.csp)i=6>s?bt(a[0],a[1],a[2],a[3],a[4],o,t):function(e,i){var r,l=0;do r=bt(a[l++],a[l++],a[l++],a[l++],a[l++],o,t)(e,i),i=n,e=r;while(s>l);return r};else{var l="var p;\n";r(a,function(e,n){vt(e,o),l+="if(s == null) return undefined;\ns="+(n?"s":'((k&&k.hasOwnProperty("'+e+'"))?k:s)')+'["'+e+'"];\n'+(t.unwrapPromises?'if (s && s.then) {\n pw("'+o.replace(/(["\r\n])/g,"\\$1")+'");\n if (!("$$v" in s)) {\n p=s;\n p.$$v = undefined;\n p.then(function(v) {p.$$v=v;});\n}\n s=s.$$v\n}\n':"")}),l+="return s;";var c=new Function("s","k","pw",l);c.toString=g(l),i=t.unwrapPromises?function(e,t){return c(e,t,lo)}:c}return"hasOwnProperty"!==e&&(wo[e]=i),i}function Ct(){var e={},t={csp:!1,unwrapPromises:!1,logPromiseWarnings:!0};this.unwrapPromises=function(e){return y(e)?(t.unwrapPromises=!!e,this):t.unwrapPromises},this.logPromiseWarnings=function(e){return y(e)?(t.logPromiseWarnings=e,this):t.logPromiseWarnings},this.$get=["$filter","$sniffer","$log",function(n,o,i){return t.csp=o.csp,lo=function(e){t.logPromiseWarnings&&!uo.hasOwnProperty(e)&&(uo[e]=!0,i.warn("[$parse] Promise found in the expression `"+e+"`. Automatic unwrapping of promises in Angular expressions is deprecated."))},function(o){var i;switch(typeof o){case"string":if(e.hasOwnProperty(o))return e[o];var r=new vo(t),a=new yo(r,n,t);return i=a.parse(o),"hasOwnProperty"!==o&&(e[o]=i),i;case"function":return o;default:return h}}}]}function St(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return _t(function(t){e.$evalAsync(t)},t)}]}function _t(e,t){function o(e){return e}function i(e){return c(e)}function a(e){var t=s(),n=0,o=Mn(e)?[]:{};return r(e,function(e,i){n++,l(e).then(function(e){o.hasOwnProperty(i)||(o[i]=e,--n||t.resolve(o))},function(e){o.hasOwnProperty(i)||t.reject(e)})}),0===n&&t.resolve(o),t.promise}var s=function(){var r,a,c=[];return a={resolve:function(t){if(c){var o=c;c=n,r=l(t),o.length&&e(function(){for(var e,t=0,n=o.length;n>t;t++)e=o[t],r.then(e[0],e[1],e[2])})}},reject:function(e){a.resolve(u(e))},notify:function(t){if(c){var n=c;c.length&&e(function(){for(var e,o=0,i=n.length;i>o;o++)e=n[o],e[2](t)})}},promise:{then:function(e,n,a){var l=s(),u=function(n){try{l.resolve((C(e)?e:o)(n))}catch(i){l.reject(i),t(i)}},d=function(e){try{l.resolve((C(n)?n:i)(e))}catch(o){l.reject(o),t(o)}},p=function(e){try{l.notify((C(a)?a:o)(e))}catch(n){t(n)}};return c?c.push([u,d,p]):r.then(u,d,p),l.promise},"catch":function(e){return this.then(null,e)},"finally":function(e){function t(e,t){var n=s();return t?n.resolve(e):n.reject(e),n.promise}function n(n,i){var r=null;try{r=(e||o)()}catch(a){return t(a,!1)}return M(r)?r.then(function(){return t(n,i)},function(e){return t(e,!1)}):t(n,i)}return this.then(function(e){return n(e,!0)},function(e){return n(e,!1)})}}}},l=function(t){return M(t)?t:{then:function(n){var o=s();return e(function(){o.resolve(n(t))}),o.promise}}},c=function(e){var t=s();return t.reject(e),t.promise},u=function(n){return{then:function(o,r){var a=s();return e(function(){try{a.resolve((C(r)?r:i)(n))}catch(e){a.reject(e),t(e)}}),a.promise}}},d=function(n,r,a,u){var d,p=s(),f=function(e){try{return(C(r)?r:o)(e)}catch(n){return t(n),c(n)}},h=function(e){try{return(C(a)?a:i)(e)}catch(n){return t(n),c(n)}},m=function(e){try{return(C(u)?u:o)(e)}catch(n){t(n)}};return e(function(){l(n).then(function(e){d||(d=!0,p.resolve(l(e).then(f,h,m)))},function(e){d||(d=!0,p.resolve(h(e)))},function(e){d||p.notify(m(e))})}),p.promise};return{defer:s,reject:c,when:d,all:a}}function kt(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame,o=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,i=!!n,r=i?function(e){var t=n(e);return function(){o(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return r.supported=i,r}]}function Tt(){var e=10,t=o("$rootScope"),n=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(o,a,s,l){function u(){this.$id=c(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this["this"]=this.$root=this,this.$$destroyed=!1,this.$$asyncQueue=[],this.$$postDigestQueue=[],this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings={}}function d(e){if(v.$$phase)throw t("inprog","{0} already in progress",v.$$phase);v.$$phase=e}function p(){v.$$phase=null}function f(e,t){var n=s(e);return ne(n,t),n}function m(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function g(){}u.prototype={constructor:u,$new:function(e){var t;return e?(t=new u,t.$root=this.$root,t.$$asyncQueue=this.$$asyncQueue,t.$$postDigestQueue=this.$$postDigestQueue):(this.$$childScopeClass||(this.$$childScopeClass=function(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=c(),this.$$childScopeClass=null},this.$$childScopeClass.prototype=this),t=new this.$$childScopeClass),t["this"]=t,t.$parent=this,t.$$prevSibling=this.$$childTail,this.$$childHead?(this.$$childTail.$$nextSibling=t,this.$$childTail=t):this.$$childHead=this.$$childTail=t,t},$watch:function(e,t,o){var i=this,r=f(e,"watch"),a=i.$$watchers,s={fn:t,last:g,get:r,exp:e,eq:!!o};if(n=null,!C(t)){var l=f(t||h,"listener");s.fn=function(e,t,n){l(n)}}if("string"==typeof e&&r.constant){var c=s.fn;s.fn=function(e,t,n){c.call(this,e,t,n),
L(a,s)}}return a||(a=i.$$watchers=[]),a.unshift(s),function(){L(a,s),n=null}},$watchCollection:function(e,t){function n(){r=p(c);var e,t,n;if(w(r))if(i(r)){a!==f&&(a=f,g=a.length=0,d++),e=r.length,g!==e&&(d++,a.length=g=e);for(var o=0;e>o;o++)n=a[o]!==a[o]&&r[o]!==r[o],n||a[o]===r[o]||(d++,a[o]=r[o])}else{a!==h&&(a=h={},g=0,d++),e=0;for(t in r)r.hasOwnProperty(t)&&(e++,a.hasOwnProperty(t)?(n=a[t]!==a[t]&&r[t]!==r[t],n||a[t]===r[t]||(d++,a[t]=r[t])):(g++,a[t]=r[t],d++));if(g>e){d++;for(t in a)a.hasOwnProperty(t)&&!r.hasOwnProperty(t)&&(g--,delete a[t])}}else a!==r&&(a=r,d++);return d}function o(){if(m?(m=!1,t(r,r,c)):t(r,l,c),u)if(w(r))if(i(r)){l=new Array(r.length);for(var e=0;e<r.length;e++)l[e]=r[e]}else{l={};for(var n in r)hn.call(r,n)&&(l[n]=r[n])}else l=r}var r,a,l,c=this,u=t.length>1,d=0,p=s(e),f=[],h={},m=!0,g=0;return this.$watch(n,o)},$digest:function(){var o,i,r,s,c,u,f,h,m,v,y,w=this.$$asyncQueue,$=this.$$postDigestQueue,b=e,x=this,S=[];d("$digest"),l.$$checkUrlChange(),n=null;do{for(u=!1,h=x;w.length;){try{y=w.shift(),y.scope.$eval(y.expression)}catch(_){p(),a(_)}n=null}e:do{if(s=h.$$watchers)for(c=s.length;c--;)try{if(o=s[c])if((i=o.get(h))===(r=o.last)||(o.eq?R(i,r):"number"==typeof i&&"number"==typeof r&&isNaN(i)&&isNaN(r))){if(o===n){u=!1;break e}}else u=!0,n=o,o.last=o.eq?O(i,null):i,o.fn(i,r===g?i:r,h),5>b&&(m=4-b,S[m]||(S[m]=[]),v=C(o.exp)?"fn: "+(o.exp.name||o.exp.toString()):o.exp,v+="; newVal: "+U(i)+"; oldVal: "+U(r),S[m].push(v))}catch(_){p(),a(_)}if(!(f=h.$$childHead||h!==x&&h.$$nextSibling))for(;h!==x&&!(f=h.$$nextSibling);)h=h.$parent}while(h=f);if((u||w.length)&&!b--)throw p(),t("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,U(S))}while(u||w.length);for(p();$.length;)try{$.shift()()}catch(_){a(_)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this!==v&&(r(this.$$listenerCount,F(null,m,this)),e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=null,this.$$listeners={},this.$$watchers=this.$$asyncQueue=this.$$postDigestQueue=[],this.$destroy=this.$digest=this.$apply=h,this.$on=this.$watch=function(){return h})}},$eval:function(e,t){return s(e)(this,t)},$evalAsync:function(e){v.$$phase||v.$$asyncQueue.length||l.defer(function(){v.$$asyncQueue.length&&v.$digest()}),this.$$asyncQueue.push({scope:this,expression:e})},$$postDigest:function(e){this.$$postDigestQueue.push(e)},$apply:function(e){try{return d("$apply"),this.$eval(e)}catch(t){a(t)}finally{p();try{v.$digest()}catch(t){throw a(t),t}}},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var o=this;do o.$$listenerCount[e]||(o.$$listenerCount[e]=0),o.$$listenerCount[e]++;while(o=o.$parent);var i=this;return function(){n[I(n,t)]=null,m(i,1,e)}},$emit:function(e,t){var n,o,i,r=[],s=this,l=!1,c={name:e,targetScope:s,stopPropagation:function(){l=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},u=B([c],arguments,1);do{for(n=s.$$listeners[e]||r,c.currentScope=s,o=0,i=n.length;i>o;o++)if(n[o])try{n[o].apply(null,u)}catch(d){a(d)}else n.splice(o,1),o--,i--;if(l)return c;s=s.$parent}while(s);return c},$broadcast:function(e,t){for(var n,o,i,r=this,s=r,l=r,c={name:e,targetScope:r,preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},u=B([c],arguments,1);s=l;){for(c.currentScope=s,n=s.$$listeners[e]||[],o=0,i=n.length;i>o;o++)if(n[o])try{n[o].apply(null,u)}catch(d){a(d)}else n.splice(o,1),o--,i--;if(!(l=s.$$listenerCount[e]&&s.$$childHead||s!==r&&s.$$nextSibling))for(;s!==r&&!(l=s.$$nextSibling);)s=s.$parent}return c}};var v=new u;return v}]}function Pt(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return y(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return y(e)?(t=e,this):t},this.$get=function(){return function(n,o){var i,r=o?t:e;return yn&&!(yn>=8)||(i=Nt(n).href,""===i||i.match(r))?n:"unsafe:"+i}}}function Mt(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}function Dt(e){if("self"===e)return e;if($(e)){if(e.indexOf("***")>-1)throw $o("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=Mt(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(S(e))return new RegExp("^"+e.source+"$");throw $o("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Et(e){var t=[];return y(e)&&r(e,function(e){t.push(Dt(e))}),t}function At(){this.SCE_CONTEXTS=bo;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=Et(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=Et(e)),t},this.$get=["$injector",function(o){function i(e,t){return"self"===e?Rt(t):!!e.exec(t.href)}function r(n){var o,r,a=Nt(n.toString()),s=!1;for(o=0,r=e.length;r>o;o++)if(i(e[o],a)){s=!0;break}if(s)for(o=0,r=t.length;r>o;o++)if(i(t[o],a)){s=!1;break}return s}function a(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function s(e,t){var o=p.hasOwnProperty(e)?p[e]:null;if(!o)throw $o("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||t===n||""===t)return t;if("string"!=typeof t)throw $o("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new o(t)}function l(e){return e instanceof d?e.$$unwrapTrustedValue():e}function c(e,t){if(null===t||t===n||""===t)return t;var o=p.hasOwnProperty(e)?p[e]:null;if(o&&t instanceof o)return t.$$unwrapTrustedValue();if(e===bo.RESOURCE_URL){if(r(t))return t;throw $o("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===bo.HTML)return u(t);throw $o("unsafe","Attempting to use an unsafe value in a safe context.")}var u=function(e){throw $o("unsafe","Attempting to use an unsafe value in a safe context.")};o.has("$sanitize")&&(u=o.get("$sanitize"));var d=a(),p={};return p[bo.HTML]=a(d),p[bo.CSS]=a(d),p[bo.URL]=a(d),p[bo.JS]=a(d),p[bo.RESOURCE_URL]=a(p[bo.URL]),{trustAs:s,getTrusted:c,valueOf:l}}]}function It(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sniffer","$sceDelegate",function(t,n,o){if(e&&n.msie&&n.msieDocumentMode<8)throw $o("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 9 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var i=N(bo);i.isEnabled=function(){return e},i.trustAs=o.trustAs,i.getTrusted=o.getTrusted,i.valueOf=o.valueOf,e||(i.trustAs=i.getTrusted=function(e,t){return t},i.valueOf=m),i.parseAs=function(e,n){var o=t(n);return o.literal&&o.constant?o:function(t,n){return i.getTrusted(e,o(t,n))}};var a=i.parseAs,s=i.getTrusted,l=i.trustAs;return r(bo,function(e,t){var n=fn(t);i[ce("parse_as_"+n)]=function(t){return a(e,t)},i[ce("get_trusted_"+n)]=function(t){return s(e,t)},i[ce("trust_as_"+n)]=function(t){return l(e,t)}}),i}]}function Lt(){this.$get=["$window","$document",function(e,t){var n,o,i={},r=p((/android (\d+)/.exec(fn((e.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((e.navigator||{}).userAgent),s=t[0]||{},l=s.documentMode,c=/^(Moz|webkit|O|ms)(?=[A-Z])/,u=s.body&&s.body.style,d=!1,f=!1;if(u){for(var h in u)if(o=c.exec(h)){n=o[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in u&&"webkit"),d=!!("transition"in u||n+"Transition"in u),f=!!("animation"in u||n+"Animation"in u),!r||d&&f||(d=$(s.body.style.webkitTransition),f=$(s.body.style.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||4>r||a),hashchange:"onhashchange"in e&&(!l||l>7),hasEvent:function(e){if("input"==e&&9==yn)return!1;if(v(i[e])){var t=s.createElement("div");i[e]="on"+e in t}return i[e]},csp:En(),vendorPrefix:n,transitions:d,animations:f,android:r,msie:yn,msieDocumentMode:l}}]}function Ot(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function(e,t,n,o){function i(i,a,s){var l,c=n.defer(),u=c.promise,d=y(s)&&!s;return l=t.defer(function(){try{c.resolve(i())}catch(t){c.reject(t),o(t)}finally{delete r[u.$$timeoutId]}d||e.$apply()},a),u.$$timeoutId=l,r[l]=c,u}var r={};return i.cancel=function(e){return e&&e.$$timeoutId in r?(r[e.$$timeoutId].reject("canceled"),delete r[e.$$timeoutId],t.defer.cancel(e.$$timeoutId)):!1},i}]}function Nt(e,t){var n=e;return yn&&(xo.setAttribute("href",n),n=xo.href),xo.setAttribute("href",n),{href:xo.href,protocol:xo.protocol?xo.protocol.replace(/:$/,""):"",host:xo.host,search:xo.search?xo.search.replace(/^\?/,""):"",hash:xo.hash?xo.hash.replace(/^#/,""):"",hostname:xo.hostname,port:xo.port,pathname:"/"===xo.pathname.charAt(0)?xo.pathname:"/"+xo.pathname}}function Rt(e){var t=$(e)?Nt(e):e;return t.protocol===Co.protocol&&t.host===Co.host}function Bt(){this.$get=g(e)}function jt(e){function t(o,i){if(w(o)){var a={};return r(o,function(e,n){a[n]=t(n,e)}),a}return e.factory(o+n,i)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",Ht),t("date",Xt),t("filter",Ft),t("json",Qt),t("limitTo",Zt),t("lowercase",Po),t("number",Ut),t("orderBy",Kt),t("uppercase",Mo)}function Ft(){return function(e,t,n){if(!Mn(e))return e;var o=typeof n,i=[];i.check=function(e){for(var t=0;t<i.length;t++)if(!i[t](e))return!1;return!0},"function"!==o&&(n="boolean"===o&&n?function(e,t){return Tn.equals(e,t)}:function(e,t){if(e&&t&&"object"==typeof e&&"object"==typeof t){for(var o in e)if("$"!==o.charAt(0)&&hn.call(e,o)&&n(e[o],t[o]))return!0;return!1}return t=(""+t).toLowerCase(),(""+e).toLowerCase().indexOf(t)>-1});var r=function(e,t){if("string"==typeof t&&"!"===t.charAt(0))return!r(e,t.substr(1));switch(typeof e){case"boolean":case"number":case"string":return n(e,t);case"object":switch(typeof t){case"object":return n(e,t);default:for(var o in e)if("$"!==o.charAt(0)&&r(e[o],t))return!0}return!1;case"array":for(var i=0;i<e.length;i++)if(r(e[i],t))return!0;return!1;default:return!1}};switch(typeof t){case"boolean":case"number":case"string":t={$:t};case"object":for(var a in t)!function(e){"undefined"!=typeof t[e]&&i.push(function(n){return r("$"==e?n:n&&n[e],t[e])})}(a);break;case"function":i.push(t);break;default:return e}for(var s=[],l=0;l<e.length;l++){var c=e[l];i.check(c)&&s.push(c)}return s}}function Ht(e){var t=e.NUMBER_FORMATS;return function(e,n){return v(n)&&(n=t.CURRENCY_SYM),Vt(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,2).replace(/\u00A4/g,n)}}function Ut(e){var t=e.NUMBER_FORMATS;return function(e,n){return Vt(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function Vt(e,t,n,o,i){if(null==e||!isFinite(e)||w(e))return"";var r=0>e;e=Math.abs(e);var a=e+"",s="",l=[],c=!1;if(-1!==a.indexOf("e")){var u=a.match(/([\d\.]+)e(-?)(\d+)/);u&&"-"==u[2]&&u[3]>i+1?(a="0",e=0):(s=a,c=!0)}if(c)i>0&&e>-1&&1>e&&(s=e.toFixed(i));else{var d=(a.split(So)[1]||"").length;v(i)&&(i=Math.min(Math.max(t.minFrac,d),t.maxFrac)),e=+(Math.round(+(e.toString()+"e"+i)).toString()+"e"+-i),0===e&&(r=!1);var p=(""+e).split(So),f=p[0];p=p[1]||"";var h,m=0,g=t.lgSize,y=t.gSize;if(f.length>=g+y)for(m=f.length-g,h=0;m>h;h++)(m-h)%y===0&&0!==h&&(s+=n),s+=f.charAt(h);for(h=m;h<f.length;h++)(f.length-h)%g===0&&0!==h&&(s+=n),s+=f.charAt(h);for(;p.length<i;)p+="0";i&&"0"!==i&&(s+=o+p.substr(0,i))}return l.push(r?t.negPre:t.posPre),l.push(s),l.push(r?t.negSuf:t.posSuf),l.join("")}function qt(e,t,n){var o="";for(0>e&&(o="-",e=-e),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),o+e}function Wt(e,t,n,o){return n=n||0,function(i){var r=i["get"+e]();return(n>0||r>-n)&&(r+=n),0===r&&-12==n&&(r=12),qt(r,t,o)}}function zt(e,t){return function(n,o){var i=n["get"+e](),r=mn(t?"SHORT"+e:e);return o[r][i]}}function Yt(e){var t=-1*e.getTimezoneOffset(),n=t>=0?"+":"";return n+=qt(Math[t>0?"floor":"ceil"](t/60),2)+qt(Math.abs(t%60),2)}function Gt(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function Xt(e){function t(e){var t;if(t=e.match(n)){var o=new Date(0),i=0,r=0,a=t[8]?o.setUTCFullYear:o.setFullYear,s=t[8]?o.setUTCHours:o.setHours;t[9]&&(i=p(t[9]+t[10]),r=p(t[9]+t[11])),a.call(o,p(t[1]),p(t[2])-1,p(t[3]));var l=p(t[4]||0)-i,c=p(t[5]||0)-r,u=p(t[6]||0),d=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(o,l,c,u,d),o}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,o){var i,a,s="",l=[];if(o=o||"mediumDate",o=e.DATETIME_FORMATS[o]||o,$(n)&&(n=To.test(n)?p(n):t(n)),b(n)&&(n=new Date(n)),!x(n))return n;for(;o;)a=ko.exec(o),a?(l=B(l,a,1),o=l.pop()):(l.push(o),o=null);return r(l,function(t){i=_o[t],s+=i?i(n,e.DATETIME_FORMATS):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),s}}function Qt(){return function(e){return U(e,!0)}}function Zt(){return function(e,t){if(!Mn(e)&&!$(e))return e;if(t=Math.abs(Number(t))===1/0?Number(t):p(t),$(e))return t?t>=0?e.slice(0,t):e.slice(t,e.length):"";var n,o,i=[];for(t>e.length?t=e.length:t<-e.length&&(t=-e.length),t>0?(n=0,o=t):(n=e.length+t,o=e.length);o>n;n++)i.push(e[n]);return i}}function Kt(e){return function(t,n,o){function r(e,t){for(var o=0;o<n.length;o++){var i=n[o](e,t);if(0!==i)return i}return 0}function a(e,t){return q(t)?function(t,n){return e(n,t)}:e}function s(e,t){var n=typeof e,o=typeof t;return n==o?(x(e)&&x(t)&&(e=e.valueOf(),t=t.valueOf()),"string"==n&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t?0:t>e?-1:1):o>n?-1:1}if(!i(t))return t;if(!n)return t;n=Mn(n)?n:[n],n=E(n,function(t){var n=!1,o=t||m;if($(t)&&(("+"==t.charAt(0)||"-"==t.charAt(0))&&(n="-"==t.charAt(0),t=t.substring(1)),o=e(t),o.constant)){var i=o();return a(function(e,t){return s(e[i],t[i])},n)}return a(function(e,t){return s(o(e),o(t))},n)});for(var l=[],c=0;c<t.length;c++)l.push(t[c]);return l.sort(a(r,o))}}function Jt(e){return C(e)&&(e={link:e}),e.restrict=e.restrict||"AC",g(e)}function en(e,t,n,o){function i(t,n){n=n?"-"+J(n,"-"):"",o.setClass(e,(t?Uo:Vo)+n,(t?Vo:Uo)+n)}var a=this,s=e.parent().controller("form")||Ao,l=0,c=a.$error={},u=[];a.$name=t.name||t.ngForm,a.$dirty=!1,a.$pristine=!0,a.$valid=!0,a.$invalid=!1,s.$addControl(a),e.addClass(qo),i(!0),a.$addControl=function(e){oe(e.$name,"input"),u.push(e),e.$name&&(a[e.$name]=e)},a.$removeControl=function(e){e.$name&&a[e.$name]===e&&delete a[e.$name],r(c,function(t,n){a.$setValidity(n,!0,e)}),L(u,e)},a.$setValidity=function(e,t,n){var o=c[e];if(t)o&&(L(o,n),o.length||(l--,l||(i(t),a.$valid=!0,a.$invalid=!1),c[e]=!1,i(!0,e),s.$setValidity(e,!0,a)));else{if(l||i(t),o){if(A(o,n))return}else c[e]=o=[],l++,i(!1,e),s.$setValidity(e,!1,a);o.push(n),a.$valid=!1,a.$invalid=!0}},a.$setDirty=function(){o.removeClass(e,qo),o.addClass(e,Wo),a.$dirty=!0,a.$pristine=!1,s.$setDirty()},a.$setPristine=function(){o.removeClass(e,Wo),o.addClass(e,qo),a.$dirty=!1,a.$pristine=!0,r(u,function(e){e.$setPristine()})}}function tn(e,t,o,i){return e.$setValidity(t,o),o?i:n}function nn(e,t){var n,o;if(t)for(n=0;n<t.length;++n)if(o=t[n],e[o])return!0;return!1}function on(e,t,n,o,i){if(w(i)){e.$$hasNativeValidators=!0;var r=function(r){return e.$error[t]||nn(i,o)||!nn(i,n)?r:void e.$setValidity(t,!1)};e.$parsers.push(r)}}function rn(e,t,n,i,r,a){var s=t.prop(pn),l=t[0].placeholder,c={},u=fn(t[0].type);if(i.$$validityState=s,!r.android){var d=!1;t.on("compositionstart",function(e){d=!0}),t.on("compositionend",function(){d=!1,f()})}var f=function(o){if(!d){var r=t.val();if(yn&&"input"===(o||c).type&&t[0].placeholder!==l)return void(l=t[0].placeholder);"password"!==u&&q(n.ngTrim||"T")&&(r=Dn(r));var a=s&&i.$$hasNativeValidators;(i.$viewValue!==r||""===r&&a)&&(e.$root.$$phase?i.$setViewValue(r):e.$apply(function(){i.$setViewValue(r)}))}};if(r.hasEvent("input"))t.on("input",f);else{var h,m=function(){h||(h=a.defer(function(){f(),h=null}))};t.on("keydown",function(e){var t=e.keyCode;91===t||t>15&&19>t||t>=37&&40>=t||m()}),r.hasEvent("paste")&&t.on("paste cut",m)}t.on("change",f),i.$render=function(){t.val(i.$isEmpty(i.$viewValue)?"":i.$viewValue)};var g,v,y=n.ngPattern;if(y){var w=function(e,t){return tn(i,"pattern",i.$isEmpty(t)||e.test(t),t)};v=y.match(/^\/(.*)\/([gim]*)$/),v?(y=new RegExp(v[1],v[2]),g=function(e){return w(y,e)}):g=function(n){var i=e.$eval(y);if(!i||!i.test)throw o("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",y,i,W(t));return w(i,n)},i.$formatters.push(g),i.$parsers.push(g)}if(n.ngMinlength){var $=p(n.ngMinlength),b=function(e){return tn(i,"minlength",i.$isEmpty(e)||e.length>=$,e)};i.$parsers.push(b),i.$formatters.push(b)}if(n.ngMaxlength){var x=p(n.ngMaxlength),C=function(e){return tn(i,"maxlength",i.$isEmpty(e)||e.length<=x,e)};i.$parsers.push(C),i.$formatters.push(C)}}function an(e,t,o,i,r,a){if(rn(e,t,o,i,r,a),i.$parsers.push(function(e){var t=i.$isEmpty(e);return t||Bo.test(e)?(i.$setValidity("number",!0),""===e?null:t?e:parseFloat(e)):(i.$setValidity("number",!1),n)}),on(i,"number",Fo,null,i.$$validityState),i.$formatters.push(function(e){return i.$isEmpty(e)?"":""+e}),o.min){var s=function(e){var t=parseFloat(o.min);return tn(i,"min",i.$isEmpty(e)||e>=t,e)};i.$parsers.push(s),i.$formatters.push(s)}if(o.max){var l=function(e){var t=parseFloat(o.max);return tn(i,"max",i.$isEmpty(e)||t>=e,e)};i.$parsers.push(l),i.$formatters.push(l)}i.$formatters.push(function(e){return tn(i,"number",i.$isEmpty(e)||b(e),e)})}function sn(e,t,n,o,i,r){rn(e,t,n,o,i,r);var a=function(e){return tn(o,"url",o.$isEmpty(e)||No.test(e),e)};o.$formatters.push(a),o.$parsers.push(a)}function ln(e,t,n,o,i,r){rn(e,t,n,o,i,r);var a=function(e){return tn(o,"email",o.$isEmpty(e)||Ro.test(e),e)};o.$formatters.push(a),o.$parsers.push(a)}function cn(e,t,n,o){v(n.name)&&t.attr("name",c()),t.on("click",function(){t[0].checked&&e.$apply(function(){o.$setViewValue(n.value)})}),o.$render=function(){var e=n.value;t[0].checked=e==o.$viewValue},n.$observe("value",o.$render)}function un(e,t,n,o){var i=n.ngTrueValue,r=n.ngFalseValue;$(i)||(i=!0),$(r)||(r=!1),t.on("click",function(){e.$apply(function(){o.$setViewValue(t[0].checked)})}),o.$render=function(){t[0].checked=o.$viewValue},o.$isEmpty=function(e){return e!==i},o.$formatters.push(function(e){return e===i}),o.$parsers.push(function(e){return e?i:r})}function dn(e,t){return e="ngClass"+e,["$animate",function(n){function o(e,t){var n=[];e:for(var o=0;o<e.length;o++){for(var i=e[o],r=0;r<t.length;r++)if(i==t[r])continue e;n.push(i)}return n}function i(e){if(Mn(e))return e;if($(e))return e.split(" ");if(w(e)){var t=[];return r(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t}return e}return{restrict:"AC",link:function(a,s,l){function c(e){var t=d(e,1);l.$addClass(t)}function u(e){var t=d(e,-1);l.$removeClass(t)}function d(e,t){var n=s.data("$classCounts")||{},o=[];return r(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&o.push(e))}),s.data("$classCounts",n),o.join(" ")}function p(e,t){var i=o(t,e),r=o(e,t);r=d(r,-1),i=d(i,1),0===i.length?n.removeClass(s,r):0===r.length?n.addClass(s,i):n.setClass(s,i,r)}function f(e){if(t===!0||a.$index%2===t){var n=i(e||[]);if(h){if(!R(e,h)){var o=i(h);p(o,n)}}else c(n)}h=N(e)}var h;a.$watch(l[e],f,!0),l.$observe("class",function(t){f(a.$eval(l[e]))}),"ngClass"!==e&&a.$watch("$index",function(n,o){var r=1&n;if(r!==(1&o)){var s=i(a.$eval(l[e]));r===t?c(s):u(s)}})}}}]}var pn="validity",fn=function(e){return $(e)?e.toLowerCase():e},hn=Object.prototype.hasOwnProperty,mn=function(e){return $(e)?e.toUpperCase():e},gn=function(e){return $(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},vn=function(e){return $(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(-33&e.charCodeAt(0))}):e};"i"!=="I".toLowerCase()&&(fn=gn,mn=vn);var yn,wn,$n,bn,xn,Cn=[].slice,Sn=[].push,_n=Object.prototype.toString,kn=o("ng"),Tn=e.angular||(e.angular={}),Pn=["0","0","0"];yn=p((/msie (\d+)/.exec(fn(navigator.userAgent))||[])[1]),isNaN(yn)&&(yn=p((/trident\/.*; rv:(\d+)/.exec(fn(navigator.userAgent))||[])[1])),h.$inject=[],m.$inject=[];var Mn=function(){return C(Array.isArray)?Array.isArray:function(e){return"[object Array]"===_n.call(e)}}(),Dn=function(){return String.prototype.trim?function(e){return $(e)?e.trim():e}:function(e){return $(e)?e.replace(/^\s\s*/,"").replace(/\s\s*$/,""):e}}();xn=9>yn?function(e){return e=e.nodeName?e:e[0],e.scopeName&&"HTML"!=e.scopeName?mn(e.scopeName+":"+e.nodeName):e.nodeName}:function(e){return e.nodeName?e.nodeName:e[0].nodeName};var En=function(){if(y(En.isActive_))return En.isActive_;var e=!(!t.querySelector("[ng-csp]")&&!t.querySelector("[data-ng-csp]"));if(!e)try{new Function("")}catch(n){e=!0}return En.isActive_=e},An=/[A-Z]/g,In={full:"1.2.26",major:1,minor:2,dot:26,codeName:"captivating-disinterest"};he.expando="ng339";var Ln=he.cache={},On=1,Nn=e.document.addEventListener?function(e,t,n){e.addEventListener(t,n,!1)}:function(e,t,n){e.attachEvent("on"+t,n)},Rn=e.document.removeEventListener?function(e,t,n){e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent("on"+t,n)},Bn=(he._data=function(e){return this.cache[e[this.expando]]||{}},/([\:\-\_]+(.))/g),jn=/^moz([A-Z])/,Fn=o("jqLite"),Hn=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Un=/<|&#?\w+;/,Vn=/<([\w:]+)/,qn=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Wn={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Wn.optgroup=Wn.option,Wn.tbody=Wn.tfoot=Wn.colgroup=Wn.caption=Wn.thead,Wn.th=Wn.td;var zn=he.prototype={ready:function(n){function o(){i||(i=!0,n())}var i=!1;"complete"===t.readyState?setTimeout(o):(this.on("DOMContentLoaded",o),he(e).on("load",o))},toString:function(){var e=[];return r(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return wn(e>=0?this[e]:this[this.length+e])},length:0,push:Sn,sort:[].sort,splice:[].splice},Yn={};r("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){Yn[fn(e)]=e});var Gn={};r("input,select,option,textarea,button,form,details".split(","),function(e){Gn[mn(e)]=!0}),r({data:$e,removeData:ye},function(e,t){he[t]=e}),r({data:$e,inheritedData:ke,scope:function(e){return wn.data(e,"$scope")||ke(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return wn.data(e,"$isolateScope")||wn.data(e,"$isolateScopeNoTemplate")},controller:_e,injector:function(e){return ke(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:be,css:function(e,t,o){if(t=ce(t),!y(o)){var i;return 8>=yn&&(i=e.currentStyle&&e.currentStyle[t],""===i&&(i="auto")),i=i||e.style[t],8>=yn&&(i=""===i?n:i),i}e.style[t]=o},attr:function(e,t,o){var i=fn(t);if(Yn[i]){if(!y(o))return e[t]||(e.attributes.getNamedItem(t)||h).specified?i:n;o?(e[t]=!0,e.setAttribute(t,i)):(e[t]=!1,e.removeAttribute(i))}else if(y(o))e.setAttribute(t,o);else if(e.getAttribute){var r=e.getAttribute(t,2);return null===r?n:r}},prop:function(e,t,n){return y(n)?void(e[t]=n):e[t]},text:function(){function e(e,n){var o=t[e.nodeType];return v(n)?o?e[o]:"":void(e[o]=n)}var t=[];return 9>yn?(t[1]="innerText",t[3]="nodeValue"):t[1]=t[3]="textContent",e.$dv="",e}(),val:function(e,t){if(v(t)){if("SELECT"===xn(e)&&e.multiple){var n=[];return r(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){if(v(t))return e.innerHTML;for(var n=0,o=e.childNodes;n<o.length;n++)ge(o[n]);e.innerHTML=t},empty:Te},function(e,t){he.prototype[t]=function(t,o){var i,r,a=this.length;if(e!==Te&&(2==e.length&&e!==be&&e!==_e?t:o)===n){if(w(t)){for(i=0;a>i;i++)if(e===$e)e(this[i],t);else for(r in t)e(this[i],r,t[r]);return this}for(var s=e.$dv,l=s===n?Math.min(a,1):a,c=0;l>c;c++){var u=e(this[c],t,o);s=s?s+u:u}return s}for(i=0;a>i;i++)e(this[i],t,o);return this}}),r({removeData:ye,dealoc:ge,on:function Mi(e,n,o,i){if(y(i))throw Fn("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");var a=we(e,"events"),s=we(e,"handle");a||we(e,"events",a={}),s||we(e,"handle",s=Me(e,a)),r(n.split(" "),function(n){var i=a[n];if(!i){if("mouseenter"==n||"mouseleave"==n){var r=t.body.contains||t.body.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,o=t&&t.parentNode;return e===o||!(!o||1!==o.nodeType||!(n.contains?n.contains(o):e.compareDocumentPosition&&16&e.compareDocumentPosition(o)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1};a[n]=[];var l={mouseleave:"mouseout",mouseenter:"mouseover"};Mi(e,l[n],function(e){var t=this,o=e.relatedTarget;(!o||o!==t&&!r(t,o))&&s(e,n)})}else Nn(e,n,s),a[n]=[];i=a[n]}i.push(o)})},off:ve,one:function(e,t,n){e=wn(e),e.on(t,function o(){e.off(t,n),e.off(t,o)}),e.on(t,n)},replaceWith:function(e,t){var n,o=e.parentNode;ge(e),r(new he(t),function(t){n?o.insertBefore(t,n.nextSibling):o.replaceChild(t,e),n=t})},children:function(e){var t=[];return r(e.childNodes,function(e){1===e.nodeType&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){r(new he(t),function(t){(1===e.nodeType||11===e.nodeType)&&e.appendChild(t)})},prepend:function(e,t){if(1===e.nodeType){var n=e.firstChild;r(new he(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){t=wn(t)[0];var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)},remove:function(e){ge(e);var t=e.parentNode;t&&t.removeChild(e)},after:function(e,t){var n=e,o=e.parentNode;r(new he(t),function(e){o.insertBefore(e,n.nextSibling),n=e})},addClass:Ce,removeClass:xe,toggleClass:function(e,t,n){t&&r(t.split(" "),function(t){var o=n;v(o)&&(o=!be(e,t)),(o?Ce:xe)(e,t)})},parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},next:function(e){if(e.nextElementSibling)return e.nextElementSibling;for(var t=e.nextSibling;null!=t&&1!==t.nodeType;)t=t.nextSibling;return t},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:me,triggerHandler:function(e,t,n){var o,i,a,s=t.type||t,l=(we(e,"events")||{})[s];l&&(o={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopPropagation:h,type:s,target:e},t.type&&(o=d(o,t)),i=N(l),a=n?[o].concat(n):[o],r(i,function(t){t.apply(e,a)}))}},function(e,t){he.prototype[t]=function(t,n,o){for(var i,r=0;r<this.length;r++)v(i)?(i=e(this[r],t,n,o),y(i)&&(i=wn(i))):Se(i,e(this[r],t,n,o));return y(i)?i:this},he.prototype.bind=he.prototype.on,he.prototype.unbind=he.prototype.off}),Ee.prototype={put:function(e,t){this[De(e,this.nextUid)]=t},get:function(e){return this[De(e,this.nextUid)]},remove:function(e){var t=this[e=De(e,this.nextUid)];return delete this[e],t}};var Xn=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Qn=/,/,Zn=/^\s*(_?)(\S+?)\1\s*$/,Kn=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Jn=o("$injector"),eo=o("$animate"),to=["$provide",function(e){this.$$selectors={},this.register=function(t,n){var o=t+"-animation";if(t&&"."!=t.charAt(0))throw eo("notcsel","Expecting class selector starting with '.' got '{0}'.",t);this.$$selectors[t.substr(1)]=o,e.factory(o,n)},this.classNameFilter=function(e){return 1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null),this.$$classNameFilter},this.$get=["$timeout","$$asyncCallback",function(e,t){function n(e){e&&t(e)}return{enter:function(e,t,o,i){o?o.after(e):(t&&t[0]||(t=o.parent()),t.append(e)),n(i)},leave:function(e,t){e.remove(),n(t)},move:function(e,t,n,o){this.enter(e,t,n,o)},addClass:function(e,t,o){t=$(t)?t:Mn(t)?t.join(" "):"",r(e,function(e){Ce(e,t)}),n(o)},removeClass:function(e,t,o){t=$(t)?t:Mn(t)?t.join(" "):"",r(e,function(e){xe(e,t)}),n(o)},setClass:function(e,t,o,i){r(e,function(e){Ce(e,t),xe(e,o)}),n(i)},enabled:h}}]}],no=o("$compile");Fe.$inject=["$provide","$$sanitizeUriProvider"];var oo=/^(x[\:\-_]|data[\:\-_])/i,io=o("$interpolate"),ro=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,ao={http:80,https:443,ftp:21},so=o("$location");pt.prototype=dt.prototype=ut.prototype={$$html5:!1,$$replace:!1,absUrl:ft("$$absUrl"),url:function(e){if(v(e))return this.$$url;var t=ro.exec(e);return t[1]&&this.path(decodeURIComponent(t[1])),(t[2]||t[1])&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:ft("$$protocol"),host:ft("$$host"),port:ft("$$port"),path:ht("$$path",function(e){return e=e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if($(e)||b(e))e=e.toString(),this.$$search=Y(e);else{if(!w(e))throw so("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");r(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:v(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:ht("$$hash",function(e){return e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};var lo,co=o("$parse"),uo={},po=Function.prototype.call,fo=Function.prototype.apply,ho=Function.prototype.bind,mo={"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:h,"+":function(e,t,o,i){return o=o(e,t),i=i(e,t),y(o)?y(i)?o+i:o:y(i)?i:n},"-":function(e,t,n,o){return n=n(e,t),o=o(e,t),(y(n)?n:0)-(y(o)?o:0)},"*":function(e,t,n,o){return n(e,t)*o(e,t)},"/":function(e,t,n,o){return n(e,t)/o(e,t)},"%":function(e,t,n,o){return n(e,t)%o(e,t)},"^":function(e,t,n,o){return n(e,t)^o(e,t)},"=":h,"===":function(e,t,n,o){return n(e,t)===o(e,t)},"!==":function(e,t,n,o){return n(e,t)!==o(e,t)},"==":function(e,t,n,o){return n(e,t)==o(e,t)},"!=":function(e,t,n,o){return n(e,t)!=o(e,t)},"<":function(e,t,n,o){return n(e,t)<o(e,t)},">":function(e,t,n,o){return n(e,t)>o(e,t)},"<=":function(e,t,n,o){return n(e,t)<=o(e,t)},">=":function(e,t,n,o){return n(e,t)>=o(e,t)},"&&":function(e,t,n,o){return n(e,t)&&o(e,t)},"||":function(e,t,n,o){return n(e,t)||o(e,t)},"&":function(e,t,n,o){return n(e,t)&o(e,t)},"|":function(e,t,n,o){return o(e,t)(e,t,n(e,t))},"!":function(e,t,n){return!n(e,t)}},go={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},vo=function(e){this.options=e};vo.prototype={constructor:vo,lex:function(e){for(this.text=e,this.index=0,this.ch=n,this.lastCh=":",this.tokens=[];this.index<this.text.length;){if(this.ch=this.text.charAt(this.index),this.is("\"'"))this.readString(this.ch);else if(this.isNumber(this.ch)||this.is(".")&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(this.ch))this.readIdent();else if(this.is("(){}[].,;:?"))this.tokens.push({index:this.index,text:this.ch}),this.index++;else{if(this.isWhitespace(this.ch)){this.index++;continue}var t=this.ch+this.peek(),o=t+this.peek(2),i=mo[this.ch],r=mo[t],a=mo[o];a?(this.tokens.push({index:this.index,text:o,fn:a}),this.index+=3):r?(this.tokens.push({index:this.index,text:t,fn:r}),this.index+=2):i?(this.tokens.push({index:this.index,text:this.ch,fn:i}),this.index+=1):this.throwError("Unexpected next character ",this.index,this.index+1)}this.lastCh=this.ch}return this.tokens},is:function(e){return-1!==e.indexOf(this.ch)},was:function(e){return-1!==e.indexOf(this.lastCh)},peek:function(e){var t=e||1;return this.index+t<this.text.length?this.text.charAt(this.index+t):!1},isNumber:function(e){return e>="0"&&"9">=e},isWhitespace:function(e){return" "===e||"\r"===e||"	"===e||"\n"===e||""===e||" "===e},isIdent:function(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"===e||"$"===e;
},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var o=y(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw co("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,o,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=fn(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var o=this.peek();if("e"==n&&this.isExpOperator(o))e+=n;else if(this.isExpOperator(n)&&o&&this.isNumber(o)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||o&&this.isNumber(o)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}e=1*e,this.tokens.push({index:t,text:e,literal:!0,constant:!0,fn:function(){return e}})},readIdent:function(){for(var e,t,n,o,i=this,r="",a=this.index;this.index<this.text.length&&(o=this.text.charAt(this.index),"."===o||this.isIdent(o)||this.isNumber(o));)"."===o&&(e=this.index),r+=o,this.index++;if(e)for(t=this.index;t<this.text.length;){if(o=this.text.charAt(t),"("===o){n=r.substr(e-a+1),r=r.substr(0,e-a),this.index=t;break}if(!this.isWhitespace(o))break;t++}var s={index:a,text:r};if(mo.hasOwnProperty(r))s.fn=mo[r],s.literal=!0,s.constant=!0;else{var l=xt(r,this.options,this.text);s.fn=d(function(e,t){return l(e,t)},{assign:function(e,t){return $t(e,r,t,i.text,i.options)}})}this.tokens.push(s),n&&(this.tokens.push({index:e,text:"."}),this.tokens.push({index:e+1,text:n}))},readString:function(e){var t=this.index;this.index++;for(var n="",o=e,i=!1;this.index<this.text.length;){var r=this.text.charAt(this.index);if(o+=r,i){if("u"===r){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{var s=go[r];n+=s||r}i=!1}else if("\\"===r)i=!0;else{if(r===e)return this.index++,void this.tokens.push({index:t,text:o,string:n,literal:!0,constant:!0,fn:function(){return n}});n+=r}this.index++}this.throwError("Unterminated quote",t)}};var yo=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n};yo.ZERO=d(function(){return 0},{constant:!0}),yo.prototype={constructor:yo,parse:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t.literal=!!t.literal,t.constant=!!t.constant,t},primary:function(){var e;if(this.expect("("))e=this.filterChain(),this.consume(")");else if(this.expect("["))e=this.arrayDeclaration();else if(this.expect("{"))e=this.object();else{var t=this.expect();e=t.fn,e||this.throwError("not a primary expression",t),e.literal=!!t.literal,e.constant=!!t.constant}for(var n,o;n=this.expect("(","[",".");)"("===n.text?(e=this.functionCall(e,o),o=null):"["===n.text?(o=e,e=this.objectIndex(e)):"."===n.text?(o=e,e=this.fieldAccess(e)):this.throwError("IMPOSSIBLE");return e},throwError:function(e,t){throw co("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},peekToken:function(){if(0===this.tokens.length)throw co("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,o){if(this.tokens.length>0){var i=this.tokens[0],r=i.text;if(r===e||r===t||r===n||r===o||!e&&!t&&!n&&!o)return i}return!1},expect:function(e,t,n,o){var i=this.peek(e,t,n,o);return i?(this.tokens.shift(),i):!1},consume:function(e){this.expect(e)||this.throwError("is unexpected, expecting ["+e+"]",this.peek())},unaryFn:function(e,t){return d(function(n,o){return e(n,o,t)},{constant:t.constant})},ternaryFn:function(e,t,n){return d(function(o,i){return e(o,i)?t(o,i):n(o,i)},{constant:e.constant&&t.constant&&n.constant})},binaryFn:function(e,t,n){return d(function(o,i){return t(o,i,e,n)},{constant:e.constant&&n.constant})},statements:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.filterChain()),!this.expect(";"))return 1===e.length?e[0]:function(t,n){for(var o,i=0;i<e.length;i++){var r=e[i];r&&(o=r(t,n))}return o}},filterChain:function(){for(var e,t=this.expression();;){if(!(e=this.expect("|")))return t;t=this.binaryFn(t,e.fn,this.filter())}},filter:function(){for(var e=this.expect(),t=this.$filter(e.text),n=[];;){if(!(e=this.expect(":"))){var o=function(e,o,i){for(var r=[i],a=0;a<n.length;a++)r.push(n[a](e,o));return t.apply(e,r)};return function(){return o}}n.push(this.expression())}},expression:function(){return this.assignment()},assignment:function(){var e,t,n=this.ternary();return(t=this.expect("="))?(n.assign||this.throwError("implies assignment but ["+this.text.substring(0,t.index)+"] can not be assigned to",t),e=this.ternary(),function(t,o){return n.assign(t,e(t,o),o)}):n},ternary:function(){var e,t,n=this.logicalOR();return(t=this.expect("?"))?(e=this.assignment(),(t=this.expect(":"))?this.ternaryFn(n,e,this.assignment()):void this.throwError("expected :",t)):n},logicalOR:function(){for(var e,t=this.logicalAND();;){if(!(e=this.expect("||")))return t;t=this.binaryFn(t,e.fn,this.logicalAND())}},logicalAND:function(){var e,t=this.equality();return(e=this.expect("&&"))&&(t=this.binaryFn(t,e.fn,this.logicalAND())),t},equality:function(){var e,t=this.relational();return(e=this.expect("==","!=","===","!=="))&&(t=this.binaryFn(t,e.fn,this.equality())),t},relational:function(){var e,t=this.additive();return(e=this.expect("<",">","<=",">="))&&(t=this.binaryFn(t,e.fn,this.relational())),t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t=this.binaryFn(t,e.fn,this.multiplicative());return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t=this.binaryFn(t,e.fn,this.unary());return t},unary:function(){var e;return this.expect("+")?this.primary():(e=this.expect("-"))?this.binaryFn(yo.ZERO,e.fn,this.unary()):(e=this.expect("!"))?this.unaryFn(e.fn,this.unary()):this.primary()},fieldAccess:function(e){var t=this,n=this.expect().text,o=xt(n,this.options,this.text);return d(function(t,n,i){return o(i||e(t,n))},{assign:function(o,i,r){var a=e(o,r);return a||e.assign(o,a={}),$t(a,n,i,t.text,t.options)}})},objectIndex:function(e){var t=this,o=this.expression();return this.consume("]"),d(function(i,r){var a,s,l=e(i,r),c=o(i,r);return vt(c,t.text),l?(a=yt(l[c],t.text),a&&a.then&&t.options.unwrapPromises&&(s=a,"$$v"in a||(s.$$v=n,s.then(function(e){s.$$v=e})),a=a.$$v),a):n},{assign:function(n,i,r){var a=vt(o(n,r),t.text),s=yt(e(n,r),t.text);return s||e.assign(n,s={}),s[a]=i}})},functionCall:function(e,t){var n=[];if(")"!==this.peekToken().text)do n.push(this.expression());while(this.expect(","));this.consume(")");var o=this;return function(i,r){for(var a=[],s=t?t(i,r):i,l=0;l<n.length;l++)a.push(yt(n[l](i,r),o.text));var c=e(i,r,s)||h;yt(s,o.text),wt(c,o.text);var u=c.apply?c.apply(s,a):c(a[0],a[1],a[2],a[3],a[4]);return yt(u,o.text)}},arrayDeclaration:function(){var e=[],t=!0;if("]"!==this.peekToken().text)do{if(this.peek("]"))break;var n=this.expression();e.push(n),n.constant||(t=!1)}while(this.expect(","));return this.consume("]"),d(function(t,n){for(var o=[],i=0;i<e.length;i++)o.push(e[i](t,n));return o},{literal:!0,constant:t})},object:function(){var e=[],t=!0;if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var n=this.expect(),o=n.string||n.text;this.consume(":");var i=this.expression();e.push({key:o,value:i}),i.constant||(t=!1)}while(this.expect(","));return this.consume("}"),d(function(t,n){for(var o={},i=0;i<e.length;i++){var r=e[i];o[r.key]=r.value(t,n)}return o},{literal:!0,constant:t})}};var wo={},$o=o("$sce"),bo={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},xo=t.createElement("a"),Co=Nt(e.location.href,!0);jt.$inject=["$provide"],Ht.$inject=["$locale"],Ut.$inject=["$locale"];var So=".",_o={yyyy:Wt("FullYear",4),yy:Wt("FullYear",2,0,!0),y:Wt("FullYear",1),MMMM:zt("Month"),MMM:zt("Month",!0),MM:Wt("Month",2,1),M:Wt("Month",1,1),dd:Wt("Date",2),d:Wt("Date",1),HH:Wt("Hours",2),H:Wt("Hours",1),hh:Wt("Hours",2,-12),h:Wt("Hours",1,-12),mm:Wt("Minutes",2),m:Wt("Minutes",1),ss:Wt("Seconds",2),s:Wt("Seconds",1),sss:Wt("Milliseconds",3),EEEE:zt("Day"),EEE:zt("Day",!0),a:Gt,Z:Yt},ko=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,To=/^\-?\d+$/;Xt.$inject=["$locale"];var Po=g(fn),Mo=g(mn);Kt.$inject=["$parse"];var Do=g({restrict:"E",compile:function(e,n){return 8>=yn&&(n.href||n.name||n.$set("href",""),e.append(t.createComment("IE fix"))),n.href||n.xlinkHref||n.name?void 0:function(e,t){var n="[object SVGAnimatedString]"===_n.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}),Eo={};r(Yn,function(e,t){if("multiple"!=e){var n=He("ng-"+t);Eo[n]=function(){return{priority:100,link:function(e,o,i){e.$watch(i[n],function(e){i.$set(t,!!e)})}}}}}),r(["src","srcset","href"],function(e){var t=He("ng-"+e);Eo[t]=function(){return{priority:99,link:function(n,o,i){var r=e,a=e;"href"===e&&"[object SVGAnimatedString]"===_n.call(o.prop("href"))&&(a="xlinkHref",i.$attr[a]="xlink:href",r=null),i.$observe(t,function(t){return t?(i.$set(a,t),void(yn&&r&&o.prop(r,i[a]))):void("href"===e&&i.$set(a,null))})}}}});var Ao={$addControl:h,$removeControl:h,$setValidity:h,$setDirty:h,$setPristine:h};en.$inject=["$element","$attrs","$scope","$animate"];var Io=function(e){return["$timeout",function(t){var o={name:"form",restrict:e?"EAC":"E",controller:en,compile:function(){return{pre:function(e,o,i,r){if(!i.action){var a=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1};Nn(o[0],"submit",a),o.on("$destroy",function(){t(function(){Rn(o[0],"submit",a)},0,!1)})}var s=o.parent().controller("form"),l=i.name||i.ngForm;l&&$t(e,l,r,l),s&&o.on("$destroy",function(){s.$removeControl(r),l&&$t(e,l,n,l),d(r,Ao)})}}}};return o}]},Lo=Io(),Oo=Io(!0),No=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Ro=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Bo=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,jo={text:rn,number:an,url:sn,email:ln,radio:cn,checkbox:un,hidden:h,button:h,submit:h,reset:h,file:h},Fo=["badInput"],Ho=["$browser","$sniffer",function(e,t){return{restrict:"E",require:"?ngModel",link:function(n,o,i,r){r&&(jo[fn(i.type)]||jo.text)(n,o,i,r,t,e)}}}],Uo="ng-valid",Vo="ng-invalid",qo="ng-pristine",Wo="ng-dirty",zo=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate",function(e,t,n,i,a,s){function l(e,t){t=t?"-"+J(t,"-"):"",s.removeClass(i,(e?Vo:Uo)+t),s.addClass(i,(e?Uo:Vo)+t)}this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$name=n.name;var c=a(n.ngModel),u=c.assign;if(!u)throw o("ngModel")("nonassign","Expression '{0}' is non-assignable. Element: {1}",n.ngModel,W(i));this.$render=h,this.$isEmpty=function(e){return v(e)||""===e||null===e||e!==e};var d=i.inheritedData("$formController")||Ao,p=0,f=this.$error={};i.addClass(qo),l(!0),this.$setValidity=function(e,t){f[e]!==!t&&(t?(f[e]&&p--,p||(l(!0),this.$valid=!0,this.$invalid=!1)):(l(!1),this.$invalid=!0,this.$valid=!1,p++),f[e]=!t,l(t,e),d.$setValidity(e,t,this))},this.$setPristine=function(){this.$dirty=!1,this.$pristine=!0,s.removeClass(i,Wo),s.addClass(i,qo)},this.$setViewValue=function(n){this.$viewValue=n,this.$pristine&&(this.$dirty=!0,this.$pristine=!1,s.removeClass(i,qo),s.addClass(i,Wo),d.$setDirty()),r(this.$parsers,function(e){n=e(n)}),this.$modelValue!==n&&(this.$modelValue=n,u(e,n),r(this.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}}))};var m=this;e.$watch(function(){var t=c(e);if(m.$modelValue!==t){var n=m.$formatters,o=n.length;for(m.$modelValue=t;o--;)t=n[o](t);m.$viewValue!==t&&(m.$viewValue=t,m.$render())}return t})}],Yo=function(){return{require:["ngModel","^?form"],controller:zo,link:function(e,t,n,o){var i=o[0],r=o[1]||Ao;r.$addControl(i),e.$on("$destroy",function(){r.$removeControl(i)})}}},Go=g({require:"ngModel",link:function(e,t,n,o){o.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),Xo=function(){return{require:"?ngModel",link:function(e,t,n,o){if(o){n.required=!0;var i=function(e){return n.required&&o.$isEmpty(e)?void o.$setValidity("required",!1):(o.$setValidity("required",!0),e)};o.$formatters.push(i),o.$parsers.unshift(i),n.$observe("required",function(){i(o.$viewValue)})}}}},Qo=function(){return{require:"ngModel",link:function(e,t,o,i){var a=/\/(.*)\//.exec(o.ngList),s=a&&new RegExp(a[1])||o.ngList||",",l=function(e){if(!v(e)){var t=[];return e&&r(e.split(s),function(e){e&&t.push(Dn(e))}),t}};i.$parsers.push(l),i.$formatters.push(function(e){return Mn(e)?e.join(", "):n}),i.$isEmpty=function(e){return!e||!e.length}}}},Zo=/^(true|false|\d+)$/,Ko=function(){return{priority:100,compile:function(e,t){return Zo.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},Jo=Jt({compile:function(e){return e.addClass("ng-binding"),function(e,t,o){t.data("$binding",o.ngBind),e.$watch(o.ngBind,function(e){t.text(e==n?"":e)})}}}),ei=["$interpolate",function(e){return function(t,n,o){var i=e(n.attr(o.$attr.ngBindTemplate));n.addClass("ng-binding").data("$binding",i),o.$observe("ngBindTemplate",function(e){n.text(e)})}}],ti=["$sce","$parse",function(e,t){return{compile:function(n){return n.addClass("ng-binding"),function(n,o,i){function r(){return(a(n)||"").toString()}o.data("$binding",i.ngBindHtml);var a=t(i.ngBindHtml);n.$watch(r,function(t){o.html(e.getTrustedHtml(a(n))||"")})}}}}],ni=dn("",!0),oi=dn("Odd",0),ii=dn("Even",1),ri=Jt({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),ai=[function(){return{scope:!0,controller:"@",priority:500}}],si={},li={blur:!0,focus:!0};r("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=He("ng-"+e);si[t]=["$parse","$rootScope",function(n,o){return{compile:function(i,r){var a=n(r[t]);return function(t,n){n.on(e,function(n){var i=function(){a(t,{$event:n})};li[e]&&o.$$phase?t.$evalAsync(i):t.$apply(i)})}}}}]});var ci=["$animate",function(e){return{transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,o,i,r,a){var s,l,c;n.$watch(i.ngIf,function(r){q(r)?l||(l=n.$new(),a(l,function(n){n[n.length++]=t.createComment(" end ngIf: "+i.ngIf+" "),s={clone:n},e.enter(n,o.parent(),o)})):(c&&(c.remove(),c=null),l&&(l.$destroy(),l=null),s&&(c=re(s.clone),e.leave(c,function(){c=null}),s=null))})}}}],ui=["$http","$templateCache","$anchorScroll","$animate","$sce",function(e,t,n,o,i){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Tn.noop,compile:function(r,a){var s=a.ngInclude||a.src,l=a.onload||"",c=a.autoscroll;return function(r,a,u,d,p){var f,h,m,g=0,v=function(){h&&(h.remove(),h=null),f&&(f.$destroy(),f=null),m&&(o.leave(m,function(){h=null}),h=m,m=null)};r.$watch(i.parseAsResourceUrl(s),function(i){var s=function(){!y(c)||c&&!r.$eval(c)||n()},u=++g;i?(e.get(i,{cache:t}).success(function(e){if(u===g){var t=r.$new();d.template=e;var n=p(t,function(e){v(),o.enter(e,null,a,s)});f=t,m=n,f.$emit("$includeContentLoaded"),r.$eval(l)}}).error(function(){u===g&&v()}),r.$emit("$includeContentRequested")):(v(),d.template=null)})}}}}],di=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(t,n,o,i){n.html(i.template),e(n.contents())(t)}}}],pi=Jt({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),fi=Jt({terminal:!0,priority:1e3}),hi=["$locale","$interpolate",function(e,t){var n=/{}/g;return{restrict:"EA",link:function(o,i,a){var s=a.count,l=a.$attr.when&&i.attr(a.$attr.when),c=a.offset||0,u=o.$eval(l)||{},d={},p=t.startSymbol(),f=t.endSymbol(),h=/^when(Minus)?(.+)$/;r(a,function(e,t){h.test(t)&&(u[fn(t.replace("when","").replace("Minus","-"))]=i.attr(a.$attr[t]))}),r(u,function(e,o){d[o]=t(e.replace(n,p+s+"-"+c+f))}),o.$watch(function(){var t=parseFloat(o.$eval(s));return isNaN(t)?"":(t in u||(t=e.pluralCat(t-c)),d[t](o,i,!0))},function(e){i.text(e)})}}}],mi=["$parse","$animate",function(e,n){function a(e){return e.clone[0]}function s(e){return e.clone[e.clone.length-1]}var l="$$NG_REMOVED",c=o("ngRepeat");return{transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,link:function(o,u,d,p,f){var h,m,g,v,y,w,$,b,x,C=d.ngRepeat,S=C.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),_={$id:De};if(!S)throw c("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",C);if(w=S[1],$=S[2],h=S[3],h?(m=e(h),g=function(e,t,n){return x&&(_[x]=e),_[b]=t,_.$index=n,m(o,_)}):(v=function(e,t){return De(t)},y=function(e){return e}),S=w.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/),!S)throw c("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",w);b=S[3]||S[1],x=S[2];var k={};o.$watchCollection($,function(e){var d,p,h,m,w,$,S,_,T,P,M,D,E=u[0],A={},I=[];if(i(e))P=e,T=g||v;else{T=g||y,P=[];for($ in e)e.hasOwnProperty($)&&"$"!=$.charAt(0)&&P.push($);P.sort()}for(m=P.length,p=I.length=P.length,d=0;p>d;d++)if($=e===P?d:P[d],S=e[$],_=T($,S,d),oe(_,"`track by` id"),k.hasOwnProperty(_))M=k[_],delete k[_],A[_]=M,I[d]=M;else{if(A.hasOwnProperty(_))throw r(I,function(e){e&&e.scope&&(k[e.id]=e)}),c("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",C,_,U(S));I[d]={id:_},A[_]=!1}for($ in k)k.hasOwnProperty($)&&(M=k[$],D=re(M.clone),n.leave(D),r(D,function(e){e[l]=!0}),M.scope.$destroy());for(d=0,p=P.length;p>d;d++){if($=e===P?d:P[d],S=e[$],M=I[d],I[d-1]&&(E=s(I[d-1])),M.scope){w=M.scope,h=E;do h=h.nextSibling;while(h&&h[l]);a(M)!=h&&n.move(re(M.clone),null,wn(E)),E=s(M)}else w=o.$new();w[b]=S,x&&(w[x]=$),w.$index=d,w.$first=0===d,w.$last=d===m-1,w.$middle=!(w.$first||w.$last),w.$odd=!(w.$even=0===(1&d)),M.scope||f(w,function(e){e[e.length++]=t.createComment(" end ngRepeat: "+C+" "),n.enter(e,null,wn(E)),E=e,M.scope=w,M.clone=e,A[M.id]=M})}k=A})}}}],gi=["$animate",function(e){return function(t,n,o){t.$watch(o.ngShow,function(t){e[q(t)?"removeClass":"addClass"](n,"ng-hide")})}}],vi=["$animate",function(e){return function(t,n,o){t.$watch(o.ngHide,function(t){e[q(t)?"addClass":"removeClass"](n,"ng-hide")})}}],yi=Jt(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&r(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),wi=["$animate",function(e){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(t,n,o,i){var a=o.ngSwitch||o.on,s=[],l=[],c=[],u=[];t.$watch(a,function(n){var a,d;for(a=0,d=c.length;d>a;++a)c[a].remove();for(c.length=0,a=0,d=u.length;d>a;++a){var p=l[a];u[a].$destroy(),c[a]=p,e.leave(p,function(){c.splice(a,1)})}l.length=0,u.length=0,(s=i.cases["!"+n]||i.cases["?"])&&(t.$eval(o.change),r(s,function(n){var o=t.$new();u.push(o),n.transclude(o,function(t){var o=n.element;l.push(t),e.enter(t,o.parent(),o)})}))})}}}],$i=Jt({transclude:"element",priority:800,require:"^ngSwitch",link:function(e,t,n,o,i){o.cases["!"+n.ngSwitchWhen]=o.cases["!"+n.ngSwitchWhen]||[],o.cases["!"+n.ngSwitchWhen].push({transclude:i,element:t})}}),bi=Jt({transclude:"element",priority:800,require:"^ngSwitch",link:function(e,t,n,o,i){o.cases["?"]=o.cases["?"]||[],o.cases["?"].push({transclude:i,element:t})}}),xi=Jt({link:function(e,t,n,i,r){if(!r)throw o("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",W(t));r(function(e){t.empty(),t.append(e)})}}),Ci=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"==n.type){var o=n.id,i=t[0].text;e.put(o,i)}}}}],Si=o("ngOptions"),_i=g({terminal:!0}),ki=["$compile","$parse",function(e,o){var i=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,s={$setViewValue:h};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(e,t,n){var o,i,r=this,a={},l=s;r.databound=n.ngModel,r.init=function(e,t,n){l=e,o=t,i=n},r.addOption=function(t){oe(t,'"option value"'),a[t]=!0,l.$viewValue==t&&(e.val(t),i.parent()&&i.remove())},r.removeOption=function(e){this.hasOption(e)&&(delete a[e],l.$viewValue==e&&this.renderUnknownOption(e))},r.renderUnknownOption=function(t){var n="? "+De(t)+" ?";i.val(n),e.prepend(i),e.val(n),i.prop("selected",!0)},r.hasOption=function(e){return a.hasOwnProperty(e)},t.$on("$destroy",function(){r.renderUnknownOption=h})}],link:function(s,l,c,u){function d(e,t,n,o){n.$render=function(){var e=n.$viewValue;o.hasOption(e)?(S.parent()&&S.remove(),t.val(e),""===e&&h.prop("selected",!0)):v(e)&&h?t.val(""):o.renderUnknownOption(e)},t.on("change",function(){e.$apply(function(){S.parent()&&S.remove(),n.$setViewValue(t.val())})})}function p(e,t,n){var o;n.$render=function(){var e=new Ee(n.$viewValue);r(t.find("option"),function(t){t.selected=y(e.get(t.value))})},e.$watch(function(){R(o,n.$viewValue)||(o=N(n.$viewValue),n.$render())}),t.on("change",function(){e.$apply(function(){var e=[];r(t.find("option"),function(t){t.selected&&e.push(t.value)}),n.$setViewValue(e)})})}function f(t,r,s){function l(){var e=!1;if(w){var n=s.$modelValue;if(_&&Mn(n)){e=new Ee([]);for(var o={},i=0;i<n.length;i++)o[p]=n[i],e.put(_(t,o),n[i])}else e=new Ee(n)}return e}function c(){var e,n,o,i,c,u,$,S,T,P,M,D,E,A,I,L={"":[]},O=[""],N=s.$modelValue,R=v(t)||[],B=f?a(R):R,j={},F=l();for(M=0;T=B.length,T>M;M++){if($=M,f){if($=B[M],"$"===$.charAt(0))continue;j[f]=$}if(j[p]=R[$],e=h(t,j)||"",(n=L[e])||(n=L[e]=[],O.push(e)),w)D=y(F.remove(_?_(t,j):g(t,j)));else{if(_){var H={};H[p]=N,D=_(t,H)===_(t,j)}else D=N===g(t,j);F=F||D}I=d(t,j),I=y(I)?I:"",n.push({id:_?_(t,j):f?B[M]:M,label:I,selected:D})}for(w||(b||null===N?L[""].unshift({id:"",label:"",selected:!F}):F||L[""].unshift({id:"?",label:"",selected:!0})),P=0,S=O.length;S>P;P++){for(e=O[P],n=L[e],k.length<=P?(i={element:C.clone().attr("label",e),label:n.label},c=[i],k.push(c),r.append(i.element)):(c=k[P],i=c[0],i.label!=e&&i.element.attr("label",i.label=e)),E=null,M=0,T=n.length;T>M;M++)o=n[M],(u=c[M+1])?(E=u.element,u.label!==o.label&&E.text(u.label=o.label),u.id!==o.id&&E.val(u.id=o.id),E[0].selected!==o.selected&&(E.prop("selected",u.selected=o.selected),yn&&E.prop("selected",u.selected))):(""===o.id&&b?A=b:(A=x.clone()).val(o.id).prop("selected",o.selected).attr("selected",o.selected).text(o.label),c.push(u={element:A,label:o.label,id:o.id,selected:o.selected}),m.addOption(o.label,A),E?E.after(A):i.element.append(A),E=A);for(M++;c.length>M;)o=c.pop(),m.removeOption(o.label),o.element.remove()}for(;k.length>P;)k.pop()[0].element.remove()}var u;if(!(u=$.match(i)))throw Si("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",$,W(r));var d=o(u[2]||u[1]),p=u[4]||u[6],f=u[5],h=o(u[3]||""),g=o(u[2]?u[1]:p),v=o(u[7]),S=u[8],_=S?o(u[8]):null,k=[[{element:r,label:""}]];b&&(e(b)(t),b.removeClass("ng-scope"),b.remove()),r.empty(),r.on("change",function(){t.$apply(function(){var e,o,i,a,l,u,d,h,m,y=v(t)||[],$={};if(w){for(i=[],u=0,h=k.length;h>u;u++)for(e=k[u],l=1,d=e.length;d>l;l++)if((a=e[l].element)[0].selected){if(o=a.val(),f&&($[f]=o),_)for(m=0;m<y.length&&($[p]=y[m],_(t,$)!=o);m++);else $[p]=y[o];i.push(g(t,$))}}else if(o=r.val(),"?"==o)i=n;else if(""===o)i=null;else if(_){for(m=0;m<y.length;m++)if($[p]=y[m],_(t,$)==o){i=g(t,$);break}}else $[p]=y[o],f&&($[f]=o),i=g(t,$);s.$setViewValue(i),c()})}),s.$render=c,t.$watchCollection(v,c),t.$watchCollection(function(){var e={},n=v(t);if(n){for(var o=new Array(n.length),i=0,r=n.length;r>i;i++)e[p]=n[i],o[i]=d(t,e);return o}},c),w&&t.$watchCollection(function(){return s.$modelValue},c)}if(u[1]){for(var h,m=u[0],g=u[1],w=c.multiple,$=c.ngOptions,b=!1,x=wn(t.createElement("option")),C=wn(t.createElement("optgroup")),S=x.clone(),_=0,k=l.children(),T=k.length;T>_;_++)if(""===k[_].value){h=b=k.eq(_);break}m.init(g,b,S),w&&(g.$isEmpty=function(e){return!e||0===e.length}),$?f(s,l,g):w?p(s,l,g):d(s,l,g,m)}}}}],Ti=["$interpolate",function(e){var t={addOption:h,removeOption:h};return{restrict:"E",priority:100,compile:function(n,o){if(v(o.value)){var i=e(n.text(),!0);i||o.$set("value",n.text())}return function(e,n,o){var r="$selectController",a=n.parent(),s=a.data(r)||a.parent().data(r);s&&s.databound?n.prop("selected",!1):s=t,i?e.$watch(i,function(e,t){o.$set("value",e),e!==t&&s.removeOption(t),s.addOption(e)}):s.addOption(o.value),n.on("$destroy",function(){s.removeOption(o.value)})}}}}],Pi=g({restrict:"E",terminal:!0});return e.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(ee(),se(Tn),void wn(t).ready(function(){Z(t,K)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\\:form{display:block;}.ng-animate-block-transitions{transition:0s all!important;-webkit-transition:0s all!important;}.ng-hide-add-active,.ng-hide-remove{display:block!important;}</style>'),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.datepicker","ui.bootstrap.dialog","ui.bootstrap.dropdownToggle","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.position","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/dialog/message.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead.html"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(e,t,n){function o(e){for(var t in e)if(void 0!==r.style[t])return e[t]}var i=function(o,r,a){a=a||{};var s=e.defer(),l=i[a.animation?"animationEndEventName":"transitionEndEventName"],c=function(){n.$apply(function(){o.unbind(l,c),s.resolve(o)})};return l&&o.bind(l,c),t(function(){angular.isString(r)?o.addClass(r):angular.isFunction(r)?r(o):angular.isObject(r)&&o.css(r),l||s.resolve(o)}),s.promise.cancel=function(){l&&o.unbind(l,c),s.reject("Transition cancelled")},s.promise},r=document.createElement("trans"),a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},s={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return i.transitionEndEventName=o(a),i.animationEndEventName=o(s),i}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(e){var t=function(e,t,n){t.removeClass("collapse"),t.css({height:n}),t[0].offsetWidth,t.addClass("collapse")};return{link:function(n,o,i){var r,a=!0;n.$watch(function(){return o[0].scrollHeight},function(){0!==o[0].scrollHeight&&(r||(a?t(n,o,o[0].scrollHeight+"px"):t(n,o,"auto")))}),n.$watch(i.collapse,function(e){e?u():c()});var s,l=function(t){return s&&s.cancel(),s=e(o,t),s.then(function(){s=void 0},function(){s=void 0}),s},c=function(){a?(a=!1,r||t(n,o,"auto")):l({height:o[0].scrollHeight+"px"}).then(function(){r||t(n,o,"auto")}),r=!1},u=function(){r=!0,a?(a=!1,t(n,o,0)):(t(n,o,o[0].scrollHeight+"px"),l({height:"0"}))}}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(o){var i=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;i&&angular.forEach(this.groups,function(e){e!==o&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(this.groups.indexOf(e),1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",["$parse","$transition","$timeout",function(e){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@"},controller:["$scope",function(){this.setHeading=function(e){this.heading=e}}],link:function(t,n,o,i){var r,a;i.addGroup(t),t.isOpen=!1,o.isOpen&&(r=e(o.isOpen),a=r.assign,t.$watch(function(){return r(t.$parent)},function(e){t.isOpen=e}),t.isOpen=r?r(t.$parent):!1),t.$watch("isOpen",function(e){e&&i.closeOthers(t),a&&a(t.$parent,e)})}}}]).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",compile:function(e,t,n){return function(e,t,o,i){i.setHeading(n(e,function(){}))}}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(e,t,n,o){e.$watch(function(){return o[n.accordionTransclude]},function(e){e&&(t.html(""),t.append(e))})}}}),angular.module("ui.bootstrap.alert",[]).directive("alert",function(){return{restrict:"EA",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"=",close:"&"},link:function(e,t,n){e.closeable="close"in n}}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).directive("btnRadio",["buttonConfig",function(e){var t=e.activeClass||"active",n=e.toggleEvent||"click";return{require:"ngModel",link:function(e,o,i,r){r.$render=function(){o.toggleClass(t,angular.equals(r.$modelValue,e.$eval(i.btnRadio)))},o.bind(n,function(){o.hasClass(t)||e.$apply(function(){r.$setViewValue(e.$eval(i.btnRadio)),r.$render()})})}}}]).directive("btnCheckbox",["buttonConfig",function(e){var t=e.activeClass||"active",n=e.toggleEvent||"click";return{require:"ngModel",link:function(e,o,i,r){var a=e.$eval(i.btnCheckboxTrue),s=e.$eval(i.btnCheckboxFalse);a=angular.isDefined(a)?a:!0,s=angular.isDefined(s)?s:!1,r.$render=function(){o.toggleClass(t,angular.equals(r.$modelValue,a))},o.bind(n,function(){e.$apply(function(){r.$setViewValue(o.hasClass(t)?s:a),r.$render()})})}}}]),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$transition","$q",function(e,t,n){function o(){function n(){r?(e.next(),o()):e.pause()}i&&t.cancel(i);var a=+e.interval;!isNaN(a)&&a>=0&&(i=t(n,a))}var i,r,a=this,s=a.slides=[],l=-1;a.currentSlide=null,a.select=function(i,r){function c(){a.currentSlide&&angular.isString(r)&&!e.noTransition&&i.$element?(i.$element.addClass(r),i.$element[0].offsetWidth=i.$element[0].offsetWidth,angular.forEach(s,function(e){
angular.extend(e,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(i,{direction:r,active:!0,entering:!0}),angular.extend(a.currentSlide||{},{direction:r,leaving:!0}),e.$currentTransition=n(i.$element,{}),function(t,n){e.$currentTransition.then(function(){u(t,n)},function(){u(t,n)})}(i,a.currentSlide)):u(i,a.currentSlide),a.currentSlide=i,l=d,o()}function u(t,n){angular.extend(t,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(n||{},{direction:"",active:!1,leaving:!1,entering:!1}),e.$currentTransition=null}var d=s.indexOf(i);void 0===r&&(r=d>l?"next":"prev"),i&&i!==a.currentSlide&&(e.$currentTransition?(e.$currentTransition.cancel(),t(c)):c())},a.indexOfSlide=function(e){return s.indexOf(e)},e.next=function(){var t=(l+1)%s.length;return e.$currentTransition?void 0:a.select(s[t],"next")},e.prev=function(){var t=0>l-1?s.length-1:l-1;return e.$currentTransition?void 0:a.select(s[t],"prev")},e.select=function(e){a.select(e)},e.isActive=function(e){return a.currentSlide===e},e.slides=function(){return s},e.$watch("interval",o),e.play=function(){r||(r=!0,o())},e.pause=function(){e.noPause||(r=!1,i&&t.cancel(i))},a.addSlide=function(t,n){t.$element=n,s.push(t),1===s.length||t.active?(a.select(s[s.length-1]),1==s.length&&e.play()):t.active=!1},a.removeSlide=function(e){var t=s.indexOf(e);s.splice(t,1),s.length>0&&e.active?t>=s.length?a.select(s[t-1]):a.select(s[t]):l>t&&l--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",["$parse",function(e){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{},link:function(t,n,o,i){if(o.active){var r=e(o.active),a=r.assign,s=t.active=r(t.$parent);t.$watch(function(){var e=r(t.$parent);return e!==t.active&&(e!==s?s=t.active=e:a(t.$parent,e=s=t.active)),e})}i.addSlide(t,n),t.$on("$destroy",function(){i.removeSlide(t)}),t.$watch("active",function(e){e&&i.select(t)})}}}]),angular.module("ui.bootstrap.datepicker",[]).constant("datepickerConfig",{dayFormat:"dd",monthFormat:"MMMM",yearFormat:"yyyy",dayHeaderFormat:"EEE",dayTitleFormat:"MMMM yyyy",monthTitleFormat:"yyyy",showWeeks:!0,startingDay:0,yearRange:20}).directive("datepicker",["dateFilter","$parse","datepickerConfig",function(e,t,n){return{restrict:"EA",replace:!0,scope:{model:"=ngModel",dateDisabled:"&"},templateUrl:"template/datepicker/datepicker.html",link:function(o,r,a){function s(e,t,n){o.rows=e,o.labels=t,o.title=n}function l(){o.showWeekNumbers="day"===o.mode&&d}function c(e,t){return"year"===o.mode?t.getFullYear()-e.getFullYear():"month"===o.mode?new Date(t.getFullYear(),t.getMonth())-new Date(e.getFullYear(),e.getMonth()):"day"===o.mode?new Date(t.getFullYear(),t.getMonth(),t.getDate())-new Date(e.getFullYear(),e.getMonth(),e.getDate()):void 0}function u(e){return p&&c(e,p)>0||f&&0>c(e,f)||o.dateDisabled&&o.dateDisabled({date:e,mode:o.mode})}o.mode="day";var d,p,f,h=new Date,m={};m.day=angular.isDefined(a.dayFormat)?o.$eval(a.dayFormat):n.dayFormat,m.month=angular.isDefined(a.monthFormat)?o.$eval(a.monthFormat):n.monthFormat,m.year=angular.isDefined(a.yearFormat)?o.$eval(a.yearFormat):n.yearFormat,m.dayHeader=angular.isDefined(a.dayHeaderFormat)?o.$eval(a.dayHeaderFormat):n.dayHeaderFormat,m.dayTitle=angular.isDefined(a.dayTitleFormat)?o.$eval(a.dayTitleFormat):n.dayTitleFormat,m.monthTitle=angular.isDefined(a.monthTitleFormat)?o.$eval(a.monthTitleFormat):n.monthTitleFormat;var g=angular.isDefined(a.startingDay)?o.$eval(a.startingDay):n.startingDay,v=angular.isDefined(a.yearRange)?o.$eval(a.yearRange):n.yearRange;a.showWeeks?o.$parent.$watch(t(a.showWeeks),function(e){d=!!e,l()}):(d=n.showWeeks,l()),a.min&&o.$parent.$watch(t(a.min),function(e){p=new Date(e),b()}),a.max&&o.$parent.$watch(t(a.max),function(e){f=new Date(e),b()});var y=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},w=function(e,t){return new Date(e,t+1,0).getDate()},$={day:function(){function t(t,o,i){for(var a=0;o>a;a++)n.push({date:new Date(t),isCurrent:i,isSelected:x(t),label:e(t,m.day),disabled:u(t)}),t.setDate(t.getDate()+1);r=t}var n=[],o=[],r=null,a=new Date(h);a.setDate(1);var l=g-a.getDay(),c=l>0?7-l:-l;for(c>0&&(a.setDate(-c+1),t(a,c,!1)),t(r||a,w(h.getFullYear(),h.getMonth()),!0),t(r,(7-n.length%7)%7,!1),i=0;7>i;i++)o.push(e(n[i].date,m.dayHeader));s(y(n,7),o,e(h,m.dayTitle))},month:function(){for(var t=[],n=0,o=h.getFullYear();12>n;){var i=new Date(o,n++,1);t.push({date:i,isCurrent:!0,isSelected:x(i),label:e(i,m.month),disabled:u(i)})}s(y(t,3),[],e(h,m.monthTitle))},year:function(){for(var t=[],n=parseInt((h.getFullYear()-1)/v,10)*v+1,o=0;v>o;o++){var i=new Date(n+o,0,1);t.push({date:i,isCurrent:!0,isSelected:x(i),label:e(i,m.year),disabled:u(i)})}var r=t[0].label+" - "+t[t.length-1].label;s(y(t,5),[],r)}},b=function(){$[o.mode]()},x=function(e){if(o.model&&o.model.getFullYear()===e.getFullYear()){if("year"===o.mode)return!0;if(o.model.getMonth()===e.getMonth())return"month"===o.mode||"day"===o.mode&&o.model.getDate()===e.getDate()}return!1};o.$watch("model",function(e,t){angular.isDate(e)&&(h=angular.copy(e)),angular.equals(e,t)||b()}),o.$watch("mode",function(){l(),b()}),o.select=function(e){h=new Date(e),"year"===o.mode?(o.mode="month",h.setFullYear(e.getFullYear())):"month"===o.mode?(o.mode="day",h.setMonth(e.getMonth())):"day"===o.mode&&(o.model=new Date(h))},o.move=function(e){"day"===o.mode?h.setMonth(h.getMonth()+e):"month"===o.mode?h.setFullYear(h.getFullYear()+e):"year"===o.mode&&h.setFullYear(h.getFullYear()+e*v),b()},o.toggleMode=function(){o.mode="day"===o.mode?"month":"month"===o.mode?"year":"day"},o.getWeekNumber=function(e){if("day"===o.mode&&o.showWeekNumbers&&7===e.length){var t=g>4?11-g:4-g,n=new Date(e[t].date);return n.setHours(0,0,0),Math.ceil(((n-new Date(n.getFullYear(),0,1))/864e5+1)/7)}}}}}]);var dialogModule=angular.module("ui.bootstrap.dialog",["ui.bootstrap.transition"]);dialogModule.controller("MessageBoxController",["$scope","dialog","model",function(e,t,n){e.title=n.title,e.message=n.message,e.buttons=n.buttons,e.close=function(e){t.close(e)}}]),dialogModule.provider("$dialog",function(){var e={backdrop:!0,dialogClass:"modal",backdropClass:"modal-backdrop",transitionClass:"fade",triggerClass:"in",resolve:{},backdropFade:!1,dialogFade:!1,keyboard:!0,backdropClick:!0},t={},n={value:0};this.options=function(e){t=e},this.$get=["$http","$document","$compile","$rootScope","$controller","$templateCache","$q","$transition","$injector",function(o,i,r,a,s,l,c,u,d){function p(e){var t=angular.element("<div>");return t.addClass(e),t}function f(n){var o=this,i=this.options=angular.extend({},e,t,n);this._open=!1,this.backdropEl=p(i.backdropClass),i.backdropFade&&(this.backdropEl.addClass(i.transitionClass),this.backdropEl.removeClass(i.triggerClass)),this.modalEl=p(i.dialogClass),i.dialogFade&&(this.modalEl.addClass(i.transitionClass),this.modalEl.removeClass(i.triggerClass)),this.handledEscapeKey=function(e){27===e.which&&(o.close(),e.preventDefault(),o.$scope.$apply())},this.handleBackDropClick=function(e){o.close(),e.preventDefault(),o.$scope.$apply()},this.handleLocationChange=function(){o.close()}}var h=i.find("body");return f.prototype.isOpen=function(){return this._open},f.prototype.open=function(e,t){var n=this,o=this.options;if(e&&(o.templateUrl=e),t&&(o.controller=t),!o.template&&!o.templateUrl)throw Error("Dialog.open expected template or templateUrl, neither found. Use options or open method to specify them.");return this._loadResolves().then(function(e){var t=e.$scope=n.$scope=e.$scope?e.$scope:a.$new();if(n.modalEl.html(e.$template),n.options.controller){var o=s(n.options.controller,e);n.modalEl.children().data("ngControllerController",o)}r(n.modalEl)(t),n._addElementsToDom(),setTimeout(function(){n.options.dialogFade&&n.modalEl.addClass(n.options.triggerClass),n.options.backdropFade&&n.backdropEl.addClass(n.options.triggerClass)}),n._bindEvents()}),this.deferred=c.defer(),this.deferred.promise},f.prototype.close=function(e){function t(e){e.removeClass(o.options.triggerClass)}function n(){o._open&&o._onCloseComplete(e)}var o=this,i=this._getFadingElements();if(i.length>0)for(var r=i.length-1;r>=0;r--)u(i[r],t).then(n);else this._onCloseComplete(e)},f.prototype._getFadingElements=function(){var e=[];return this.options.dialogFade&&e.push(this.modalEl),this.options.backdropFade&&e.push(this.backdropEl),e},f.prototype._bindEvents=function(){this.options.keyboard&&h.bind("keydown",this.handledEscapeKey),this.options.backdrop&&this.options.backdropClick&&this.backdropEl.bind("click",this.handleBackDropClick)},f.prototype._unbindEvents=function(){this.options.keyboard&&h.unbind("keydown",this.handledEscapeKey),this.options.backdrop&&this.options.backdropClick&&this.backdropEl.unbind("click",this.handleBackDropClick)},f.prototype._onCloseComplete=function(e){this._removeElementsFromDom(),this._unbindEvents(),this.deferred.resolve(e)},f.prototype._addElementsToDom=function(){h.append(this.modalEl),this.options.backdrop&&(0===n.value&&h.append(this.backdropEl),n.value++),this._open=!0},f.prototype._removeElementsFromDom=function(){this.modalEl.remove(),this.options.backdrop&&(n.value--,0===n.value&&this.backdropEl.remove()),this._open=!1},f.prototype._loadResolves=function(){var e,t=[],n=[],i=this;return this.options.template?e=c.when(this.options.template):this.options.templateUrl&&(e=o.get(this.options.templateUrl,{cache:l}).then(function(e){return e.data})),angular.forEach(this.options.resolve||[],function(e,o){n.push(o),t.push(angular.isString(e)?d.get(e):d.invoke(e))}),n.push("$template"),t.push(e),c.all(t).then(function(e){var t={};return angular.forEach(e,function(e,o){t[n[o]]=e}),t.dialog=i,t})},{dialog:function(e){return new f(e)},messageBox:function(e,t,n){return new f({templateUrl:"template/dialog/message.html",controller:"MessageBoxController",resolve:{model:function(){return{title:e,message:t,buttons:n}}}})}}}]}),angular.module("ui.bootstrap.dropdownToggle",[]).directive("dropdownToggle",["$document","$location",function(e){var t=null,n=angular.noop;return{restrict:"CA",link:function(o,i){o.$watch("$location.path",function(){n()}),i.parent().bind("click",function(){n()}),i.bind("click",function(o){var r=i===t;o.preventDefault(),o.stopPropagation(),t&&n(),r||(i.parent().addClass("open"),t=i,n=function(o){o&&(o.preventDefault(),o.stopPropagation()),e.unbind("click",n),i.parent().removeClass("open"),n=angular.noop,t=null},e.bind("click",n))})}}}]),angular.module("ui.bootstrap.modal",["ui.bootstrap.dialog"]).directive("modal",["$parse","$dialog",function(e,t){return{restrict:"EA",terminal:!0,link:function(n,o,i){var r,a=angular.extend({},n.$eval(i.uiOptions||i.bsOptions||i.options)),s=i.modal||i.show;a=angular.extend(a,{template:o.html(),resolve:{$scope:function(){return n}}});var l=t.dialog(a);o.remove(),r=i.close?function(){e(i.close)(n)}:function(){angular.isFunction(e(s).assign)&&e(s).assign(n,!1)},n.$watch(s,function(e){e?l.open().then(function(){r()}):l.isOpen()&&l.close()})}}}]),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope",function(e){e.noPrevious=function(){return 1===e.currentPage},e.noNext=function(){return e.currentPage===e.numPages},e.isActive=function(t){return e.currentPage===t},e.selectPage=function(t){!e.isActive(t)&&t>0&&e.numPages>=t&&(e.currentPage=t,e.onSelectPage({page:t}))}}]).constant("paginationConfig",{boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["paginationConfig",function(e){return{restrict:"EA",scope:{numPages:"=",currentPage:"=",maxSize:"=",onSelectPage:"&"},controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(t,n,o){function i(e,t,n,o){return{number:e,text:t,active:n,disabled:o}}var r=angular.isDefined(o.boundaryLinks)?t.$eval(o.boundaryLinks):e.boundaryLinks,a=angular.isDefined(o.directionLinks)?t.$eval(o.directionLinks):e.directionLinks,s=angular.isDefined(o.firstText)?t.$parent.$eval(o.firstText):e.firstText,l=angular.isDefined(o.previousText)?t.$parent.$eval(o.previousText):e.previousText,c=angular.isDefined(o.nextText)?t.$parent.$eval(o.nextText):e.nextText,u=angular.isDefined(o.lastText)?t.$parent.$eval(o.lastText):e.lastText,d=angular.isDefined(o.rotate)?t.$eval(o.rotate):e.rotate;t.$watch("numPages + currentPage + maxSize",function(){t.pages=[];var e=1,n=t.numPages,o=angular.isDefined(t.maxSize)&&t.maxSize<t.numPages;o&&(d?(e=Math.max(t.currentPage-Math.floor(t.maxSize/2),1),n=e+t.maxSize-1,n>t.numPages&&(n=t.numPages,e=n-t.maxSize+1)):(e=(Math.ceil(t.currentPage/t.maxSize)-1)*t.maxSize+1,n=Math.min(e+t.maxSize-1,t.numPages)));for(var p=e;n>=p;p++){var f=i(p,p,t.isActive(p),!1);t.pages.push(f)}if(o&&!d){if(e>1){var h=i(e-1,"...",!1,!1);t.pages.unshift(h)}if(t.numPages>n){var m=i(n+1,"...",!1,!1);t.pages.push(m)}}if(a){var g=i(t.currentPage-1,l,!1,t.noPrevious());t.pages.unshift(g);var v=i(t.currentPage+1,c,!1,t.noNext());t.pages.push(v)}if(r){var y=i(1,s,!1,t.noPrevious());t.pages.unshift(y);var w=i(t.numPages,u,!1,t.noNext());t.pages.push(w)}t.currentPage>t.numPages&&t.selectPage(t.numPages)})}}}]).constant("pagerConfig",{previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(e){return{restrict:"EA",scope:{numPages:"=",currentPage:"=",onSelectPage:"&"},controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(t,n,o){function i(e,t,n,o,i){return{number:e,text:t,disabled:n,previous:s&&o,next:s&&i}}var r=angular.isDefined(o.previousText)?t.$parent.$eval(o.previousText):e.previousText,a=angular.isDefined(o.nextText)?t.$parent.$eval(o.nextText):e.nextText,s=angular.isDefined(o.align)?t.$parent.$eval(o.align):e.align;t.$watch("numPages + currentPage",function(){t.pages=[];var e=i(t.currentPage-1,r,t.noPrevious(),!0,!1);t.pages.unshift(e);var n=i(t.currentPage+1,a,t.noNext(),!1,!0);t.pages.push(n),t.currentPage>t.numPages&&t.selectPage(t.numPages)})}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function o(e){return"static"===(n(e,"position")||"static")}var i,r;e.bind("mousemove",function(e){i=e.pageX,r=e.pageY});var a=function(t){for(var n=e[0],i=t.offsetParent||n;i&&i!==n&&o(i);)i=i.offsetParent;return i||n};return{position:function(t){var n=this.offset(t),o={top:0,left:0},i=a(t[0]);return i!=e[0]&&(o=this.offset(angular.element(i)),o.top+=i.clientTop,o.left+=i.clientLeft),{width:t.prop("offsetWidth"),height:t.prop("offsetHeight"),top:n.top-o.top,left:n.left-o.left}},offset:function(n){var o=n[0].getBoundingClientRect();return{width:n.prop("offsetWidth"),height:n.prop("offsetHeight"),top:o.top+(t.pageYOffset||e[0].body.scrollTop),left:o.left+(t.pageXOffset||e[0].body.scrollLeft)}},mouse:function(){return{x:i,y:r}}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position"]).provider("$tooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",animation:!0,popupDelay:0},n={mouseenter:"mouseleave",click:"click",focus:"blur"},o={};this.options=function(e){angular.extend(o,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$parse","$document","$position","$interpolate",function(i,r,a,s,l,c,u){return function(i,d,p){function f(e){var t,o;return t=e||h.trigger||p,o=angular.isDefined(h.trigger)?n[h.trigger]||t:n[t]||t,{show:t,hide:o}}var h=angular.extend({},t,o),m=e(i),g=f(void 0),v=u.startSymbol(),y=u.endSymbol(),w="<"+m+'-popup title="'+v+"tt_title"+y+'" content="'+v+"tt_content"+y+'" placement="'+v+"tt_placement"+y+'" animation="tt_animation()" is-open="tt_isOpen"></'+m+"-popup>";return{restrict:"EA",scope:!0,link:function(e,t,n){function o(){e.tt_isOpen?p():u()}function u(){e.tt_popupDelay?$=a(m,e.tt_popupDelay):e.$apply(m)}function p(){e.$apply(function(){v()})}function m(){var n,o,i,r;if(e.tt_content){switch(y&&a.cancel(y),x.css({top:0,left:0,display:"block"}),C?(b=b||l.find("body"),b.append(x)):t.after(x),n=h.appendToBody?c.offset(t):c.position(t),o=x.prop("offsetWidth"),i=x.prop("offsetHeight"),e.tt_placement){case"mouse":var s=c.mouse();r={top:s.y,left:s.x};break;case"right":r={top:n.top+n.height/2-i/2,left:n.left+n.width};break;case"bottom":r={top:n.top+n.height,left:n.left+n.width/2-o/2};break;case"left":r={top:n.top+n.height/2-i/2,left:n.left-o};break;default:r={top:n.top-i,left:n.left+n.width/2-o/2}}r.top+="px",r.left+="px",x.css(r),e.tt_isOpen=!0}}function v(){e.tt_isOpen=!1,a.cancel($),angular.isDefined(e.tt_animation)&&e.tt_animation()?y=a(function(){x.remove()},500):x.remove()}var y,$,b,x=r(w)(e),C=angular.isDefined(h.appendToBody)?h.appendToBody:!1;e.tt_isOpen=!1,n.$observe(i,function(t){e.tt_content=t}),n.$observe(d+"Title",function(t){e.tt_title=t}),n.$observe(d+"Placement",function(t){e.tt_placement=angular.isDefined(t)?t:h.placement}),n.$observe(d+"Animation",function(t){e.tt_animation=angular.isDefined(t)?s(t):function(){return h.animation}}),n.$observe(d+"PopupDelay",function(t){var n=parseInt(t,10);e.tt_popupDelay=isNaN(n)?h.popupDelay:n}),n.$observe(d+"Trigger",function(e){t.unbind(g.show),t.unbind(g.hide),g=f(e),g.show===g.hide?t.bind(g.show,o):(t.bind(g.show,u),t.bind(g.hide,p))}),n.$observe(d+"AppendToBody",function(t){C=angular.isDefined(t)?s(t)(e):C}),C&&e.$on("$locationChangeSuccess",function(){e.tt_isOpen&&v()}),e.$on("$destroy",function(){e.tt_isOpen?v():x.remove()})}}}}]}).directive("tooltipPopup",function(){return{restrict:"E",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"E",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(e){return e("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$compile","$timeout","$parse","$window","$tooltip",function(e,t,n,o,i){return i("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",["ui.bootstrap.transition"]).constant("progressConfig",{animate:!0,autoType:!1,stackedTypes:["success","info","warning","danger"]}).controller("ProgressBarController",["$scope","$attrs","progressConfig",function(e,t,n){function o(e){return a[e]}var i=angular.isDefined(t.animate)?e.$eval(t.animate):n.animate,r=angular.isDefined(t.autoType)?e.$eval(t.autoType):n.autoType,a=angular.isDefined(t.stackedTypes)?e.$eval("["+t.stackedTypes+"]"):n.stackedTypes;this.makeBar=function(e,t,n){var a=angular.isObject(e)?e.value:e||0,s=angular.isObject(t)?t.value:t||0,l=angular.isObject(e)&&angular.isDefined(e.type)?e.type:r?o(n||0):null;return{from:s,to:a,type:l,animate:i}},this.addBar=function(t){e.bars.push(t),e.totalPercent+=t.to},this.clearBars=function(){e.bars=[],e.totalPercent=0},this.clearBars()}]).directive("progress",function(){return{restrict:"EA",replace:!0,controller:"ProgressBarController",scope:{value:"=percent",onFull:"&",onEmpty:"&"},templateUrl:"template/progressbar/progress.html",link:function(e,t,n,o){e.$watch("value",function(e,t){if(o.clearBars(),angular.isArray(e))for(var n=0,i=e.length;i>n;n++)o.addBar(o.makeBar(e[n],t[n],n));else o.addBar(o.makeBar(e,t))},!0),e.$watch("totalPercent",function(t){t>=100?e.onFull():0>=t&&e.onEmpty()},!0)}}}).directive("progressbar",["$transition",function(e){return{restrict:"EA",replace:!0,scope:{width:"=",old:"=",type:"=",animate:"="},templateUrl:"template/progressbar/bar.html",link:function(t,n){t.$watch("width",function(o){t.animate?(n.css("width",t.old+"%"),e(n,{width:o+"%"})):n.css("width",o+"%")})}}}]),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5}).directive("rating",["ratingConfig","$parse",function(e,t){return{restrict:"EA",scope:{value:"="},templateUrl:"template/rating/rating.html",replace:!0,link:function(n,o,i){var r=angular.isDefined(i.max)?n.$eval(i.max):e.max;n.range=[];for(var a=1;r>=a;a++)n.range.push(a);n.rate=function(e){n.readonly||(n.value=e)},n.enter=function(e){n.readonly||(n.val=e)},n.reset=function(){n.val=angular.copy(n.value)},n.reset(),n.$watch("value",function(e){n.val=e}),n.readonly=!1,i.readonly&&n.$parent.$watch(t(i.readonly),function(e){n.readonly=!!e})}}}]),angular.module("ui.bootstrap.tabs",[]).directive("tabs",function(){return function(){throw Error("The `tabs` directive is deprecated, please migrate to `tabset`. Instructions can be found at http://github.com/angular-ui/bootstrap/tree/master/CHANGELOG.md")}}).controller("TabsetController",["$scope","$element",function(e){var t=this,n=t.tabs=e.tabs=[];t.select=function(e){angular.forEach(n,function(e){e.active=!1}),e.active=!0},t.addTab=function(e){n.push(e),1==n.length&&t.select(e)},t.removeTab=function(e){var o=n.indexOf(e);if(e.active&&n.length>1){var i=o==n.length-1?o-1:o+1;t.select(n[i])}n.splice(o,1)}}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,scope:{},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,t,n){e.vertical=angular.isDefined(n.vertical)?e.$eval(n.vertical):!1,e.type=angular.isDefined(n.type)?e.$parent.$eval(n.type):"tabs"}}}).directive("tab",["$parse","$http","$templateCache","$compile",function(e){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{heading:"@",onSelect:"&select"},controller:function(){},compile:function(t,n,o){return function(t,n,i,r){var a,s;t.active=!1,i.active?(a=e(i.active),s=a.assign,t.$parent.$watch(a,function(e){e&&t.disabled?s(t.$parent,!1):t.active=!!e})):s=a=angular.noop,t.$watch("active",function(e){s(t.$parent,e),e&&(r.select(t),t.onSelect())}),t.disabled=!1,i.disabled&&t.$parent.$watch(e(i.disabled),function(e){t.disabled=!!e}),t.select=function(){t.disabled||(t.active=!0)},r.addTab(t),t.$on("$destroy",function(){r.removeTab(t)}),t.active&&s(t.$parent,!0),o(t.$parent,function(e){var n,o=[];angular.forEach(e,function(e){e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||"tab-heading"==e.tagName.toLowerCase()||"data-tab-heading"==e.tagName.toLowerCase())?n=e:o.push(e)}),n&&(t.headingElement=angular.element(n)),t.contentElement=angular.element(o)})}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}]).directive("tabContentTransclude",["$parse",function(e){return{restrict:"A",require:"^tabset",link:function(t,n,o){t.$watch(e(o.tabContentTransclude),function(e){n.html(""),e&&n.append(e.contentElement)})}}}]),angular.module("ui.bootstrap.timepicker",[]).filter("pad",function(){return function(e){return angular.isDefined(e)&&2>(""+e).length&&(e="0"+e),e}}).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:["AM","PM"],readonlyInput:!1,mousewheel:!0}).directive("timepicker",["padFilter","$parse","timepickerConfig",function(e,t,n){return{restrict:"EA",require:"ngModel",replace:!0,templateUrl:"template/timepicker/timepicker.html",scope:{model:"=ngModel"},link:function(o,i,r){function a(){var e=parseInt(o.hours,10),t=o.showMeridian?e>0&&13>e:e>=0&&24>e;return t?(o.showMeridian&&(12===e&&(e=0),o.meridian===u[1]&&(e+=12)),e):void 0}function s(){var t=c.getHours();o.showMeridian&&(t=0===t||12===t?12:t%12),o.hours="h"===y?t:e(t),o.validHours=!0;var n=c.getMinutes();o.minutes="m"===y?n:e(n),o.validMinutes=!0,o.meridian=o.showMeridian?12>c.getHours()?u[0]:u[1]:"",y=!1}function l(e){var t=new Date(c.getTime()+6e4*e);t.getDate()!==c.getDate()&&t.setDate(t.getDate()-1),c.setTime(t.getTime()),o.model=new Date(c)}var c=new Date,u=n.meridians,d=n.hourStep;r.hourStep&&o.$parent.$watch(t(r.hourStep),function(e){d=parseInt(e,10)});var p=n.minuteStep;r.minuteStep&&o.$parent.$watch(t(r.minuteStep),function(e){p=parseInt(e,10)}),o.showMeridian=n.showMeridian,r.showMeridian&&o.$parent.$watch(t(r.showMeridian),function(e){if(o.showMeridian=!!e,o.model)s();else{var t=new Date(c),n=a();angular.isDefined(n)&&t.setHours(n),o.model=new Date(t)}});var f=i.find("input"),h=f.eq(0),m=f.eq(1),g=angular.isDefined(r.mousewheel)?o.$eval(r.mousewheel):n.mousewheel;if(g){var v=function(e){return e.originalEvent&&(e=e.originalEvent),e.detail||e.wheelDelta>0};h.bind("mousewheel",function(e){o.$apply(v(e)?o.incrementHours():o.decrementHours()),e.preventDefault()}),m.bind("mousewheel",function(e){o.$apply(v(e)?o.incrementMinutes():o.decrementMinutes()),e.preventDefault()})}var y=!1;o.readonlyInput=angular.isDefined(r.readonlyInput)?o.$eval(r.readonlyInput):n.readonlyInput,o.readonlyInput?(o.updateHours=angular.noop,o.updateMinutes=angular.noop):(o.updateHours=function(){var e=a();angular.isDefined(e)?(y="h",null===o.model&&(o.model=new Date(c)),o.model.setHours(e)):(o.model=null,o.validHours=!1)},h.bind("blur",function(){o.validHours&&10>o.hours&&o.$apply(function(){o.hours=e(o.hours)})}),o.updateMinutes=function(){var e=parseInt(o.minutes,10);e>=0&&60>e?(y="m",null===o.model&&(o.model=new Date(c)),o.model.setMinutes(e)):(o.model=null,o.validMinutes=!1)},m.bind("blur",function(){o.validMinutes&&10>o.minutes&&o.$apply(function(){o.minutes=e(o.minutes)})})),o.$watch(function(){return+o.model},function(e){!isNaN(e)&&e>0&&(c=new Date(e),s())}),o.incrementHours=function(){l(60*d)},o.decrementHours=function(){l(60*-d)},o.incrementMinutes=function(){l(p)},o.decrementMinutes=function(){l(-p)},o.toggleMeridian=function(){l(720*(12>c.getHours()?1:-1))}}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position"]).factory("typeaheadParser",["$parse",function(e){var t=/^\s*(.*?)(?:\s+as\s+(.*?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+(.*)$/;return{parse:function(n){var o=n.match(t);if(!o)throw Error("Expected typeahead specification in form of '_modelValue_ (as _label_)? for _item_ in _collection_' but got '"+n+"'.");return{itemName:o[3],source:e(o[4]),viewMapper:e(o[2]||o[1]),modelMapper:e(o[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(e,t,n,o,i,r,a){var s=[9,13,27,38,40];return{require:"ngModel",link:function(l,c,u,d){var p,f=l.$eval(u.typeaheadMinLength)||1,h=l.$eval(u.typeaheadWaitMs)||0,m=a.parse(u.typeahead),g=l.$eval(u.typeaheadEditable)!==!1,v=t(u.typeaheadLoading).assign||angular.noop,y=t(u.typeaheadOnSelect),w=angular.element("<typeahead-popup></typeahead-popup>");w.attr({matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"});var $=l.$new();l.$on("$destroy",function(){$.$destroy()});var b=function(){$.matches=[],$.activeIdx=-1},x=function(e){var t={$viewValue:e};v(l,!0),n.when(m.source($,t)).then(function(n){if(e===d.$viewValue){if(n.length>0){$.activeIdx=0,$.matches.length=0;for(var o=0;n.length>o;o++)t[m.itemName]=n[o],$.matches.push({label:m.viewMapper($,t),model:n[o]});$.query=e,$.position=r.position(c),$.position.top=$.position.top+c.prop("offsetHeight")}else b();v(l,!1)}},function(){b(),v(l,!1)})};b(),$.query=void 0,d.$parsers.push(function(e){var t;return b(),p?e:(e&&e.length>=f&&(h>0?(t&&o.cancel(t),t=o(function(){x(e)},h)):x(e)),g?e:void 0)}),d.$render=function(){var e={};e[m.itemName]=p||d.$viewValue,c.val(m.viewMapper($,e)||d.$viewValue),p=void 0},$.select=function(e){var t,n,o={};o[m.itemName]=n=p=$.matches[e].model,t=m.modelMapper($,o),d.$setViewValue(t),d.$render(),y($,{$item:n,$model:t,$label:m.viewMapper($,o)}),c[0].focus()},c.bind("keydown",function(e){0!==$.matches.length&&-1!==s.indexOf(e.which)&&(e.preventDefault(),40===e.which?($.activeIdx=($.activeIdx+1)%$.matches.length,$.$digest()):38===e.which?($.activeIdx=($.activeIdx?$.activeIdx:$.matches.length)-1,$.$digest()):13===e.which||9===e.which?$.$apply(function(){$.select($.activeIdx)}):27===e.which&&(e.stopPropagation(),b(),$.$digest()))}),i.bind("click",function(){b(),$.$digest()}),c.after(e(w)($))}}}]).directive("typeaheadPopup",function(){return{restrict:"E",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead.html",link:function(e){e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).filter("typeaheadHighlight",function(){function e(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n){return n?t.replace(RegExp(e(n),"gi"),"<strong>$&</strong>"):n}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion-group.html",'<div class="accordion-group">\n  <div class="accordion-heading" ><a class="accordion-toggle" ng-click="isOpen = !isOpen" accordion-transclude="heading">{{heading}}</a></div>\n  <div class="accordion-body" collapse="!isOpen">\n    <div class="accordion-inner" ng-transclude></div>  </div>\n</div>')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion.html",'<div class="accordion" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("template/alert/alert.html","<div class='alert' ng-class='type && \"alert-\" + type'>\n    <button ng-show='closeable' type='button' class='close' ng-click='close()'>&times;</button>\n    <div ng-transclude></div>\n</div>\n")}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel">\n    <ol class="carousel-indicators" ng-show="slides().length > 1">\n        <li ng-repeat="slide in slides()" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a ng-click="prev()" class="carousel-control left" ng-show="slides().length > 1">&lsaquo;</a>\n    <a ng-click="next()" class="carousel-control right" ng-show="slides().length > 1">&rsaquo;</a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("template/carousel/slide.html","<div ng-class=\"{\n    'active': leaving || (active && !entering),\n    'prev': (next || active) && direction=='prev',\n    'next': (next || active) && direction=='next',\n    'right': direction=='prev',\n    'left': direction=='next'\n  }\" class=\"item\" ng-transclude></div>\n")}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/datepicker.html",'<table class="well well-large">\n  <thead>\n    <tr class="text-center">\n      <th><button class="btn pull-left" ng-click="move(-1)"><i class="icon-chevron-left"></i></button></th>\n      <th colspan="{{rows[0].length - 2 + showWeekNumbers}}"><button class="btn btn-block" ng-click="toggleMode()"><strong>{{title}}</strong></button></th>\n      <th><button class="btn pull-right" ng-click="move(1)"><i class="icon-chevron-right"></i></button></th>\n    </tr>\n    <tr class="text-center" ng-show="labels.length > 0">\n      <th ng-show="showWeekNumbers">#</th>\n      <th ng-repeat="label in labels">{{label}}</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows">\n      <td ng-show="showWeekNumbers" class="text-center"><em>{{ getWeekNumber(row) }}</em></td>\n      <td ng-repeat="dt in row" class="text-center">\n        <button style="width:100%;" class="btn" ng-class="{\'btn-info\': dt.isSelected}" ng-click="select(dt.date)" ng-disabled="dt.disabled"><span ng-class="{muted: ! dt.isCurrent}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n');
}]),angular.module("template/dialog/message.html",[]).run(["$templateCache",function(e){e.put("template/dialog/message.html",'<div class="modal-header">\n	<h3>{{ title }}</h3>\n</div>\n<div class="modal-body">\n	<p>{{ message }}</p>\n</div>\n<div class="modal-footer">\n	<button ng-repeat="btn in buttons" ng-click="close(btn.result)" class="btn" ng-class="btn.cssClass">{{ btn.label }}</button>\n</div>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div class="modal-backdrop"></div>')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div class="modal in" ng-transclude></div>')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pager.html",'<div class="pager">\n  <ul>\n    <li ng-repeat="page in pages" ng-class="{disabled: page.disabled, previous: page.previous, next: page.next}"><a ng-click="selectPage(page.number)">{{page.text}}</a></li>\n  </ul>\n</div>\n')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pagination.html",'<div class="pagination"><ul>\n  <li ng-repeat="page in pages" ng-class="{active: page.active, disabled: page.disabled}"><a ng-click="selectPage(page.number)">{{page.text}}</a></li>\n  </ul>\n</div>\n')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/bar.html",'<div class="bar" ng-class=\'type && "bar-" + type\'></div>')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progress.html",'<div class="progress"><progressbar ng-repeat="bar in bars" width="bar.to" old="bar.from" animate="bar.animate" type="bar.type"></progressbar></div>')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("template/rating/rating.html",'<span ng-mouseleave="reset()">\n	<i ng-repeat="number in range" ng-mouseenter="enter(number)" ng-click="rate(number)" ng-class="{\'icon-star\': number <= val, \'icon-star-empty\': number > val}"></i>\n</span>\n')}]),angular.module("template/tabs/pane.html",[]).run(["$templateCache",function(e){e.put("template/tabs/pane.html",'<div class="tab-pane" ng-class="{active: selected}" ng-show="selected" ng-transclude></div>\n')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabs.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabs.html",'<div class="tabbable">\n  <ul class="nav nav-tabs">\n    <li ng-repeat="pane in panes" ng-class="{active:pane.selected}">\n      <a ng-click="select(pane)">{{pane.heading}}</a>\n    </li>\n  </ul>\n  <div class="tab-content" ng-transclude></div>\n</div>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset.html",'\n<div class="tabbable">\n  <ul class="nav {{type && \'nav-\' + type}}" ng-class="{\'nav-stacked\': vertical}" ng-transclude>\n  </ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab" tt="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("template/timepicker/timepicker.html",'<table class="form-inline">\n	<tr class="text-center">\n		<td><a ng-click="incrementHours()" class="btn btn-link"><i class="icon-chevron-up"></i></a></td>\n		<td>&nbsp;</td>\n		<td><a ng-click="incrementMinutes()" class="btn btn-link"><i class="icon-chevron-up"></i></a></td>\n		<td ng-show="showMeridian"></td>\n	</tr>\n	<tr>\n		<td class="control-group" ng-class="{\'error\': !validHours}"><input type="text" ng-model="hours" ng-change="updateHours()" class="span1 text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2" /></td>\n		<td>:</td>\n		<td class="control-group" ng-class="{\'error\': !validMinutes}"><input type="text" ng-model="minutes" ng-change="updateMinutes()" class="span1 text-center" ng-readonly="readonlyInput" maxlength="2"></td>\n		<td ng-show="showMeridian"><button ng-click="toggleMeridian()" class="btn text-center">{{meridian}}</button></td>\n	</tr>\n	<tr class="text-center">\n		<td><a ng-click="decrementHours()" class="btn btn-link"><i class="icon-chevron-down"></i></a></td>\n		<td>&nbsp;</td>\n		<td><a ng-click="decrementMinutes()" class="btn btn-link"><i class="icon-chevron-down"></i></a></td>\n		<td ng-show="showMeridian"></td>\n	</tr>\n</table>')}]),angular.module("template/typeahead/typeahead.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead.html",'<ul class="typeahead dropdown-menu" ng-style="{display: isOpen()&&\'block\' || \'none\', top: position.top+\'px\', left: position.left+\'px\'}">\n    <li ng-repeat="match in matches" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)">\n        <a tabindex="-1" ng-click="selectMatch($index)" ng-bind-html-unsafe="match.label | typeaheadHighlight:query"></a>\n    </li>\n</ul>')}]),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(e,t,n){"use strict";function o(e,t){return O(new(O(function(){},{prototype:e})),t)}function i(e){return L(arguments,function(t){t!==e&&L(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})}),e}function r(e,t){var n=[];for(var o in e.path){if(e.path[o]!==t.path[o])break;n.push(e.path[o])}return n}function a(e){if(Object.keys)return Object.keys(e);var n=[];return t.forEach(e,function(e,t){n.push(t)}),n}function s(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var n=e.length>>>0,o=Number(arguments[2])||0;for(o=0>o?Math.ceil(o):Math.floor(o),0>o&&(o+=n);n>o;o++)if(o in e&&e[o]===t)return o;return-1}function l(e,t,n,o){var i,l=r(n,o),c={},u=[];for(var d in l)if(l[d].params&&(i=a(l[d].params),i.length))for(var p in i)s(u,i[p])>=0||(u.push(i[p]),c[i[p]]=e[i[p]]);return O({},c,t)}function c(e,t,n){if(!n){n=[];for(var o in e)n.push(o)}for(var i=0;i<n.length;i++){var r=n[i];if(e[r]!=t[r])return!1}return!0}function u(e,t){var n={};return L(e,function(e){n[e]=t[e]}),n}function d(e,t){var o=1,r=2,a={},s=[],l=a,c=O(e.when(a),{$$promises:a,$$values:a});this.study=function(a){function u(e,n){if(h[n]!==r){if(f.push(n),h[n]===o)throw f.splice(0,f.indexOf(n)),new Error("Cyclic dependency: "+f.join(" -> "));if(h[n]=o,E(e))p.push(n,[function(){return t.get(e)}],s);else{var i=t.annotate(e);L(i,function(e){e!==n&&a.hasOwnProperty(e)&&u(a[e],e)}),p.push(n,e,i)}f.pop(),h[n]=r}}function d(e){return A(e)&&e.then&&e.$$promises}if(!A(a))throw new Error("'invocables' must be an object");var p=[],f=[],h={};return L(a,u),a=f=h=null,function(o,r,a){function s(){--y||(w||i(v,r.$$values),m.$$values=v,m.$$promises=!0,delete m.$$inheritedValues,h.resolve(v))}function u(e){m.$$failure=e,h.reject(e)}function f(n,i,r){function l(e){d.reject(e),u(e)}function c(){if(!M(m.$$failure))try{d.resolve(t.invoke(i,a,v)),d.promise.then(function(e){v[n]=e,s()},l)}catch(e){l(e)}}var d=e.defer(),p=0;L(r,function(e){g.hasOwnProperty(e)&&!o.hasOwnProperty(e)&&(p++,g[e].then(function(t){v[e]=t,--p||c()},l))}),p||c(),g[n]=d.promise}if(d(o)&&a===n&&(a=r,r=o,o=null),o){if(!A(o))throw new Error("'locals' must be an object")}else o=l;if(r){if(!d(r))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else r=c;var h=e.defer(),m=h.promise,g=m.$$promises={},v=O({},o),y=1+p.length/3,w=!1;if(M(r.$$failure))return u(r.$$failure),m;r.$$inheritedValues&&i(v,r.$$inheritedValues),r.$$values?(w=i(v,r.$$values),m.$$inheritedValues=r.$$values,s()):(r.$$inheritedValues&&(m.$$inheritedValues=r.$$inheritedValues),O(g,r.$$promises),r.then(s,u));for(var $=0,b=p.length;b>$;$+=3)o.hasOwnProperty(p[$])?s():f(p[$],p[$+1],p[$+2]);return m}},this.resolve=function(e,t,n,o){return this.study(e)(t,n,o)}}function p(e,t,n){this.fromConfig=function(e,t,n){return M(e.template)?this.fromString(e.template,t):M(e.templateUrl)?this.fromUrl(e.templateUrl,t):M(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return D(e)?e(t):e},this.fromUrl=function(n,o){return D(n)&&(n=n(o)),null==n?null:e.get(n,{cache:t}).then(function(e){return e.data})},this.fromProvider=function(e,t,o){return n.invoke(e,null,o||{params:t})}}function f(e,o){function i(e){return M(e)?this.type.decode(e):m.$$getDefaultValue(this)}function r(t,n,o){if(!/^\w+(-+\w+)*$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(f[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");f[t]=O({type:n||new h,$value:i},o)}function a(e,t,n){var o=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return o;var i=n?"?":"";return o+i+"("+t+")"+i}function s(e){if(!o.params||!o.params[e])return{};var t=o.params[e];return A(t)?t:{value:t}}o=t.isObject(o)?o:{};var l,c=/([:*])(\w+)|\{(\w+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,u="^",d=0,p=this.segments=[],f=this.params={};this.source=e;for(var g,v,y,w,$;(l=c.exec(e))&&(g=l[2]||l[3],v=l[4]||("*"==l[1]?".*":"[^/]*"),y=e.substring(d,l.index),w=this.$types[v]||new h({pattern:new RegExp(v)}),$=s(g),!(y.indexOf("?")>=0));)u+=a(y,w.$subPattern(),M($.value)),r(g,w,$),p.push(y),d=c.lastIndex;y=e.substring(d);var b=y.indexOf("?");if(b>=0){var x=this.sourceSearch=y.substring(b);y=y.substring(0,b),this.sourcePath=e.substring(0,d+b),L(x.substring(1).split(/[&?]/),function(e){r(e,null,s(e))})}else this.sourcePath=e,this.sourceSearch="";u+=a(y)+(o.strict===!1?"/?":"")+"$",p.push(y),this.regexp=new RegExp(u,o.caseInsensitive?"i":n),this.prefix=p[0]}function h(e){O(this,e)}function m(){function e(){return{strict:r,caseInsensitive:i}}function t(e){return D(e)||I(e)&&D(e[e.length-1])}function n(){L(s,function(e){if(f.prototype.$types[e.name])throw new Error("A type named '"+e.name+"' has already been defined.");var n=new h(t(e.def)?o.invoke(e.def):e.def);f.prototype.$types[e.name]=n})}var o,i=!1,r=!0,a=!0,s=[],l={"int":{decode:function(e){return parseInt(e,10)},is:function(e){return M(e)?this.decode(e.toString())===e:!1},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0===parseInt(e,10)?!1:!0},is:function(e){return e===!0||e===!1},pattern:/0|1/},string:{pattern:/[^\/]*/},date:{equals:function(e,t){return e.toISOString()===t.toISOString()},decode:function(e){return new Date(e)},encode:function(e){return[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-")},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/}};m.$$getDefaultValue=function(e){if(!t(e.value))return e.value;if(!o)throw new Error("Injectable functions cannot be called at configuration time");return o.invoke(e.value)},this.caseInsensitive=function(e){i=e},this.strictMode=function(e){r=e},this.compile=function(t,n){return new f(t,O(e(),n))},this.isMatcher=function(e){if(!A(e))return!1;var t=!0;return L(f.prototype,function(n,o){D(n)&&(t=t&&M(e[o])&&D(e[o]))}),t},this.type=function(e,t){return M(t)?(s.push({name:e,def:t}),a||n(),this):f.prototype.$types[e]},this.$get=["$injector",function(e){return o=e,a=!1,f.prototype.$types={},n(),L(l,function(e,t){f.prototype.$types[t]||(f.prototype.$types[t]=new h(e))}),this}]}function g(e,t){function o(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function i(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]})}function r(e,t,n){if(!n)return!1;var o=e.invoke(t,t,{$match:n});return M(o)?o:!0}function a(t,n,o,i){function r(e,t,n){return"/"===p?e:t?p.slice(0,-1)+e:n?p.slice(1)+e:e}function a(e){function n(e){var n=e(o,t);return n?(E(n)&&t.replace().url(n),!0):!1}if(!e||!e.defaultPrevented){var i,r=l.length;for(i=0;r>i;i++)if(n(l[i]))return;c&&n(c)}}function d(){return s=s||n.$on("$locationChangeSuccess",a)}var p=i.baseHref(),f=t.url();return u||d(),{sync:function(){a()},listen:function(){return d()},update:function(e){return e?void(f=t.url()):void(t.url()!==f&&(t.url(f),t.replace()))},push:function(e,n,o){t.url(e.format(n||{})),o&&o.replace&&t.replace()},href:function(n,o,i){if(!n.validates(o))return null;var a=e.html5Mode(),s=n.format(o);if(i=i||{},a||null===s||(s="#"+e.hashPrefix()+s),s=r(s,a,i.absolute),!i.absolute||!s)return s;var l=!a&&s?"/":"",c=t.port();return c=80===c||443===c?"":":"+c,[t.protocol(),"://",t.host(),c,l,s].join("")}}}var s,l=[],c=null,u=!1;this.rule=function(e){if(!D(e))throw new Error("'rule' must be a function");return l.push(e),this},this.otherwise=function(e){if(E(e)){var t=e;e=function(){return t}}else if(!D(e))throw new Error("'rule' must be a function");return c=e,this},this.when=function(e,n){var a,s=E(n);if(E(e)&&(e=t.compile(e)),!s&&!D(n)&&!I(n))throw new Error("invalid 'handler' in when()");var l={matcher:function(e,n){return s&&(a=t.compile(n),n=["$match",function(e){return a.format(e)}]),O(function(t,o){return r(t,n,e.exec(o.path(),o.search()))},{prefix:E(e.prefix)?e.prefix:""})},regex:function(e,t){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return s&&(a=t,t=["$match",function(e){return i(a,e)}]),O(function(n,o){return r(n,t,e.exec(o.path()))},{prefix:o(e)})}},c={matcher:t.isMatcher(e),regex:e instanceof RegExp};for(var u in c)if(c[u])return this.rule(l[u](e,n));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===n&&(e=!0),u=e},this.$get=a,a.$inject=["$location","$rootScope","$injector","$browser"]}function v(e,i){function r(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function s(e,t){if(!e)return n;var o=E(e),i=o?e:e.name,a=r(i);if(a){if(!t)throw new Error("No reference point given for path '"+i+"'");for(var s=i.split("."),l=0,c=s.length,u=t;c>l;l++)if(""!==s[l]||0!==l){if("^"!==s[l])break;if(!u.parent)throw new Error("Path '"+i+"' not valid for state '"+t.name+"'");u=u.parent}else u=t;s=s.slice(l).join("."),i=u.name+(u.name&&s?".":"")+s}var d=b[i];return!d||!o&&(o||d!==e&&d.self!==e)?n:d}function d(e,t){x[e]||(x[e]=[]),x[e].push(t)}function p(t){t=o(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var n=t.name;if(!E(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(b.hasOwnProperty(n))throw new Error("State '"+n+"'' is already defined");var i=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):E(t.parent)?t.parent:"";if(i&&!b[i])return d(i,t.self);for(var r in S)D(S[r])&&(t[r]=S[r](t,S.$delegates[r]));if(b[n]=t,!t[C]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,n){$.$current.navigable==t&&c(e,n)||$.transitionTo(t,e,{location:!1})}]),x[n])for(var a=0;a<x[n].length;a++)p(x[n][a]);return t}function f(e){return e.indexOf("*")>-1}function h(e){var t=e.split("."),n=$.$current.name.split(".");if("**"===t[0]&&(n=n.slice(n.indexOf(t[1])),n.unshift("**")),"**"===t[t.length-1]&&(n.splice(n.indexOf(t[t.length-2])+1,Number.MAX_VALUE),n.push("**")),t.length!=n.length)return!1;for(var o=0,i=t.length;i>o;o++)"*"===t[o]&&(n[o]="*");return n.join("")===t.join("")}function m(e,t){return E(e)&&!M(t)?S[e]:D(t)&&E(e)?(S[e]&&!S.$delegates[e]&&(S.$delegates[e]=S[e]),S[e]=t,this):this}function g(e,t){return A(e)?t=e:t.name=e,p(t),this}function v(e,i,r,d,p,m,g){function v(t,n,o,r){var a=e.$broadcast("$stateNotFound",t,n,o);if(a.defaultPrevented)return g.update(),k;if(!a.retry)return null;if(r.$retry)return g.update(),T;var s=$.transition=i.when(a.retry);return s.then(function(){return s!==$.transition?S:(t.options.$retry=!0,$.transitionTo(t.to,t.toParams,t.options))},function(){return k}),g.update(),s}function x(e,n,o,s,l){var c=o?n:u(a(e.params),n),f={$stateParams:c};l.resolve=p.resolve(e.resolve,f,l.resolve,e);var h=[l.resolve.then(function(e){l.globals=e})];return s&&h.push(s),L(e.views,function(n,o){var i=n.resolve&&n.resolve!==e.resolve?n.resolve:{};i.$template=[function(){return r.load(o,{view:n,locals:f,params:c})||""}],h.push(p.resolve(i,f,l.resolve,e).then(function(r){if(D(n.controllerProvider)||I(n.controllerProvider)){var a=t.extend({},i,f);r.$$controller=d.invoke(n.controllerProvider,null,a)}else r.$$controller=n.controller;r.$$state=e,r.$$controllerAs=n.controllerAs,l[o]=r}))}),i.all(h).then(function(){return l})}var S=i.reject(new Error("transition superseded")),_=i.reject(new Error("transition prevented")),k=i.reject(new Error("transition aborted")),T=i.reject(new Error("transition failed"));return w.locals={resolve:null,globals:{$stateParams:{}}},$={params:{},current:w.self,$current:w,transition:null},$.reload=function(){$.transitionTo($.current,m,{reload:!0,inherit:!1,notify:!1})},$.go=function(e,t,n){return $.transitionTo(e,t,O({inherit:!0,relative:$.$current},n))},$.transitionTo=function(t,n,r){n=n||{},r=O({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},r||{});var p,f=$.$current,h=$.params,b=f.path,k=s(t,r.relative);if(!M(k)){var T={to:t,toParams:n,options:r},P=v(T,f.self,h,r);if(P)return P;if(t=T.to,n=T.toParams,r=T.options,k=s(t,r.relative),!M(k)){if(!r.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+r.relative+"'")}}if(k[C])throw new Error("Cannot transition to abstract state '"+t+"'");r.inherit&&(n=l(m,n||{},$.$current,k)),t=k;var D=t.path,E=0,A=D[E],I=w.locals,L=[];if(!r.reload)for(;A&&A===b[E]&&c(n,h,A.ownParams);)I=L[E]=A.locals,E++,A=D[E];if(y(t,f,I,r))return t.self.reloadOnSearch!==!1&&g.update(),$.transition=null,i.when($.current);if(n=u(a(t.params),n||{}),r.notify&&e.$broadcast("$stateChangeStart",t.self,n,f.self,h).defaultPrevented)return g.update(),_;for(var R=i.when(I),B=E;B<D.length;B++,A=D[B])I=L[B]=o(I),R=x(A,n,A===t,R,I);var j=$.transition=R.then(function(){var o,i,a;if($.transition!==j)return S;for(o=b.length-1;o>=E;o--)a=b[o],a.self.onExit&&d.invoke(a.self.onExit,a.self,a.locals.globals),a.locals=null;for(o=E;o<D.length;o++)i=D[o],i.locals=L[o],i.self.onEnter&&d.invoke(i.self.onEnter,i.self,i.locals.globals);return $.transition!==j?S:($.$current=t,$.current=t.self,$.params=n,N($.params,m),$.transition=null,r.location&&t.navigable&&g.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{replace:"replace"===r.location}),r.notify&&e.$broadcast("$stateChangeSuccess",t.self,n,f.self,h),g.update(!0),$.current)},function(o){return $.transition!==j?S:($.transition=null,p=e.$broadcast("$stateChangeError",t.self,n,f.self,h,o),p.defaultPrevented||g.update(),i.reject(o))});return j},$.is=function(e,o){var i=s(e);return M(i)?$.$current!==i?!1:M(o)&&null!==o?t.equals(m,o):!0:n},$.includes=function(e,t){if(E(e)&&f(e)){if(!h(e))return!1;e=$.$current.name}var o=s(e);return M(o)?M($.$current.includes[o.name])?c(t,m):!1:n},$.href=function(e,t,n){n=O({lossy:!0,inherit:!0,absolute:!1,relative:$.$current},n||{});var o=s(e,n.relative);if(!M(o))return null;n.inherit&&(t=l(m,t||{},$.$current,o));var i=o&&n.lossy?o.navigable:o;return i&&i.url?g.href(i.url,u(a(o.params),t||{}),{absolute:n.absolute}):null},$.get=function(e,t){if(0===arguments.length)return a(b).map(function(e){return b[e].self});var n=s(e,t);return n&&n.self?n.self:null},$}function y(e,t,n,o){return e!==t||(n!==t.locals||o.reload)&&e.self.reloadOnSearch!==!1?void 0:!0}var w,$,b={},x={},C="abstract",S={parent:function(e){if(M(e.parent)&&e.parent)return s(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?s(t[1]):w},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=O({},e.parent.data,e.data)),e.data},url:function(e){var t=e.url,n={params:e.params||{}};if(E(t))return"^"==t.charAt(0)?i.compile(t.substring(1),n):(e.parent.navigable||w).url.concat(t,n);if(!t||i.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},params:function(e){return e.params?e.params:e.url?e.url.params:e.parent.params},views:function(e){var t={};return L(M(e.views)?e.views:{"":e},function(n,o){o.indexOf("@")<0&&(o+="@"+e.parent.name),t[o]=n}),t},ownParams:function(e){if(e.params=e.params||{},!e.parent)return a(e.params);var t={};L(e.params,function(e,n){t[n]=!0}),L(e.parent.params,function(n,o){if(!t[o])throw new Error("Missing required parameter '"+o+"' in state '"+e.name+"'");t[o]=!1});var n=[];return L(t,function(e,t){e&&n.push(t)}),n},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?O({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};w=p({name:"",url:"^",views:null,"abstract":!0}),w.navigable=null,this.decorator=m,this.state=g,this.$get=v,v.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter"]}function y(){function e(e,t){return{load:function(n,o){var i,r={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return o=O(r,o),o.view&&(i=t.fromConfig(o.view,o.params,o.locals)),i&&o.notify&&e.$broadcast("$viewContentLoading",o),i}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function w(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){n(function(){e[0].scrollIntoView()},0,!1)}}]}function $(e,n,o){function i(){return n.has?function(e){return n.has(e)?n.get(e):null}:function(e){try{return n.get(e)}catch(t){return null}}}function r(e,t){var n=function(){return{enter:function(e,t,n){t.after(e),n()},leave:function(e,t){e.remove(),t()}}};if(l)return{enter:function(e,t,n){l.enter(e,null,t,n)},leave:function(e,t){l.leave(e,t)}};if(s){var o=s&&s(t,e);return{enter:function(e,t,n){o.enter(e,null,t),n()},leave:function(e,t){o.leave(e),t()}}}return n()}var a=i(),s=a("$animator"),l=a("$animate"),c={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,i,a){return function(n,i,s){function l(){u&&(u.remove(),u=null),p&&(p.$destroy(),p=null),d&&(g.leave(d,function(){u=null}),u=d,d=null)}function c(r){var c,u=x(s,i.inheritedData("$uiView")),v=u&&e.$current&&e.$current.locals[u];if(r||v!==f){c=n.$new(),f=e.$current.locals[u];var y=a(c,function(e){g.enter(e,i,function(){(t.isDefined(m)&&!m||n.$eval(m))&&o(e)}),l()});d=y,p=c,p.$emit("$viewContentLoaded"),p.$eval(h)}}var u,d,p,f,h=s.onload||"",m=s.autoscroll,g=r(s,n);n.$on("$stateChangeSuccess",function(){c(!1)}),n.$on("$viewContentLoading",function(){c(!1)}),c(!0)}}};return c}function b(e,t,n){return{restrict:"ECA",priority:-400,compile:function(o){var i=o.html();return function(o,r,a){var s=n.$current,l=x(a,r.inheritedData("$uiView")),c=s&&s.locals[l];if(c){r.data("$uiView",{name:l,state:c.$$state}),r.html(c.$template?c.$template:i);var u=e(r.contents());if(c.$$controller){c.$scope=o;var d=t(c.$$controller,c);c.$$controllerAs&&(o[c.$$controllerAs]=d),r.data("$ngControllerController",d),r.children().data("$ngControllerController",d)}u(o)}}}}}function x(e,t){var n=e.uiView||e.name||"";return n.indexOf("@")>=0?n:n+"@"+(t?t.state.name:"")}function C(e,t){var n,o=e.match(/^\s*({[^}]*})\s*$/);if(o&&(e=t+"("+o[1]+")"),n=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+e+"'");return{state:n[1],paramExpr:n[3]||null}}function S(e){var t=e.parent().inheritedData("$uiView");return t&&t.state&&t.state.name?t.state:void 0}function _(e,n){var o=["location","inherit","reload"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,r,a,s){var l=C(a.uiSref,e.current.name),c=null,u=S(r)||e.$current,d="FORM"===r[0].nodeName,p=d?"action":"href",f=!0,h={relative:u,inherit:!0},m=i.$eval(a.uiSrefOpts)||{};t.forEach(o,function(e){e in m&&(h[e]=m[e])});var g=function(t){if(t&&(c=t),f){var n=e.href(l.state,c,h),o=s[1]||s[0];return o&&o.$$setStateInfo(l.state,c),null===n?(f=!1,!1):void(r[0][p]=n)}};l.paramExpr&&(i.$watch(l.paramExpr,function(e){e!==c&&g(e)},!0),c=i.$eval(l.paramExpr)),g(),d||r.bind("click",function(t){var o=t.which||t.button;if(!(o>1||t.ctrlKey||t.metaKey||t.shiftKey||r.attr("target"))){var i=n(function(){e.go(l.state,c,h)});t.preventDefault(),t.preventDefault=function(){n.cancel(i)}}})}}}function k(e,t,n){return{restrict:"A",controller:["$scope","$element","$attrs",function(o,i,r){function a(){s()?i.addClass(p):i.removeClass(p)}function s(){return"undefined"!=typeof r.uiSrefActiveEq?e.$current.self===u&&l():e.includes(u.name)&&l()}function l(){return!d||c(d,t)}var u,d,p;p=n(r.uiSrefActiveEq||r.uiSrefActive||"",!1)(o),this.$$setStateInfo=function(t,n){u=e.get(t,S(i)),d=n,a()},o.$on("$stateChangeSuccess",a)}]}}function T(e){return function(t){return e.is(t)}}function P(e){return function(t){return e.includes(t)}}var M=t.isDefined,D=t.isFunction,E=t.isString,A=t.isObject,I=t.isArray,L=t.forEach,O=t.extend,N=t.copy;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),d.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",d),p.$inject=["$http","$templateCache","$injector"],t.module("ui.router.util").service("$templateFactory",p),f.prototype.concat=function(e,t){return new f(this.sourcePath+e+this.sourceSearch,t)},f.prototype.toString=function(){return this.source},f.prototype.exec=function(e,t){var n=this.regexp.exec(e);if(!n)return null;t=t||{};var o,i,r,a=this.parameters(),s=a.length,l=this.segments.length-1,c={};if(l!==n.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(o=0;l>o;o++)r=a[o],i=this.params[r],c[r]=i.$value(n[o+1]);for(;s>o;o++)r=a[o],i=this.params[r],c[r]=i.$value(t[r]);return c},f.prototype.parameters=function(e){return M(e)?this.params[e]||null:a(this.params)},f.prototype.validates=function(e){var t,n,o=!0,i=this;return L(e,function(e,r){i.params[r]&&(n=i.params[r],t=!e&&M(n.value),o=o&&(t||n.type.is(e)))}),o},f.prototype.format=function(e){var t=this.segments,n=this.parameters();if(!e)return t.join("").replace("//","/");var o,i,r,a,s,l,c=t.length-1,u=n.length,d=t[0];if(!this.validates(e))return null;for(o=0;c>o;o++)a=n[o],r=e[a],s=this.params[a],(M(r)||"/"!==t[o]&&"/"!==t[o+1])&&(null!=r&&(d+=encodeURIComponent(s.type.encode(r))),d+=t[o+1]);for(;u>o;o++)a=n[o],r=e[a],null!=r&&(l=I(r),l&&(r=r.map(encodeURIComponent).join("&"+a+"=")),d+=(i?"&":"?")+a+"="+(l?r:encodeURIComponent(r)),i=!0);return d},f.prototype.$types={},h.prototype.is=function(){return!0},h.prototype.encode=function(e){return e},h.prototype.decode=function(e){return e},h.prototype.equals=function(e,t){return e==t},h.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},h.prototype.pattern=/.*/,t.module("ui.router.util").provider("$urlMatcherFactory",m),g.$inject=["$locationProvider","$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",g),v.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],t.module("ui.router.state").value("$stateParams",{}).provider("$state",v),y.$inject=[],t.module("ui.router.state").provider("$view",y),t.module("ui.router.state").provider("$uiViewScroll",w),$.$inject=["$state","$injector","$uiViewScroll"],b.$inject=["$compile","$controller","$state"],t.module("ui.router.state").directive("uiView",$),t.module("ui.router.state").directive("uiView",b),_.$inject=["$state","$timeout"],k.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",_).directive("uiSrefActive",k).directive("uiSrefActiveEq",k),T.$inject=["$state"],P.$inject=["$state"],t.module("ui.router.state").filter("isState",T).filter("includedByState",P)}(window,window.angular),function(e,t,n){"use strict";t.module("ui.sortable",[]).value("uiSortableConfig",{}).directive("uiSortable",["uiSortableConfig","$timeout","$log",function(e,o,i){return{require:"?ngModel",scope:{ngModel:"=",uiSortable:"="},link:function(r,a,s,l){function c(e,t){return t&&"function"==typeof t?function(){e.apply(this,arguments),t.apply(this,arguments)}:e}function u(e){var t=e.data("ui-sortable");return t&&"object"==typeof t&&"ui-sortable"===t.widgetFullName?t:null}function d(e,t){var n=e.sortable("option","helper");return"clone"===n||"function"==typeof n&&t.item.sortable.isCustomHelperUsed()}function p(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))}function f(e,t){for(var n=null,o=0;o<e.length;o++){var i=e[o];if(i.element[0]===t[0]){n=i.scope;break}}return n}function h(e,t){t.item.sortable._destroy()}var m,g={},v={"ui-floating":n},y={receive:null,remove:null,start:null,stop:null,update:null},w={helper:null};return t.extend(g,v,e,r.uiSortable),t.element.fn&&t.element.fn.jquery?(l?(r.$watch("ngModel.length",function(){o(function(){u(a)&&a.sortable("refresh")},0,!1)}),y.start=function(e,o){if("auto"===g["ui-floating"]){var i=o.item.siblings(),r=u(t.element(e.target));r.floating=p(i)}o.item.sortable={model:l.$modelValue[o.item.index()],index:o.item.index(),source:o.item.parent(),sourceModel:l.$modelValue,cancel:function(){o.item.sortable._isCanceled=!0},isCanceled:function(){return o.item.sortable._isCanceled},isCustomHelperUsed:function(){return!!o.item.sortable._isCustomHelperUsed},_isCanceled:!1,_isCustomHelperUsed:o.item.sortable._isCustomHelperUsed,_destroy:function(){t.forEach(o.item.sortable,function(e,t){o.item.sortable[t]=n})}}},y.activate=function(e,n){m=a.contents();var o=a.sortable("option","placeholder");if(o&&o.element&&"function"==typeof o.element){var i=o.element();i=t.element(i);var s=a.find('[class="'+i.attr("class")+'"]:not([ng-repeat], [data-ng-repeat])');m=m.not(s)}var l=n.item.sortable._connectedSortables||[];l.push({element:a,scope:r}),n.item.sortable._connectedSortables=l},y.update=function(e,t){if(!t.item.sortable.received){t.item.sortable.dropindex=t.item.index();var n=t.item.parent();t.item.sortable.droptarget=n;var o=f(t.item.sortable._connectedSortables,n);t.item.sortable.droptargetModel=o.ngModel,a.sortable("cancel")}d(a,t)&&!t.item.sortable.received&&"parent"===a.sortable("option","appendTo")&&(m=m.not(m.last())),m.appendTo(a),t.item.sortable.received&&(m=null),t.item.sortable.received&&!t.item.sortable.isCanceled()&&r.$apply(function(){l.$modelValue.splice(t.item.sortable.dropindex,0,t.item.sortable.moved)})},y.stop=function(e,t){!t.item.sortable.received&&"dropindex"in t.item.sortable&&!t.item.sortable.isCanceled()?r.$apply(function(){l.$modelValue.splice(t.item.sortable.dropindex,0,l.$modelValue.splice(t.item.sortable.index,1)[0])}):"dropindex"in t.item.sortable&&!t.item.sortable.isCanceled()||d(a,t)||m.appendTo(a),
m=null},y.receive=function(e,t){t.item.sortable.received=!0},y.remove=function(e,t){"dropindex"in t.item.sortable||(a.sortable("cancel"),t.item.sortable.cancel()),t.item.sortable.isCanceled()||r.$apply(function(){t.item.sortable.moved=l.$modelValue.splice(t.item.sortable.index,1)[0]})},w.helper=function(e){return e&&"function"==typeof e?function(t,n){var o=e.apply(this,arguments);return n.sortable._isCustomHelperUsed=n!==o,o}:e},r.$watch("uiSortable",function(e){var n=u(a);n&&t.forEach(e,function(e,t){return t in v?("ui-floating"!==t||e!==!1&&e!==!0||(n.floating=e),void(g[t]=e)):(y[t]?("stop"===t&&(e=c(e,function(){r.$apply()}),e=c(e,h)),e=c(y[t],e)):w[t]&&(e=w[t](e)),g[t]=e,void a.sortable("option",t,e))})},!0),t.forEach(y,function(e,t){g[t]=c(e,g[t]),"stop"===t&&(g[t]=c(g[t],h))})):i.info("ui.sortable: ngModel not provided!",a),void a.sortable(g)):void i.error("ui.sortable: jQuery should be included before AngularJS!")}}}])}(window,window.angular),function(e,t,n){"use strict";function o(e,n){n=n||{},t.forEach(n,function(e,t){delete n[t]});for(var o in e)!e.hasOwnProperty(o)||"$"===o.charAt(0)&&"$"===o.charAt(1)||(n[o]=e[o]);return n}var i=t.$$minErr("$resource"),r=/^(\.[a-zA-Z_$][0-9a-zA-Z_$]*)+$/;t.module("ngResource",["ng"]).factory("$resource",["$http","$q",function(e,a){function s(e,t){this.template=e,this.defaults=t||{},this.urlParams={}}function l(m,g,v){function y(e,t){var o={};return t=p({},g,t),d(t,function(t,a){h(t)&&(t=t());var s;if(t&&t.charAt&&"@"==t.charAt(0)){s=e;var l=t.substr(1);if(null==l||""===l||"hasOwnProperty"===l||!r.test("."+l))throw i("badmember",l);for(var l=l.split("."),c=0,u=l.length;u>c&&s!==n;c++){var d=l[c];s=null!==s?s[d]:n}}else s=t;o[a]=s}),o}function w(e){return e.resource}function $(e){o(e||{},this)}var b=new s(m);return v=p({},c,v),d(v,function(r,s){var l=/^(POST|PUT|PATCH)$/i.test(r.method);$[s]=function(s,c,m,g){var v,x,C,S={};switch(arguments.length){case 4:C=g,x=m;case 3:case 2:if(!h(c)){S=s,v=c,x=m;break}if(h(s)){x=s,C=c;break}x=c,C=m;case 1:h(s)?x=s:l?v=s:S=s;break;case 0:break;default:throw i("badargs",arguments.length)}var _=this instanceof $,k=_?v:r.isArray?[]:new $(v),T={},P=r.interceptor&&r.interceptor.response||w,M=r.interceptor&&r.interceptor.responseError||n;return d(r,function(e,t){"params"!=t&&"isArray"!=t&&"interceptor"!=t&&(T[t]=f(e))}),l&&(T.data=v),b.setUrlParams(T,p({},y(v,r.params||{}),S),r.url),S=e(T).then(function(e){var n=e.data,a=k.$promise;if(n){if(t.isArray(n)!==!!r.isArray)throw i("badcfg",r.isArray?"array":"object",t.isArray(n)?"array":"object");r.isArray?(k.length=0,d(n,function(e){"object"==typeof e?k.push(new $(e)):k.push(e)})):(o(n,k),k.$promise=a)}return k.$resolved=!0,e.resource=k,e},function(e){return k.$resolved=!0,(C||u)(e),a.reject(e)}),S=S.then(function(e){var t=P(e);return(x||u)(t,e.headers),t},M),_?S:(k.$promise=S,k.$resolved=!1,k)},$.prototype["$"+s]=function(e,t,n){return h(e)&&(n=t,t=e,e={}),e=$[s].call(this,e,this,t,n),e.$promise||e}}),$.bind=function(e){return l(m,p({},g,e),v)},$}var c={get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}},u=t.noop,d=t.forEach,p=t.extend,f=t.copy,h=t.isFunction;return s.prototype={setUrlParams:function(e,n,o){var r,a,s=this,l=o||s.template,c=s.urlParams={};d(l.split(/\W/),function(e){if("hasOwnProperty"===e)throw i("badname");!/^\d+$/.test(e)&&e&&RegExp("(^|[^\\\\]):"+e+"(\\W|$)").test(l)&&(c[e]=!0)}),l=l.replace(/\\:/g,":"),n=n||{},d(s.urlParams,function(e,o){r=n.hasOwnProperty(o)?n[o]:s.defaults[o],t.isDefined(r)&&null!==r?(a=encodeURIComponent(r).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"%20").replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+"),l=l.replace(RegExp(":"+o+"(\\W|$)","g"),function(e,t){return a+t})):l=l.replace(RegExp("(/?):"+o+"(\\W|$)","g"),function(e,t,n){return"/"==n.charAt(0)?n:t+n})}),l=l.replace(/\/+$/,"")||"/",l=l.replace(/\/\.(?=\w+($|\?))/,"."),e.url=l.replace(/\/\\\./,"/."),d(n,function(t,n){s.urlParams[n]||(e.params=e.params||{},e.params[n]=t)})}},l}])}(window,window.angular),function(e,t,n){"use strict";t.module("ngCookies",["ng"]).factory("$cookies",["$rootScope","$browser",function(e,o){var i,r={},a={},s=!1,l=t.copy,c=t.isUndefined;return o.addPollFn(function(){var t=o.cookies();i!=t&&(i=t,l(t,a),l(t,r),s&&e.$apply())})(),s=!0,e.$watch(function(){var e,i,s;for(e in a)c(r[e])&&o.cookies(e,n);for(e in r)i=r[e],t.isString(i)||(i=""+i,r[e]=i),i!==a[e]&&(o.cookies(e,i),s=!0);if(s)for(e in i=o.cookies(),r)r[e]!==i[e]&&(c(i[e])?delete r[e]:r[e]=i[e])}),r}]).factory("$cookieStore",["$cookies",function(e){return{get:function(n){return(n=e[n])?t.fromJson(n):n},put:function(n,o){e[n]=t.toJson(o)},remove:function(t){delete e[t]}}}])}(window,window.angular),!function(){"use strict";function e(){var e={};return{on:function(t,n){return t.split(" ").forEach(function(t){e[t]||(e[t]=[]),e[t].push(n)}),this},trigger:function(t,n){return angular.forEach(e[t],function(e){e.call(null,n)}),this}}}function t(e,t){return e=e||[],e.length>0&&!angular.isObject(e[0])&&e.forEach(function(n,o){e[o]={},e[o][t]=n}),e}function n(e,t,n){for(var o=null,r=0;r<e.length;r++)if(i(e[r][n]).toLowerCase()===i(t[n]).toLowerCase()){o=e[r];break}return o}function o(e,t,n){if(!t)return e;var o=t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");return e.replace(new RegExp(o,"gi"),n)}function i(e){return angular.isUndefined(e)||null==e?"":e.toString().trim()}function r(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}var a={backspace:8,tab:9,enter:13,escape:27,space:32,up:38,down:40,comma:188},s=9007199254740991,l=["text","email","url"],c=angular.module("ngTagsInput",[]);c.directive("tagsInput",["$timeout","$document","tagsInputConfig",function(o,r,c){function u(e,t){var o,r,a,s={};return o=function(t){return i(t[e.displayProperty])},r=function(t,n){t[e.displayProperty]=n},a=function(t){var i=o(t);return i&&i.length>=e.minLength&&i.length<=e.maxLength&&e.allowedTagsPattern.test(i)&&!n(s.items,t,e.displayProperty)},s.items=[],s.addText=function(e){var t={};return r(t,e),s.add(t)},s.add=function(n){var i=o(n);return e.replaceSpacesWithDashes&&(i=i.replace(/\s/g,"-")),r(n,i),a(n)?(s.items.push(n),t.trigger("tag-added",{$tag:n})):i&&t.trigger("invalid-tag",{$tag:n}),n},s.remove=function(e){var n=s.items.splice(e,1)[0];return t.trigger("tag-removed",{$tag:n}),n},s.removeLast=function(){var t,n=s.items.length-1;return e.enableEditingLastTag||s.selected?(s.selected=null,t=s.remove(n)):s.selected||(s.selected=s.items[n]),t},s}function d(e){return-1!==l.indexOf(e)}return{restrict:"E",require:"ngModel",scope:{tags:"=ngModel",onTagAdded:"&",onTagRemoved:"&"},replace:!1,transclude:!0,templateUrl:"ngTagsInput/tags-input.html",controller:["$scope","$attrs","$element",function(t,n,o){t.events=new e,c.load("tagsInput",t,n,{type:[String,"text",d],placeholder:[String,"Add a tag"],tabindex:[Number,null],removeTagSymbol:[String,String.fromCharCode(215)],replaceSpacesWithDashes:[Boolean,!0],minLength:[Number,3],maxLength:[Number,s],addOnEnter:[Boolean,!0],addOnSpace:[Boolean,!1],addOnComma:[Boolean,!0],addOnBlur:[Boolean,!0],allowedTagsPattern:[RegExp,/.+/],enableEditingLastTag:[Boolean,!1],minTags:[Number,0],maxTags:[Number,s],displayProperty:[String,"text"],allowLeftoverText:[Boolean,!1],addFromAutocompleteOnly:[Boolean,!1]}),t.tagList=new u(t.options,t.events),this.registerAutocomplete=function(){var e=o.find("input");return e.on("keydown",function(e){t.events.trigger("input-keydown",e)}),{addTag:function(e){return t.tagList.add(e)},focusInput:function(){e[0].focus()},getTags:function(){return t.tags},getCurrentTagText:function(){return t.newTag.text},getOptions:function(){return t.options},on:function(e,n){return t.events.on(e,n),this}}}}],link:function(e,n,s,l){var c,u=[a.enter,a.comma,a.space,a.backspace],d=e.tagList,p=e.events,f=e.options,h=n.find("input"),m=["minTags","maxTags","allowLeftoverText"];c=function(){l.$setValidity("maxTags",e.tags.length<=f.maxTags),l.$setValidity("minTags",e.tags.length>=f.minTags),l.$setValidity("leftoverText",f.allowLeftoverText?!0:!e.newTag.text)},p.on("tag-added",e.onTagAdded).on("tag-removed",e.onTagRemoved).on("tag-added",function(){e.newTag.text=""}).on("tag-added tag-removed",function(){l.$setViewValue(e.tags)}).on("invalid-tag",function(){e.newTag.invalid=!0}).on("input-change",function(){d.selected=null,e.newTag.invalid=null}).on("input-focus",function(){l.$setValidity("leftoverText",!0)}).on("input-blur",function(){f.addFromAutocompleteOnly||(f.addOnBlur&&d.addText(e.newTag.text),c())}).on("option-change",function(e){-1!==m.indexOf(e.name)&&c()}),e.newTag={text:"",invalid:null},e.getDisplayText=function(e){return i(e[f.displayProperty])},e.track=function(e){return e[f.displayProperty]},e.newTagChange=function(){p.trigger("input-change",e.newTag.text)},e.$watch("tags",function(n){e.tags=t(n,f.displayProperty),d.items=e.tags}),e.$watch("tags.length",function(){c()}),h.on("keydown",function(t){if(!t.isImmediatePropagationStopped||!t.isImmediatePropagationStopped()){var n,o,i=t.keyCode,r=t.shiftKey||t.altKey||t.ctrlKey||t.metaKey,s={};if(!r&&-1!==u.indexOf(i))if(s[a.enter]=f.addOnEnter,s[a.comma]=f.addOnComma,s[a.space]=f.addOnSpace,n=!f.addFromAutocompleteOnly&&s[i],o=!n&&i===a.backspace&&0===e.newTag.text.length,n)d.addText(e.newTag.text),e.$apply(),t.preventDefault();else if(o){var l=d.removeLast();l&&f.enableEditingLastTag&&(e.newTag.text=l[f.displayProperty]),e.$apply(),t.preventDefault()}}}).on("focus",function(){e.hasFocus||(e.hasFocus=!0,p.trigger("input-focus"),e.$apply())}).on("blur",function(){o(function(){var t=r.prop("activeElement"),o=t===h[0],i=n[0].contains(t);(o||!i)&&(e.hasFocus=!1,p.trigger("input-blur"))})}),n.find("div").on("click",function(){h[0].focus()})}}}]),c.directive("autoComplete",["$document","$timeout","$sce","tagsInputConfig",function(e,s,l,c){function u(e,o){var i,r,a,l={};return r=function(e,t){return e.filter(function(e){return!n(t,e,o.tagsInput.displayProperty)})},l.reset=function(){a=null,l.items=[],l.visible=!1,l.index=-1,l.selected=null,l.query=null,s.cancel(i)},l.show=function(){l.selected=null,l.visible=!0},l.load=function(n,c){s.cancel(i),i=s(function(){l.query=n;var i=e({$query:n});a=i,i.then(function(e){i===a&&(e=t(e.data||e,o.tagsInput.displayProperty),e=r(e,c),l.items=e.slice(0,o.maxResultsToShow),l.items.length>0?l.show():l.reset())})},o.debounceDelay,!1)},l.selectNext=function(){l.select(++l.index)},l.selectPrior=function(){l.select(--l.index)},l.select=function(e){0>e?e=l.items.length-1:e>=l.items.length&&(e=0),l.index=e,l.selected=l.items[e]},l.reset(),l}return{restrict:"E",require:"^tagsInput",scope:{source:"&"},templateUrl:"ngTagsInput/auto-complete.html",link:function(e,t,n,s){var d,p,f,h,m,g,v=[a.enter,a.tab,a.escape,a.up,a.down];c.load("autoComplete",e,n,{debounceDelay:[Number,100],minLength:[Number,3],highlightMatchedText:[Boolean,!0],maxResultsToShow:[Number,10],loadOnDownArrow:[Boolean,!1],loadOnEmpty:[Boolean,!1],loadOnFocus:[Boolean,!1]}),f=e.options,p=s.registerAutocomplete(),f.tagsInput=p.getOptions(),d=new u(e.source,f),h=function(e){return e[f.tagsInput.displayProperty]},m=function(e){return i(h(e))},g=function(e){return e&&e.length>=f.minLength||!e&&f.loadOnEmpty},e.suggestionList=d,e.addSuggestionByIndex=function(t){d.select(t),e.addSuggestion()},e.addSuggestion=function(){var e=!1;return d.selected&&(p.addTag(d.selected),d.reset(),p.focusInput(),e=!0),e},e.highlight=function(e){var t=m(e);return t=r(t),f.highlightMatchedText&&(t=o(t,r(d.query),"<em>$&</em>")),l.trustAsHtml(t)},e.track=function(e){return h(e)},p.on("tag-added tag-removed invalid-tag input-blur",function(){d.reset()}).on("input-change",function(e){g(e)?d.load(e,p.getTags()):d.reset()}).on("input-focus",function(){var e=p.getCurrentTagText();f.loadOnFocus&&g(e)&&d.load(e,p.getTags())}).on("input-keydown",function(t){var n=!1;t.stopImmediatePropagation=function(){n=!0,t.stopPropagation()},t.isImmediatePropagationStopped=function(){return n};var o=t.keyCode,i=!1;-1!==v.indexOf(o)&&(d.visible?o===a.down?(d.selectNext(),i=!0):o===a.up?(d.selectPrior(),i=!0):o===a.escape?(d.reset(),i=!0):(o===a.enter||o===a.tab)&&(i=e.addSuggestion()):o===a.down&&e.options.loadOnDownArrow&&(d.load(p.getCurrentTagText(),p.getTags()),i=!0),i&&(t.preventDefault(),t.stopImmediatePropagation(),e.$apply()))})}}}]),c.directive("tiTranscludeAppend",function(){return function(e,t,n,o,i){i(function(e){t.append(e)})}}),c.directive("tiAutosize",["tagsInputConfig",function(e){return{restrict:"A",require:"ngModel",link:function(t,n,o,i){var r,a,s=e.getTextAutosizeThreshold();r=angular.element('<span class="input"></span>'),r.css("display","none").css("visibility","hidden").css("width","auto").css("white-space","pre"),n.parent().append(r),a=function(e){var t,i=e;return angular.isString(i)&&0===i.length&&(i=o.placeholder),i&&(r.text(i),r.css("display",""),t=r.prop("offsetWidth"),r.css("display","none")),n.css("width",t?t+s+"px":""),e},i.$parsers.unshift(a),i.$formatters.unshift(a),o.$observe("placeholder",function(e){i.$modelValue||a(e)})}}}]),c.directive("tiBindAttrs",function(){return function(e,t,n){e.$watch(n.tiBindAttrs,function(e){angular.forEach(e,function(e,t){n.$set(t,e)})},!0)}}),c.provider("tagsInputConfig",function(){var e={},t={},n=3;this.setDefaults=function(t,n){return e[t]=n,this},this.setActiveInterpolation=function(e,n){return t[e]=n,this},this.setTextAutosizeThreshold=function(e){return n=e,this},this.$get=["$interpolate",function(o){var i={};return i[String]=function(e){return e},i[Number]=function(e){return parseInt(e,10)},i[Boolean]=function(e){return"true"===e.toLowerCase()},i[RegExp]=function(e){return new RegExp(e)},{load:function(n,r,a,s){var l=function(){return!0};r.options={},angular.forEach(s,function(s,c){var u,d,p,f,h,m;u=s[0],d=s[1],p=s[2]||l,f=i[u],h=function(){var t=e[n]&&e[n][c];return angular.isDefined(t)?t:d},m=function(e){r.options[c]=e&&p(e)?f(e):h()},t[n]&&t[n][c]?a.$observe(c,function(e){m(e),r.events.trigger("option-change",{name:c,newValue:e})}):m(a[c]&&o(a[c])(r.$parent))})},getTextAutosizeThreshold:function(){return n}}}]}),c.run(["$templateCache",function(e){e.put("ngTagsInput/tags-input.html",'<div class="host" tabindex="-1" ti-transclude-append=""><div class="tags" ng-class="{focused: hasFocus}"><ul class="tag-list"><li class="tag-item" ng-repeat="tag in tagList.items track by track(tag)" ng-class="{ selected: tag == tagList.selected }"><span ng-bind="getDisplayText(tag)"></span> <a class="remove-button" ng-click="tagList.remove($index)" ng-bind="options.removeTagSymbol"></a></li></ul><input class="input" ng-model="newTag.text" ng-change="newTagChange()" ng-trim="false" ng-class="{\'invalid-tag\': newTag.invalid}" ti-bind-attrs="{type: options.type, placeholder: options.placeholder, tabindex: options.tabindex}" ti-autosize=""></div></div>'),e.put("ngTagsInput/auto-complete.html",'<div class="autocomplete" ng-show="suggestionList.visible"><ul class="suggestion-list"><li class="suggestion-item" ng-repeat="item in suggestionList.items track by track(item)" ng-class="{selected: item == suggestionList.selected}" ng-click="addSuggestionByIndex($index)" ng-mouseenter="suggestionList.select($index)" ng-bind-html="highlight(item)"></li></ul></div>')}])}(),function(e){function t(e,t,n){switch(arguments.length){case 2:return null!=e?e:t;case 3:return null!=e?e:null!=t?t:n;default:throw new Error("Implement me")}}function n(e,t){return _e.call(e,t)}function o(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function i(e){we.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function r(e,t){var n=!0;return p(function(){return n&&(i(e),n=!1),t.apply(this,arguments)},t)}function a(e,t){gt[e]||(i(t),gt[e]=!0)}function s(e,t){return function(n){return m(e.call(this,n),t)}}function l(e,t){return function(n){return this.localeData().ordinal(e.call(this,n),t)}}function c(){}function u(e,t){t!==!1&&E(e),f(this,e),this._d=new Date(+e._d)}function d(e){var t=S(e),n=t.year||0,o=t.quarter||0,i=t.month||0,r=t.week||0,a=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._milliseconds=+u+1e3*c+6e4*l+36e5*s,this._days=+a+7*r,this._months=+i+3*o+12*n,this._data={},this._locale=we.localeData(),this._bubble()}function p(e,t){for(var o in t)n(t,o)&&(e[o]=t[o]);return n(t,"toString")&&(e.toString=t.toString),n(t,"valueOf")&&(e.valueOf=t.valueOf),e}function f(e,t){var n,o,i;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=t._pf),"undefined"!=typeof t._locale&&(e._locale=t._locale),Le.length>0)for(n in Le)o=Le[n],i=t[o],"undefined"!=typeof i&&(e[o]=i);return e}function h(e){return 0>e?Math.ceil(e):Math.floor(e)}function m(e,t,n){for(var o=""+Math.abs(e),i=e>=0;o.length<t;)o="0"+o;return(i?n?"+":"":"-")+o}function g(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function v(e,t){var n;return t=N(t,e),e.isBefore(t)?n=g(e,t):(n=g(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function y(e,t){return function(n,o){var i,r;return null===o||isNaN(+o)||(a(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),r=n,n=o,o=r),n="string"==typeof n?+n:n,i=we.duration(n,o),w(this,i,e),this}}function w(e,t,n,o){var i=t._milliseconds,r=t._days,a=t._months;o=null==o?!0:o,i&&e._d.setTime(+e._d+i*n),r&&fe(e,"Date",pe(e,"Date")+r*n),a&&de(e,pe(e,"Month")+a*n),o&&we.updateOffset(e,r||a)}function $(e){return"[object Array]"===Object.prototype.toString.call(e)}function b(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function x(e,t,n){var o,i=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),a=0;for(o=0;i>o;o++)(n&&e[o]!==t[o]||!n&&k(e[o])!==k(t[o]))&&a++;return a+r}function C(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=ct[e]||ut[t]||t}return e}function S(e){var t,o,i={};for(o in e)n(e,o)&&(t=C(o),t&&(i[t]=e[o]));return i}function _(t){var n,o;if(0===t.indexOf("week"))n=7,o="day";else{if(0!==t.indexOf("month"))return;n=12,o="month"}we[t]=function(i,r){var a,s,l=we._locale[t],c=[];if("number"==typeof i&&(r=i,i=e),s=function(e){var t=we().utc().set(o,e);return l.call(we._locale,t,i||"")},null!=r)return s(r);for(a=0;n>a;a++)c.push(s(a));return c}}function k(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function T(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function P(e,t,n){return se(we([e,11,31+t-n]),t,n).week}function M(e){return D(e)?366:365}function D(e){return e%4===0&&e%100!==0||e%400===0}function E(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[Te]<0||e._a[Te]>11?Te:e._a[Pe]<1||e._a[Pe]>T(e._a[ke],e._a[Te])?Pe:e._a[Me]<0||e._a[Me]>24||24===e._a[Me]&&(0!==e._a[De]||0!==e._a[Ee]||0!==e._a[Ae])?Me:e._a[De]<0||e._a[De]>59?De:e._a[Ee]<0||e._a[Ee]>59?Ee:e._a[Ae]<0||e._a[Ae]>999?Ae:-1,e._pf._overflowDayOfYear&&(ke>t||t>Pe)&&(t=Pe),e._pf.overflow=t)}function A(t){return null==t._isValid&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===t._pf.charsLeftOver&&0===t._pf.unusedTokens.length&&t._pf.bigHour===e)),t._isValid}function I(e){return e?e.toLowerCase().replace("_","-"):e}function L(e){for(var t,n,o,i,r=0;r<e.length;){for(i=I(e[r]).split("-"),t=i.length,n=I(e[r+1]),n=n?n.split("-"):null;t>0;){if(o=O(i.slice(0,t).join("-")))return o;if(n&&n.length>=t&&x(i,n,!0)>=t-1)break;t--}r++}return null}function O(e){var t=null;if(!Ie[e]&&Oe)try{t=we.locale(),require("./locale/"+e),we.locale(t)}catch(n){}return Ie[e]}function N(e,t){var n,o;return t._isUTC?(n=t.clone(),o=(we.isMoment(e)||b(e)?+e:+we(e))-+n,n._d.setTime(+n._d+o),we.updateOffset(n,!1),n):we(e).local()}function R(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function B(e){var t,n,o=e.match(je);for(t=0,n=o.length;n>t;t++)o[t]=mt[o[t]]?mt[o[t]]:R(o[t]);return function(i){var r="";for(t=0;n>t;t++)r+=o[t]instanceof Function?o[t].call(i,e):o[t];return r}}function j(e,t){return e.isValid()?(t=F(t,e.localeData()),dt[t]||(dt[t]=B(t)),dt[t](e)):e.localeData().invalidDate()}function F(e,t){function n(e){return t.longDateFormat(e)||e}var o=5;for(Fe.lastIndex=0;o>=0&&Fe.test(e);)e=e.replace(Fe,n),Fe.lastIndex=0,o-=1;return e}function H(e,t){var n,o=t._strict;switch(e){case"Q":return Ze;case"DDDD":return Je;case"YYYY":case"GGGG":case"gggg":return o?et:Ve;case"Y":case"G":case"g":return nt;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return o?tt:qe;case"S":if(o)return Ze;case"SS":if(o)return Ke;case"SSS":if(o)return Je;case"DDD":return Ue;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return ze;case"a":case"A":return t._locale._meridiemParse;case"x":return Xe;case"X":return Qe;case"Z":case"ZZ":return Ye;case"T":return Ge;case"SSSS":return We;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return o?Ke:He;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return He;case"Do":return o?t._locale._ordinalParse:t._locale._ordinalParseLenient;default:return n=new RegExp(Q(X(e.replace("\\","")),"i"))}}function U(e){e=e||"";var t=e.match(Ye)||[],n=t[t.length-1]||[],o=(n+"").match(st)||["-",0,0],i=+(60*o[1])+k(o[2]);return"+"===o[0]?-i:i}function V(e,t,n){var o,i=n._a;switch(e){case"Q":null!=t&&(i[Te]=3*(k(t)-1));break;case"M":case"MM":null!=t&&(i[Te]=k(t)-1);break;case"MMM":case"MMMM":o=n._locale.monthsParse(t,e,n._strict),null!=o?i[Te]=o:n._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(i[Pe]=k(t));break;case"Do":null!=t&&(i[Pe]=k(parseInt(t.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=t&&(n._dayOfYear=k(t));break;case"YY":i[ke]=we.parseTwoDigitYear(t);break;case"YYYY":case"YYYYY":case"YYYYYY":i[ke]=k(t);break;case"a":case"A":n._isPm=n._locale.isPM(t);break;case"h":case"hh":n._pf.bigHour=!0;case"H":case"HH":i[Me]=k(t);break;case"m":case"mm":i[De]=k(t);break;case"s":case"ss":i[Ee]=k(t);break;case"S":case"SS":case"SSS":case"SSSS":i[Ae]=k(1e3*("0."+t));break;case"x":n._d=new Date(k(t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=U(t);break;case"dd":case"ddd":case"dddd":o=n._locale.weekdaysParse(t),null!=o?(n._w=n._w||{},n._w.d=o):n._pf.invalidWeekday=t;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":e=e.substr(0,1);case"gggg":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(n._w=n._w||{},n._w[e]=k(t));break;case"gg":case"GG":n._w=n._w||{},n._w[e]=we.parseTwoDigitYear(t)}}function q(e){var n,o,i,r,a,s,l;n=e._w,null!=n.GG||null!=n.W||null!=n.E?(a=1,s=4,o=t(n.GG,e._a[ke],se(we(),1,4).year),i=t(n.W,1),r=t(n.E,1)):(a=e._locale._week.dow,s=e._locale._week.doy,o=t(n.gg,e._a[ke],se(we(),a,s).year),i=t(n.w,1),null!=n.d?(r=n.d,a>r&&++i):r=null!=n.e?n.e+a:a),l=le(o,i,r,s,a),e._a[ke]=l.year,e._dayOfYear=l.dayOfYear}function W(e){var n,o,i,r,a=[];if(!e._d){for(i=Y(e),e._w&&null==e._a[Pe]&&null==e._a[Te]&&q(e),e._dayOfYear&&(r=t(e._a[ke],i[ke]),e._dayOfYear>M(r)&&(e._pf._overflowDayOfYear=!0),o=oe(r,0,e._dayOfYear),e._a[Te]=o.getUTCMonth(),e._a[Pe]=o.getUTCDate()),n=0;3>n&&null==e._a[n];++n)e._a[n]=a[n]=i[n];for(;7>n;n++)e._a[n]=a[n]=null==e._a[n]?2===n?1:0:e._a[n];24===e._a[Me]&&0===e._a[De]&&0===e._a[Ee]&&0===e._a[Ae]&&(e._nextDay=!0,e._a[Me]=0),e._d=(e._useUTC?oe:ne).apply(null,a),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()+e._tzm),e._nextDay&&(e._a[Me]=24)}}function z(e){var t;e._d||(t=S(e._i),e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],W(e))}function Y(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function G(t){if(t._f===we.ISO_8601)return void K(t);t._a=[],t._pf.empty=!0;var n,o,i,r,a,s=""+t._i,l=s.length,c=0;for(i=F(t._f,t._locale).match(je)||[],n=0;n<i.length;n++)r=i[n],o=(s.match(H(r,t))||[])[0],o&&(a=s.substr(0,s.indexOf(o)),a.length>0&&t._pf.unusedInput.push(a),s=s.slice(s.indexOf(o)+o.length),c+=o.length),mt[r]?(o?t._pf.empty=!1:t._pf.unusedTokens.push(r),V(r,o,t)):t._strict&&!o&&t._pf.unusedTokens.push(r);t._pf.charsLeftOver=l-c,s.length>0&&t._pf.unusedInput.push(s),t._pf.bigHour===!0&&t._a[Me]<=12&&(t._pf.bigHour=e),t._isPm&&t._a[Me]<12&&(t._a[Me]+=12),t._isPm===!1&&12===t._a[Me]&&(t._a[Me]=0),W(t),E(t)}function X(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,o,i){return t||n||o||i})}function Q(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Z(e){var t,n,i,r,a;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)a=0,t=f({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._pf=o(),t._f=e._f[r],G(t),A(t)&&(a+=t._pf.charsLeftOver,a+=10*t._pf.unusedTokens.length,t._pf.score=a,(null==i||i>a)&&(i=a,n=t));p(e,n||t)}function K(e){var t,n,o=e._i,i=ot.exec(o);if(i){for(e._pf.iso=!0,t=0,n=rt.length;n>t;t++)if(rt[t][1].exec(o)){e._f=rt[t][0]+(i[6]||" ");break}for(t=0,n=at.length;n>t;t++)if(at[t][1].exec(o)){e._f+=at[t][0];break}o.match(Ye)&&(e._f+="Z"),G(e)}else e._isValid=!1}function J(e){K(e),e._isValid===!1&&(delete e._isValid,we.createFromInputFallback(e))}function ee(e,t){var n,o=[];for(n=0;n<e.length;++n)o.push(t(e[n],n));return o}function te(t){var n,o=t._i;o===e?t._d=new Date:b(o)?t._d=new Date(+o):null!==(n=Ne.exec(o))?t._d=new Date(+n[1]):"string"==typeof o?J(t):$(o)?(t._a=ee(o.slice(0),function(e){return parseInt(e,10)}),W(t)):"object"==typeof o?z(t):"number"==typeof o?t._d=new Date(o):we.createFromInputFallback(t)}function ne(e,t,n,o,i,r,a){var s=new Date(e,t,n,o,i,r,a);return 1970>e&&s.setFullYear(e),s}function oe(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function ie(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function re(e,t,n,o,i){return i.relativeTime(t||1,!!n,e,o)}function ae(e,t,n){var o=we.duration(e).abs(),i=Se(o.as("s")),r=Se(o.as("m")),a=Se(o.as("h")),s=Se(o.as("d")),l=Se(o.as("M")),c=Se(o.as("y")),u=i<pt.s&&["s",i]||1===r&&["m"]||r<pt.m&&["mm",r]||1===a&&["h"]||a<pt.h&&["hh",a]||1===s&&["d"]||s<pt.d&&["dd",s]||1===l&&["M"]||l<pt.M&&["MM",l]||1===c&&["y"]||["yy",c];return u[2]=t,u[3]=+e>0,u[4]=n,re.apply({},u)}function se(e,t,n){var o,i=n-t,r=n-e.day();return r>i&&(r-=7),i-7>r&&(r+=7),o=we(e).add(r,"d"),{week:Math.ceil(o.dayOfYear()/7),year:o.year()}}function le(e,t,n,o,i){var r,a,s=oe(e,0,1).getUTCDay();return s=0===s?7:s,n=null!=n?n:i,r=i-s+(s>o?7:0)-(i>s?7:0),a=7*(t-1)+(n-i)+r+1,{year:a>0?e:e-1,dayOfYear:a>0?a:M(e-1)+a}}function ce(t){var n,o=t._i,i=t._f;return t._locale=t._locale||we.localeData(t._l),null===o||i===e&&""===o?we.invalid({nullInput:!0}):("string"==typeof o&&(t._i=o=t._locale.preparse(o)),we.isMoment(o)?new u(o,!0):(i?$(i)?Z(t):G(t):te(t),n=new u(t),n._nextDay&&(n.add(1,"d"),n._nextDay=e),n))}function ue(e,t){var n,o;if(1===t.length&&$(t[0])&&(t=t[0]),!t.length)return we();for(n=t[0],o=1;o<t.length;++o)t[o][e](n)&&(n=t[o]);return n}function de(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),T(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function pe(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function fe(e,t,n){return"Month"===t?de(e,n):e._d["set"+(e._isUTC?"UTC":"")+t](n)}function he(e,t){return function(n){return null!=n?(fe(this,e,n),we.updateOffset(this,t),this):pe(this,e)}}function me(e){return 400*e/146097}function ge(e){return 146097*e/400}function ve(e){we.duration.fn[e]=function(){return this._data[e]}}function ye(e){"undefined"==typeof ender&&($e=Ce.moment,Ce.moment=e?r("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",we):we)}for(var we,$e,be,xe="2.8.4",Ce="undefined"!=typeof global?global:this,Se=Math.round,_e=Object.prototype.hasOwnProperty,ke=0,Te=1,Pe=2,Me=3,De=4,Ee=5,Ae=6,Ie={},Le=[],Oe="undefined"!=typeof module&&module&&module.exports,Ne=/^\/?Date\((\-?\d+)/i,Re=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Be=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,je=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Fe=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,He=/\d\d?/,Ue=/\d{1,3}/,Ve=/\d{1,4}/,qe=/[+\-]?\d{1,6}/,We=/\d+/,ze=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ye=/Z|[\+\-]\d\d:?\d\d/gi,Ge=/T/i,Xe=/[\+\-]?\d+/,Qe=/[\+\-]?\d+(\.\d{1,3})?/,Ze=/\d/,Ke=/\d\d/,Je=/\d{3}/,et=/\d{4}/,tt=/[+-]?\d{6}/,nt=/[+-]?\d+/,ot=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,it="YYYY-MM-DDTHH:mm:ssZ",rt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],at=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],st=/([\+\-]|\d\d)/gi,lt=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),ct={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},ut={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},dt={},pt={s:45,m:45,h:22,d:26,M:11},ft="DDD w W M D d".split(" "),ht="M D H h m s w W".split(" "),mt={M:function(){return this.month()+1},MMM:function(e){return this.localeData().monthsShort(this,e)},MMMM:function(e){return this.localeData().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.localeData().weekdaysMin(this,e)},ddd:function(e){return this.localeData().weekdaysShort(this,e)},dddd:function(e){return this.localeData().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return m(this.year()%100,2)},YYYY:function(){return m(this.year(),4)},YYYYY:function(){return m(this.year(),5)},YYYYYY:function(){var e=this.year(),t=e>=0?"+":"-";return t+m(Math.abs(e),6)},gg:function(){return m(this.weekYear()%100,2)},gggg:function(){return m(this.weekYear(),4)},ggggg:function(){return m(this.weekYear(),5)},GG:function(){return m(this.isoWeekYear()%100,2)},GGGG:function(){return m(this.isoWeekYear(),4)},GGGGG:function(){return m(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return k(this.milliseconds()/100);
},SS:function(){return m(k(this.milliseconds()/10),2)},SSS:function(){return m(this.milliseconds(),3)},SSSS:function(){return m(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+m(k(e/60),2)+":"+m(k(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+m(k(e/60),2)+m(k(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},gt={},vt=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];ft.length;)be=ft.pop(),mt[be+"o"]=l(mt[be],be);for(;ht.length;)be=ht.pop(),mt[be+be]=s(mt[be],2);mt.DDDD=s(mt.DDD,3),p(c.prototype,{set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e,t,n){var o,i,r;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),o=0;12>o;o++){if(i=we.utc([2e3,o]),n&&!this._longMonthsParse[o]&&(this._longMonthsParse[o]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[o]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[o]||(r="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[o]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[o].test(e))return o;if(n&&"MMM"===t&&this._shortMonthsParse[o].test(e))return o;if(!n&&this._monthsParse[o].test(e))return o}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,o;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=we([2e3,1]).day(t),o="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(o.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t,n){var o=this._calendar[e];return"function"==typeof o?o.apply(t,[n]):o},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,o){var i=this._relativeTime[n];return"function"==typeof i?i(e,t,n,o):i.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(e){return e},postformat:function(e){return e},week:function(e){return se(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),we=function(t,n,i,r){var a;return"boolean"==typeof i&&(r=i,i=e),a={},a._isAMomentObject=!0,a._i=t,a._f=n,a._l=i,a._strict=r,a._isUTC=!1,a._pf=o(),ce(a)},we.suppressDeprecationWarnings=!1,we.createFromInputFallback=r("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),we.min=function(){var e=[].slice.call(arguments,0);return ue("isBefore",e)},we.max=function(){var e=[].slice.call(arguments,0);return ue("isAfter",e)},we.utc=function(t,n,i,r){var a;return"boolean"==typeof i&&(r=i,i=e),a={},a._isAMomentObject=!0,a._useUTC=!0,a._isUTC=!0,a._l=i,a._i=t,a._f=n,a._strict=r,a._pf=o(),ce(a).utc()},we.unix=function(e){return we(1e3*e)},we.duration=function(e,t){var o,i,r,a,s=e,l=null;return we.isDuration(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(s={},t?s[t]=e:s.milliseconds=e):(l=Re.exec(e))?(o="-"===l[1]?-1:1,s={y:0,d:k(l[Pe])*o,h:k(l[Me])*o,m:k(l[De])*o,s:k(l[Ee])*o,ms:k(l[Ae])*o}):(l=Be.exec(e))?(o="-"===l[1]?-1:1,r=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*o},s={y:r(l[2]),M:r(l[3]),d:r(l[4]),h:r(l[5]),m:r(l[6]),s:r(l[7]),w:r(l[8])}):"object"==typeof s&&("from"in s||"to"in s)&&(a=v(we(s.from),we(s.to)),s={},s.ms=a.milliseconds,s.M=a.months),i=new d(s),we.isDuration(e)&&n(e,"_locale")&&(i._locale=e._locale),i},we.version=xe,we.defaultFormat=it,we.ISO_8601=function(){},we.momentProperties=Le,we.updateOffset=function(){},we.relativeTimeThreshold=function(t,n){return pt[t]===e?!1:n===e?pt[t]:(pt[t]=n,!0)},we.lang=r("moment.lang is deprecated. Use moment.locale instead.",function(e,t){return we.locale(e,t)}),we.locale=function(e,t){var n;return e&&(n="undefined"!=typeof t?we.defineLocale(e,t):we.localeData(e),n&&(we.duration._locale=we._locale=n)),we._locale._abbr},we.defineLocale=function(e,t){return null!==t?(t.abbr=e,Ie[e]||(Ie[e]=new c),Ie[e].set(t),we.locale(e),Ie[e]):(delete Ie[e],null)},we.langData=r("moment.langData is deprecated. Use moment.localeData instead.",function(e){return we.localeData(e)}),we.localeData=function(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return we._locale;if(!$(e)){if(t=O(e))return t;e=[e]}return L(e)},we.isMoment=function(e){return e instanceof u||null!=e&&n(e,"_isAMomentObject")},we.isDuration=function(e){return e instanceof d};for(be=vt.length-1;be>=0;--be)_(vt[be]);we.normalizeUnits=function(e){return C(e)},we.invalid=function(e){var t=we.utc(NaN);return null!=e?p(t._pf,e):t._pf.userInvalidated=!0,t},we.parseZone=function(){return we.apply(null,arguments).parseZone()},we.parseTwoDigitYear=function(e){return k(e)+(k(e)>68?1900:2e3)},p(we.fn=u.prototype,{clone:function(){return we(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=we(this).utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():j(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):j(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return A(this)},isDSTShifted:function(){return this._a?this.isValid()&&x(this._a,(this._isUTC?we.utc(this._a):we(this._a)).toArray())>0:!1},parsingFlags:function(){return p({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(e){return this.zone(0,e)},local:function(e){return this._isUTC&&(this.zone(0,e),this._isUTC=!1,e&&this.add(this._dateTzOffset(),"m")),this},format:function(e){var t=j(this,e||we.defaultFormat);return this.localeData().postformat(t)},add:y(1,"add"),subtract:y(-1,"subtract"),diff:function(e,t,n){var o,i,r,a=N(e,this),s=6e4*(this.zone()-a.zone());return t=C(t),"year"===t||"month"===t?(o=432e5*(this.daysInMonth()+a.daysInMonth()),i=12*(this.year()-a.year())+(this.month()-a.month()),r=this-we(this).startOf("month")-(a-we(a).startOf("month")),r-=6e4*(this.zone()-we(this).startOf("month").zone()-(a.zone()-we(a).startOf("month").zone())),i+=r/o,"year"===t&&(i/=12)):(o=this-a,i="second"===t?o/1e3:"minute"===t?o/6e4:"hour"===t?o/36e5:"day"===t?(o-s)/864e5:"week"===t?(o-s)/6048e5:o),n?i:h(i)},from:function(e,t){return we.duration({to:this,from:e}).locale(this.locale()).humanize(!t)},fromNow:function(e){return this.from(we(),e)},calendar:function(e){var t=e||we(),n=N(t,this).startOf("day"),o=this.diff(n,"days",!0),i=-6>o?"sameElse":-1>o?"lastWeek":0>o?"lastDay":1>o?"sameDay":2>o?"nextDay":7>o?"nextWeek":"sameElse";return this.format(this.localeData().calendar(i,this,we(t)))},isLeapYear:function(){return D(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=ie(e,this.localeData()),this.add(e-t,"d")):t},month:he("Month",!0),startOf:function(e){switch(e=C(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(t){return t=C(t),t===e||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")},isAfter:function(e,t){var n;return t=C("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=we.isMoment(e)?e:we(e),+this>+e):(n=we.isMoment(e)?+e:+we(e),n<+this.clone().startOf(t))},isBefore:function(e,t){var n;return t=C("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=we.isMoment(e)?e:we(e),+e>+this):(n=we.isMoment(e)?+e:+we(e),+this.clone().endOf(t)<n)},isSame:function(e,t){var n;return t=C(t||"millisecond"),"millisecond"===t?(e=we.isMoment(e)?e:we(e),+this===+e):(n=+we(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))},min:r("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(e){return e=we.apply(null,arguments),this>e?this:e}),max:r("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(e){return e=we.apply(null,arguments),e>this?this:e}),zone:function(e,t){var n,o=this._offset||0;return null==e?this._isUTC?o:this._dateTzOffset():("string"==typeof e&&(e=U(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&t&&(n=this._dateTzOffset()),this._offset=e,this._isUTC=!0,null!=n&&this.subtract(n,"m"),o!==e&&(!t||this._changeInProgress?w(this,we.duration(o-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,we.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e=e?we(e).zone():0,(this.zone()-e)%60===0},daysInMonth:function(){return T(this.year(),this.month())},dayOfYear:function(e){var t=Se((we(this).startOf("day")-we(this).startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},quarter:function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var t=se(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")},isoWeekYear:function(e){var t=se(this,1,4).year;return null==e?t:this.add(e-t,"y")},week:function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},isoWeek:function(e){var t=se(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},weekday:function(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return P(this.year(),1,4)},weeksInYear:function(){var e=this.localeData()._week;return P(this.year(),e.dow,e.doy)},get:function(e){return e=C(e),this[e]()},set:function(e,t){return e=C(e),"function"==typeof this[e]&&this[e](t),this},locale:function(t){var n;return t===e?this._locale._abbr:(n=we.localeData(t),null!=n&&(this._locale=n),this)},lang:r("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===e?this.localeData():this.locale(t)}),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}}),we.fn.millisecond=we.fn.milliseconds=he("Milliseconds",!1),we.fn.second=we.fn.seconds=he("Seconds",!1),we.fn.minute=we.fn.minutes=he("Minutes",!1),we.fn.hour=we.fn.hours=he("Hours",!0),we.fn.date=he("Date",!0),we.fn.dates=r("dates accessor is deprecated. Use date instead.",he("Date",!0)),we.fn.year=he("FullYear",!0),we.fn.years=r("years accessor is deprecated. Use year instead.",he("FullYear",!0)),we.fn.days=we.fn.day,we.fn.months=we.fn.month,we.fn.weeks=we.fn.week,we.fn.isoWeeks=we.fn.isoWeek,we.fn.quarters=we.fn.quarter,we.fn.toJSON=we.fn.toISOString,p(we.duration.fn=d.prototype,{_bubble:function(){var e,t,n,o=this._milliseconds,i=this._days,r=this._months,a=this._data,s=0;a.milliseconds=o%1e3,e=h(o/1e3),a.seconds=e%60,t=h(e/60),a.minutes=t%60,n=h(t/60),a.hours=n%24,i+=h(n/24),s=h(me(i)),i-=h(ge(s)),r+=h(i/30),i%=30,s+=h(r/12),r%=12,a.days=i,a.months=r,a.years=s},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return h(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*k(this._months/12)},humanize:function(e){var t=ae(this,!e,this.localeData());return e&&(t=this.localeData().pastFuture(+this,t)),this.localeData().postformat(t)},add:function(e,t){var n=we.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=we.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=C(e),this[e.toLowerCase()+"s"]()},as:function(e){var t,n;if(e=C(e),"month"===e||"year"===e)return t=this._days+this._milliseconds/864e5,n=this._months+12*me(t),"month"===e?n:n/12;switch(t=this._days+Math.round(ge(this._months/12)),e){case"week":return t/7+this._milliseconds/6048e5;case"day":return t+this._milliseconds/864e5;case"hour":return 24*t+this._milliseconds/36e5;case"minute":return 24*t*60+this._milliseconds/6e4;case"second":return 24*t*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*t*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+e)}},lang:we.fn.lang,locale:we.fn.locale,toIsoString:r("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),o=Math.abs(this.hours()),i=Math.abs(this.minutes()),r=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(o||i||r?"T":"")+(o?o+"H":"")+(i?i+"M":"")+(r?r+"S":""):"P0D"},localeData:function(){return this._locale}}),we.duration.fn.toString=we.duration.fn.toISOString;for(be in lt)n(lt,be)&&ve(be.toLowerCase());we.duration.fn.asMilliseconds=function(){return this.as("ms")},we.duration.fn.asSeconds=function(){return this.as("s")},we.duration.fn.asMinutes=function(){return this.as("m")},we.duration.fn.asHours=function(){return this.as("h")},we.duration.fn.asDays=function(){return this.as("d")},we.duration.fn.asWeeks=function(){return this.as("weeks")},we.duration.fn.asMonths=function(){return this.as("M")},we.duration.fn.asYears=function(){return this.as("y")},we.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===k(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),Oe?module.exports=we:"function"==typeof define&&define.amd?(define("moment",function(e,t,n){return n.config&&n.config()&&n.config().noGlobal===!0&&(Ce.moment=$e),we}),ye(!0)):ye()}.call(this),!function(){"use strict";function e(e,t){return e.module("angularMoment",[]).constant("angularMomentConfig",{preprocess:null,timezone:"",format:null}).constant("moment",t).constant("amTimeAgoConfig",{withoutSuffix:!1,serverTime:null,titleFormat:null}).directive("amTimeAgo",["$window","moment","amMoment","amTimeAgoConfig","angularMomentConfig",function(t,n,o,i,r){return function(a,s,l){function c(){var e;if(i.serverTime){var t=(new Date).getTime(),o=t-$+i.serverTime;e=n(o)}else e=n();return e}function u(){g&&(t.clearTimeout(g),g=null)}function d(e){if(s.text(e.from(c(),y)),w&&!s.attr("title")&&s.attr("title",e.local().format(w)),!C){var n=Math.abs(c().diff(e,"minute")),o=3600;1>n?o=1:60>n?o=30:180>n&&(o=300),g=t.setTimeout(function(){d(e)},1e3*o)}}function p(e){S&&s.attr("datetime",e)}function f(){if(u(),h){var e=o.preprocessDate(h,b,v);d(e),p(e.toISOString())}}var h,m,g=null,v=r.format,y=i.withoutSuffix,w=i.titleFormat,$=(new Date).getTime(),b=r.preprocess,x=l.amTimeAgo.replace(/^::/,""),C=0===l.amTimeAgo.indexOf("::"),S="TIME"===s[0].nodeName.toUpperCase();m=a.$watch(x,function(e){return"undefined"==typeof e||null===e||""===e?(u(),void(h&&(s.text(""),p(""),h=null))):(h=e,f(),void(void 0!==e&&C&&m()))}),e.isDefined(l.amWithoutSuffix)&&a.$watch(l.amWithoutSuffix,function(e){"boolean"==typeof e?(y=e,f()):y=i.withoutSuffix}),l.$observe("amFormat",function(e){"undefined"!=typeof e&&(v=e,f())}),l.$observe("amPreprocess",function(e){b=e,f()}),a.$on("$destroy",function(){u()}),a.$on("amMoment:localeChanged",function(){f()})}}]).service("amMoment",["moment","$rootScope","$log","angularMomentConfig",function(t,n,o,i){var r=this;this.preprocessors={utc:t.utc,unix:t.unix},this.changeLocale=function(o){var i=(t.locale||t.lang)(o);return e.isDefined(o)&&(n.$broadcast("amMoment:localeChanged"),n.$broadcast("amMoment:languageChange")),i},this.changeLanguage=function(e){return o.warn("angular-moment: Usage of amMoment.changeLanguage() is deprecated. Please use changeLocale()"),r.changeLocale(e)},this.preprocessDate=function(n,r,a){return e.isUndefined(r)&&(r=i.preprocess),this.preprocessors[r]?this.preprocessors[r](n,a):(r&&o.warn("angular-moment: Ignoring unsupported value for preprocess: "+r),!isNaN(parseFloat(n))&&isFinite(n)?t(parseInt(n,10)):t(n,a))},this.applyTimezone=function(e){var t=i.timezone;return e&&t&&(e.tz?e=e.tz(t):o.warn("angular-moment: timezone specified but moment.tz() is undefined. Did you forget to include moment-timezone.js?")),e}}]).filter("amCalendar",["moment","amMoment",function(e,t){return function(n,o){if("undefined"==typeof n||null===n)return"";n=t.preprocessDate(n,o);var i=e(n);return i.isValid()?t.applyTimezone(i).calendar():""}}]).filter("amDateFormat",["moment","amMoment",function(e,t){return function(n,o,i){if("undefined"==typeof n||null===n)return"";n=t.preprocessDate(n,i);var r=e(n);return r.isValid()?t.applyTimezone(r).format(o):""}}]).filter("amDurationFormat",["moment",function(e){return function(t,n,o){return"undefined"==typeof t||null===t?"":e.duration(t,n).humanize(o)}}]).filter("amTimeAgo",["moment","amMoment",function(e,t){return function(n,o,i){if("undefined"==typeof n||null===n)return"";n=t.preprocessDate(n,o);var r=e(n);return r.isValid()?t.applyTimezone(r).fromNow(i):""}}])}"function"==typeof define&&define.amd?define("angular-moment",["angular","moment"],e):"undefined"!=typeof module&&module&&module.exports?e(angular,require("moment")):e(angular,window.moment)}(),function(e){"function"==typeof define&&define.amd?define(["moment"],e):"object"==typeof exports?module.exports=e(require("../moment")):e(("undefined"!=typeof global?global:this).moment)}(function(e){return e.defineLocale("zh-tw",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah點mm",LTS:"Ah點m分s秒",L:"YYYY年MMMD日",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日LT",LLLL:"YYYY年MMMD日ddddLT",l:"YYYY年MMMD日",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日LT",llll:"YYYY年MMMD日ddddLT"},meridiem:function(e,t,n){var o=100*e+t;return 900>o?"早上":1130>o?"上午":1230>o?"中午":1800>o?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},ordinalParse:/\d{1,2}(日|月|週)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"週";default:return e}},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"一分鐘",mm:"%d分鐘",h:"一小時",hh:"%d小時",d:"一天",dd:"%d天",M:"一個月",MM:"%d個月",y:"一年",yy:"%d年"}})}),window.gettext=function(){var e;document.cookie.match(/lang=zh-tw/)?e=1:document.cookie.match(/lang=en/)&&(e=0);var t={"Point deleted successfully.":["Point deleted successfully.","刪除成功。"],"successfully.":["successfully.","成功"],"Point was changed to":["Point was changed to","更新地圖"],"View Details":["View Details","詳細資料"]};return function(n){return t[n][e]}}(),function(){window.mappingbird={initializations:null,services:null,resources:null,directives:null,analytics:null,utilities:null,SignupApp:null,SettingsApp:null,SaveApp:null,LoginApp:null,IndexApp:null,FooterApp:null}}(),function(){window.console||(window.console={log:function(){return!1},data:function(){return!1}})}(),function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n;if(null==this)throw new TypeError('"this" is null or not defined');var o=Object(this),i=o.length>>>0;if(0===i)return-1;var r=+t||0;if(Math.abs(r)===1/0&&(r=0),r>=i)return-1;for(n=Math.max(r>=0?r:i-Math.abs(r),0);i>n;){if(n in o&&o[n]===e)return n;n++}return-1})}(),function(e){void 0!==e.google&&"undefined"!=typeof google.maps.Map&&(google.maps.Map.prototype.boundsAt=function(e,t,n,o){var i=n||this.getProjection();if(!i)return void 0;var r=$(o||this.getDiv()),a=2*Math.pow(2,e),s=r.width()/a,l=r.height()/a,c=i.fromLatLngToPoint(t||this.getCenter());return new google.maps.LatLngBounds(i.fromPointToLatLng(new google.maps.Point(c.x-s,c.y+l)),i.fromPointToLatLng(new google.maps.Point(c.x+s,c.y-l)))})}(window),function(e){function t(){}function n(e,t,n,o,i){this.bounds_=o.boundsAt(t),this.image_=n,this.map_=o,this.latlng_=i,this.div_=null,this.setMap(o)}function o(e,t,n,o,i,r,a,s,l,c,u,d,p,f){this.bounds_=o.boundsAt(t),this.zoom_=t,this.image_=n,this.map_=o,this.placeName_=s,this.placeAddress_=l,this.placePhone_=c,this.id_=i,this.latlng_=r,this.type_=a,this.defaultState_=u||"open",this.overlayType_=d||"save",this.callback_=p,this.popupClickCallback_=f,this.div_=null,this.checkmark_=null,this.popup_=null,this.icon_=null,this.tip_=null,this.setMap(o)}function i(e,t,n,o,i,r,a,s){this.bounds_=e,this.zoom_=t,this.map_=n,this.latlng_=i,this.type_=r,this.title_=a,this.message_=s,this.div_=null,this.popup_=null,this.icon_=null,this.setMap(n)}function r(e,t,n,o,i,r,a,s,l,c,u){this.bounds_=o.boundsAt(t),this.zoom_=t,this.image_=n,this.map_=o,this.placeName_=a,this.placeAddress_=s,this.placePhone_=l,this.point_=c,this.pointTitle_=c.title,this.pointUrl_=c.url,this.pointText_=c.text,this.pointImages_=c.images,this.latlng_=i,this.markerArray_=u,this.div_=null,this.setMap(o)}void 0!==e.google&&(t.prototype=new google.maps.OverlayView,t.prototype.onAdd=function(){},t.prototype.draw=function(){var e=this.getProjection(),t=e.fromLatLngToDivPixel(this.latlng_),n=this.div_;n.style.left=t.x-$(n).width()/2+"px",n.style.top=t.y-$(n).height()+"px"},t.prototype.onRemove=function(){this.div_.parentNode.removeChild(this.div_),this.div_=null},t.prototype.hide=function(){this.div_&&(this.div_.style.visibility="hidden")},t.prototype.show=function(){this.div_&&(this.div_.style.visibility="visible")},t.prototype.toggle=function(){this.div_&&("hidden"==this.div_.style.visibility?this.show():this.hide())},t.prototype.toggleDOM=function(){this.getMap()?this.setMap(null):this.setMap(this.map_)},n.prototype=new t,n.prototype.constructor=n,n.prototype.onAdd=function(){var e=$('<div class="map-pin">');e.append($('<div class="pin-img" style="background-image: url('+this.image_+')"></div>')),this.div_=e[0];var t=this.getPanes();t.overlayMouseTarget.appendChild(e[0])},o.prototype=new t,o.prototype.constructor=o,o.prototype.onAdd=function(){console.log("add new small overlay");var e=$('<div class="pingismo-pin" id="pin-'+this.id_+'"/>'),t=$('<a href="#" class="pin-'+this.type_+'" title="'+this.placeName_+'"></a>'),n=$('<a href="javascript:void(0);" class="pin-popup-img show-details-btn"></a>'),o=$('<div class="pin-popup" />'),i=$("<p><strong>"+this.placeName_+"</strong></p>"),r=$('<p class="pin-popup-settings">'+gettext("View Details")+"</p>"),a=$('<p class="pin-popup-triangle"></p>'),s=$('<i class="icon-check pull-right"></i>'),l=this;e.append(t),e.append(s),o.append(n),o.append(i),o.append(r),o.append(a),this.div_=e[0],this.checkmark_=s,this.popup_=o[0],this.icon_=t,this.tip_=n;var c=this.getPanes();c.overlayMouseTarget.appendChild(e[0]),t.addClass("showme").css({display:"block"}),c.floatPane.appendChild(o[0]),o.addClass("showme"),$(r).on("click",function(e){e.preventDefault(),e.stopPropagation(),l.callback_()}),$(t).on("click",function(e){e.preventDefault(),e.stopPropagation();var t=$(this).offset().left,n=$(this).offset().top;"function"==typeof l.popupClickCallback_&&l.popupClickCallback_(e,t,n),$(this).removeClass("showme"),$(this).parent().hasClass("active")&&"block"==$(o).css("display")?$(this).parent().removeClass("active"):$(this).parent().hasClass("active")||($(".pingismo-pin").removeClass("active"),$(this).parent().addClass("active")),$(o).toggle()}),this.image_?this.tip_.css({backgroundImage:'url("'+this.image_+'")'}):this.tip_.css({backgroundImage:'url("../static/img/default_noimages.png")'}),"closed"===this.defaultState_&&$(o).hide(),"save"===this.overlayType_&&n.children("i").hide()},o.prototype.changeType=function(e){this.icon_&&(this.icon_.removeClass("pin-"+this.type_),this.type_=e,this.icon_.addClass("pin-"+this.type_))},o.prototype.hidePopup=function(){$(this.popup_).hide()},o.prototype.setImage=function(e){console.log("setImage"),console.log(e),this.tip_&&e&&this.tip_.css({backgroundImage:'url("'+e+'")'})},o.prototype.showSavedCheckmark=function(){console.log("showSavedCheckmark"),$(this.popup_).hide(),this.checkmark_.show()},o.prototype.hideSavedCheckmark=function(){console.log("hideSavedCheckmark"),this.checkmark_.hide()},o.prototype.draw=function(){var e=this.getProjection(),t=e.fromLatLngToDivPixel(this.latlng_),n=this.div_;n.style.left=t.x+"px",n.style.top=t.y-$(n).height()+"px";var o=this.popup_;$(o).css({left:t.x+"px",top:t.y-$(o).height()+"px"})},o.prototype.onRemove=function(){this.div_.parentNode.removeChild(this.div_),this.popup_.parentNode.removeChild(this.popup_)},i.prototype=new t,i.prototype.constructor=i,i.prototype.onAdd=function(){var e=$('<div class="pingismo-pin message-overlay" />'),t=$('<a href="#" class="pin-'+this.type_+'"></a>'),n=$('<div class="message-popup pin-popup" />'),o=$("<p><strong>"+this.title_+"</strong>"+this.message_+"</p>");e.append(t),n.append(o),e.append(n),this.div_=e[0],this.popup_=n,this.icon_=t;var i=this.getPanes();i.overlayMouseTarget.appendChild(e[0]),t.addClass("showme").css({display:"block"}),i.floatPane.appendChild(n[0]),n.addClass("showme")},i.prototype.draw=function(){var e=this.getProjection(),t=e.fromLatLngToDivPixel(this.latlng_),n=this.div_;n.style.left=t.x+"px",n.style.top=t.y-$(n).height()+"px";var o=this.popup_;$(o).css({left:t.x+"px",top:t.y-$(o).height()+"px"})},r.prototype=new t,r.prototype.constructor=r,r.prototype.onAdd=function(){function t(){$($(n[0]).find(".refer-pics")[0]).mCustomScrollbar({horizontalScroll:!0,scrollInertia:0})}var n=$('<div class="map-tip max-tip" />'),i=$('<a class="tip-expand-collapse is-expanded" href="#" id="tip-switch"></a>'),r=this,a="",s=this.pointImages_.length,l=this.pointImages_.length,c=0;if(s>0){for(a='<div class="refer-pics"><ul>';s--;)a+='<li><a href="#"><img src="'+this.pointImages_[s].url+'" /></a></li>';a+="</ul></div>"}n.append($('<div class="tip-content"><div class="from-google"><div class="pin-img" style="background-image: url('+this.image_+')"></div><div class="context"><h2>'+this.placeName_+"</h2><p>"+this.placeAddress_+"</p><p>"+this.placePhone_+'</p></div></div><hr /><div class="refer-context"><h2>'+this.pointTitle_+'</h2><a href="'+this.pointUrl_+'" target="_blank" class="url">'+this.pointUrl_+'</a><p class="context">'+this.pointText_+"</p></div>"+a+'</div><div class="tip-footer"></div>')),this.div_=n[0];var u=this.getPanes();u.floatPane.appendChild(n[0]),$(n[0]).prepend(i),$(i).on("click",{bounds:this.bounds_,zoom:this.zoom_,image:this.image_,map:this.map_,latlng:this.latlng_,name:this.placeName_,address:this.placeAddress_,phone:this.placePhone_,point:this.point_,markerArray:this.markerArray_},function(e){r.markerArray_.push(new o(e.data.bounds,e.data.zoom,e.data.image,e.data.map,e.data.id,e.data.latlng,e.data.name,e.data.address,e.data.phone,e.data.point,e.data.markerArray)),r.getMap()&&r.setMap(null)}),$().mCustomScrollbar&&$(this.div_).find(".refer-pics img").error(function(){$(this).remove(),++c==l&&e.setTimeout(t,0)}).load(function(){++c==l&&e.setTimeout(t,0)}),$().truncate&&$(n[0]).find(".context").truncate({width:"auto",token:"&hellip;",side:"right",multiline:!0})},r.prototype.draw=function(){var e=this.getProjection(),t=e.fromLatLngToDivPixel(this.latlng_),n=this.div_;n.style.left=3+t.x-$(n).width()/2+"px",n.style.top=t.y-$(n).height()-49+"px"},e.BucketListOverlay=t,e.BucketListPin=n,e.BucketListSmallOverlay=o,e.BucketListMessageOverlay=i,e.BucketListLargeOverlay=r)}(window),function(){mappingbird.utilities=angular.module("mappingbird.utilities",[]).provider("Utility",function(){var e;this.setupUtilities=function(t){e=t},this.getParameterByName=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t),o=n.exec(window.location.search);return null===o?"":decodeURIComponent(o[1].replace(/\+/g," "))},this.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},this.getRandomInt=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},this.arraysAreEqual=function(e,t){if(!e||!t)return!1;if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]instanceof Array&&t[n]instanceof Array){if(!this.arraysAreEqual(e[n],t[n]))return!1}else if(e[n]!=t[n])return!1;return!0},this.$get=["$injector",function(e){return this.setupUtilities(e),{getParameterByName:this.getParameterByName,isNumber:this.isNumber,getRandomInt:this.getRandomInt,arraysAreEqual:this.arraysAreEqual}}]})}(),function(){mappingbird.directives=angular.module("mappingbird.directives",[]),mappingbird.services=angular.module("mappingbird.services",[]),mappingbird.resources=angular.module("mappingbird.resources",["ngResource"]),mappingbird.initializations=angular.module("Initialization",["mappingbird.directives","mappingbird.services","mappingbird.resources","mappingbird.utilities","mappingbird.analytics","ngCookies","ui.bootstrap"],["$httpProvider","$dialogProvider","$interpolateProvider",function(e,t,n){
e.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=utf-8",e.defaults.transformRequest=[function(e){var t=function(e){var n,o,i,r,a,s,l,c="";for(n in e)if(o=e[n],o instanceof Array)for(l=0;l<o.length;++l)a=o[l],i=n+"["+l+"]",s={},s[i]=a,c+=t(s)+"&";else if(o instanceof Object)for(r in o)a=o[r],i=n+"["+r+"]",s={},s[i]=a,c+=t(s)+"&";else void 0!==o&&null!==o&&(c+=encodeURIComponent(n)+"="+encodeURIComponent(o)+"&");return c.length?c.substr(0,c.length-1):c};return angular.isObject(e)&&"[object File]"!==String(e)?t(e):e}],n.startSymbol("[["),n.endSymbol("]]")}]),mappingbird.initializations.run(["$http","$cookies",function(e,t){e.defaults.headers.common["X-CSRFToken"]=t.csrftoken,e.defaults.headers.post["X-CSRFToken"]=t.csrftoken,e.defaults.headers.put["X-CSRFToken"]=t.csrftoken,e.defaults.headers.patch["X-CSRFToken"]=t.csrftoken,"zh-tw"===t.lang&&window.moment.lang("zh-tw")}]),UserVoice=window.UserVoice||[],function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//widget.uservoice.com/3vZRrvRQzyD9jdYG1Lb3RQ.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}(),UserVoice.push(["set",{accent_color:"#448dd6",trigger_color:"white",trigger_background_color:"#448dd6"}]),UserVoice.push(["identify",{}]),UserVoice.push(["addTrigger",{mode:"contact",trigger_position:"bottom-right"}]),UserVoice.push(["autoprompt",{}])}(),mappingbird.LoginApp=angular.module("LoginApp",["Initialization"]),mappingbird.LoginApp.controller("mainController",["$scope","$timeout","Presets","BroadcastService","User","UserResource","UserLogin","Analytics",function(e,t,n,o,i,r,a,s){e.email="",e.password="",e.errorInvalidLogin=!1,e.checkInput=function(t){console.log("checkInput"),e.email.length>0?e.password.length>=6?e.attemptLogin():(e.errorInvalidLogin=!0,s.registerEvent("Login","Login failed - password too short","Login Page")):(e.errorInvalidLogin=!0,s.registerEvent("Login","Login failed - no email address","Login Page"))},e.attemptLogin=function(){console.log("attemptLogin");var t={email:e.email,password:e.password};a.local.save(t,function(t,n){"undefined"!=typeof t&&"undefined"!=typeof t.user&&"undefined"!=typeof t.user.email&&"undefined"!=typeof t.user.id?window.location.href="/app":(e.errorInvalidLogin=!0,s.registerEvent("Login","Login failed - invalid credentials","Login Page"))})},e.attemptFBLogin=function(){console.log("attemptFBLogin"),FB.login(function(t){if(t.authResponse){console.log("Welcome!  Fetching your information.... ");var n={accessToken:t.authResponse.accessToken,signedRequest:t.authResponse.accessToken,userID:t.authResponse.userID};a.facebook.save(n,function(t,n){"undefined"!=typeof t?window.location.href="/app":(e.errorInvalidLogin=!0,s.registerEvent("Login","Login failed - invalid credentials","Login Page"))})}else console.log("User cancelled login or did not fully authorize.")},{scope:"public_profile,email"})}}]),mappingbird.SaveApp=angular.module("SaveApp",["Initialization","ui.router","ngTagsInput","angularMoment","ui.sortable"]),mappingbird.SaveApp.config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("savePoint",{url:"/save?url&search",template:"<span></span>",controller:["BroadcastService","User","$stateParams","$scope","$location",function(e,t,n,o,i){function r(){e.prepForBroadcast({type:"viewSearchResults",data:{url:n.url,search:n.search}}),"function"==typeof a&&a()}var a;1==t.data.isLoggedIn?r():a=o.$on("stateChange",function(){"collectionsLoaded"==e.message.type&&e.message.data.isFirstTime&&(e.message.data.hasCollectionsSaved&&/(^http:\/\/www.mappingbird.com|^http:\/\/localhost)/.test(n.url)&&0==n.search.length?window.location.href="/app#/":r())})}]}).state("viewCollection",{url:"/collection/:collectionId",template:"<span></span>",controller:["BroadcastService","User","$stateParams","$scope",function(e,t,n,o){function i(){e.prepForBroadcast({type:"viewingCollection",data:{collectionId:n.collectionId}}),"function"==typeof r&&r()}var r;1==t.data.isLoggedIn?i():r=o.$on("stateChange",function(){"collectionsLoaded"==e.message.type&&e.message.data.hasCollectionsSaved&&i()})}]}).state("viewPointSearchResults",{url:"/search/:searchInput",template:"<span></span>",controller:["BroadcastService","User","$stateParams","$scope",function(e,t,n,o){function i(){e.prepForBroadcast({type:"viewingPointSearchResults",data:{searchInput:n.searchInput}}),"function"==typeof r&&r()}var r;1==t.data.isLoggedIn?i():r=o.$on("stateChange",function(){"collectionsLoaded"==e.message.type&&e.message.data.hasCollectionsSaved&&i()})}]}).state("viewCollectionSimple",{url:"/collection/:collectionId",template:"<span></span>",controller:["BroadcastService","User","$stateParams","$scope",function(e,t,n,o){}]}).state("viewCollectionList",{url:"/collection/:collectionId/list",template:"<span></span>",controller:["BroadcastService","User","$stateParams","$scope",function(e,t,n,o){function i(){e.prepForBroadcast({type:"viewingCollectionList",data:{collectionId:n.collectionId}}),"function"==typeof r&&r()}var r;1==t.data.isLoggedIn?i():r=o.$on("stateChange",function(){"collectionsLoaded"==e.message.type&&e.message.data.hasCollectionsSaved&&i()})}]}).state("default",{url:"/",template:"<span></span>",controller:["BroadcastService","Collections","$stateParams","$scope",function(e,t,n,o){function i(){e.prepForBroadcast({type:"viewingCollection",data:{collectionId:t.mostRecentModifiedCollection}}),"function"==typeof r&&r()}var r;-1!==t.activeCollectionId?i():r=o.$on("stateChange",function(){"collectionsLoaded"==e.message.type&&i()})}]}).state("viewPoint",{url:"/point/:pointId/:collectionId?dbc",template:"<span></span>",controller:["BroadcastService","Collections","$stateParams","$scope",function(e,t,n,o){function i(t){e.prepForBroadcast({type:t,data:{collectionId:n.collectionId,pointId:n.pointId}}),"function"==typeof r&&r()}var r;n.dbc?i("pointDbSelected"):-1!==t.activeCollectionId?i("pointSelected"):r=o.$on("stateChange",function(){"collectionsLoaded"==e.message.type&&e.message.data.hasCollectionsSaved&&i("pointSelected")})}]}),t.otherwise("/")}]),mappingbird.SettingsApp=angular.module("SettingsApp",["Initialization"]),mappingbird.SettingsApp.controller("mainController",["$scope","$timeout","Presets","BroadcastService","User","UserResource","CurrentUser","UserLogin","UserLogout","$http","$cookies","$window","Analytics",function(e,t,n,o,i,r,a,s,l,c,u,d,p){e.id="",e.isLoggedIn=!1,e.email="",e.old_password="",e.new_password="",e.confirm_password="",e.errorPasswordTooShort=!1,e.errorOldPasswordIncorrect=!1,e.errorNewPasswordsNoMatch=!1,e.errorOldPasswordNewPasswordSame=!1,e.passwordChanged=!1,e.logout=function(e){e.preventDefault(),e.stopPropagation(),l.get(function(e,t){delete u.sessionid,d.location.href="/"})},e.checkInput=function(t){if(e.errorPasswordTooShort=!1,e.errorOldPasswordIncorrect=!1,e.errorNewPasswordsNoMatch=!1,e.errorOldPasswordNewPasswordSame=!1,e.errorNewPasswordsNoMatch=!1,console.log("checkInput"),e.old_password.length>=6){var n={email:e.email,password:e.old_password};s.local.save(n,function(t,n){var o,i=document.cookie.indexOf("csrftoken=")+"csrftoken=".length;i>-1&&(o=document.cookie.substring(i),c.defaults.headers.post["X-CSRFToken"]=o),"undefined"!=typeof t&&"undefined"!=typeof t.user&&"undefined"!=typeof t.user.email&&"undefined"!=typeof t.user.id?e.old_password!=e.new_password?e.new_password.length>=6?e.new_password!=e.confirm_password?e.errorNewPasswordsNoMatch=!0:(f(),p.registerEvent("Password","Change password success","Settings Page")):(e.errorPasswordTooShort=!0,p.registerEvent("Password","Change password error - password too short","Settings Page")):(e.errorOldPasswordNewPasswordSame=!0,p.registerEvent("Password","Change password error - new password same as old password","Settings Page")):(e.errorOldPasswordIncorrect=!0,p.registerEvent("Password","Change password error - old password incorrect","Settings Page"))})}else e.errorOldPasswordIncorrect=!0,p.registerEvent("Password","Change password error - old password incorrect","Settings Page")};var f=function(){console.log("changePassword");var t={id:e.id,email:e.email,password:e.new_password};r.update(t,function(t,n){e.old_password="",e.new_password="",e.confirm_password="",e.passwordChanged=!0})};a.get(function(t){"undefined"!=typeof t.id&&"undefined"!=typeof t.email?(e.isLoggedIn=!0,e.id=t.id,e.email=t.email):d.location.href="/"})}]),mappingbird.SignupApp=angular.module("SignupApp",["Initialization"]),mappingbird.SignupApp.controller("mainController",["$scope","$timeout","Presets","BroadcastService","User","UserResource","CurrentUser","$http","Analytics",function(e,t,n,o,i,r,a,s,l){e.id="",e.email="",e.password="",e.errorEmailAlreadyRegistered=!1,e.errorEmailRequired=!1,e.errorPasswordTooShort=!1,e.accountCreated=!1,e.checkInput=function(t){if(e.errorEmailAlreadyRegistered=!1,e.errorEmailRequired=!1,e.errorPasswordTooShort=!1,e.email.length>0)if(e.password.length>=6){a.get(function(t){"undefined"!=typeof t.id&&"undefined"!=typeof t.email?e.id=t.id:e.addUser()})}else e.errorPasswordTooShort=!0,l.registerEvent("Signup","Signup failed - password too short","Signup Page");else e.errorEmailRequired=!0,l.registerEvent("Signup","Signup failed - invalid email address","Signup Page")},e.addUser=function(){console.log("addUser");var t={email:e.email,password:e.password};r.save(t,function(t,n){e.accountCreated=!0,l.registerEvent("Signup","Signup success - new user created","Signup Page"),$("footer").css("position","relative")},function(t){t.data&&(console.log("Signup error:",t),e.errorEmailAlreadyRegistered=!0)})},e.installExtension=function(){e.dark=!0,e.extensionTooltip=!0,chrome.webstore.install("https://chrome.google.com/webstore/detail/ipjijcfmgfehpiiigjgjdgkldeligkfo",function(){e.dark=!0,e.extensionTooltip=!1,e.extensionModal=!0,e.$digest()},function(t){e.dark=!1,e.extensionTooltip=!1,e.extensionModal=!1,e.$digest()})}}]),mappingbird.SaveApp.controller("userController",["$scope","$cookies","$http","$resource","$window","User","UserResource","Presets","BroadcastService","CurrentUser","UserLogin","UserLogout","Token","TagResource","Analytics","Utility","$state",function(e,t,n,o,i,r,a,s,l,c,u,d,p,f,h,m,g){e.user=c.get(function(t){console.log("user data"),console.log(t),"undefined"!=typeof t.id&&"undefined"!=typeof t.email?(console.log("user logged in"),r.data.emailAddress=t.email,r.data.id=t.id,r.data.isRegisteredUser=!0,r.data.isLoggedIn=!0,e.isLoggedIn=!0,e.tags=f.getTags(function(e){for(var t=e.length,n=[];t--;)e[t].name&&n.unshift({text:e[t].name});r.data.tags=n}),l.prepForBroadcast({type:"userLoaded",data:{userId:t.id}})):(console.log("user not logged in"),i.location.href="/")}),e.goToSignUpPage=function(){i.location.href="/signup"},e.logout=function(e){e.preventDefault(),e.stopPropagation(),d.get(function(e,n){h.registerEvent("Account","Logged Out","Account Menu"),delete t.sessionid,i.location.href="/"})},e.focus=!1,e.cleanSearch=function(t){e.focus=!1,e.searchContent="",console.log(e.focus)},e.searchKeypress=function(t){console.log("keypress"),13===t.which&&e.goSearch(t)},e.goSearch=function(t){t.preventDefault(),t.stopPropagation(),e.focus=!1,console.log(e.searchContent),g.go("viewPointSearchResults",{searchInput:e.searchContent})},e.focusSearch=function(t){e.focus=!0,console.log(e.focus)},e.blurSearch=function(){e.focus=!1,console.log(e.focus)},e.$on("stateChange",function(){switch(console.log("[[[stateChange in savePageController]]]"),console.log(l.message.type),data=l.message.data,console.log(data),l.message.type){case"viewingPointSearchResults":e.searchContent=data.searchInput}})}]),mappingbird.SaveApp.controller("savePageController",["$rootScope","$scope","$timeout","Presets","BroadcastService","Collections","CollectionsByUserResource","User",function(e,t,n,o,i,r,a,s){function l(){}function c(){l(),t.mapMode=!0,t.saveMode=!1,t.collectionsMode=!1,t.showCollectionList=!0,t.showSavePanel=!1,t.showPointDetailPanel=!1,t.fullTallMap=!1,t.fullMap=!0,t.mapRetracted=!1,t.semiRetractedMap=!1,t.halfMap=!1,t.listMode=!1}function u(e){l(),t.mapMode=!1,t.saveMode=!0,t.collectionsMode=!1,t.showCollectionList=!1,t.showSavePanel=!0,t.showPointDetailPanel=!1,t.fullTallMap=!1,t.fullMap=!1,t.mapRetracted=!1,t.semiRetractedMap=!0,t.halfMap=!1,t.listMode=!1}function d(){l(),t.mapMode=!1,t.saveMode=!0,t.collectionsMode=!1,t.showCollectionList=!1,t.showSavePanel=!0,t.showPointDetailPanel=!1,t.fullTallMap=!1,t.fullMap=!1,t.mapRetracted=!0,t.semiRetractedMap=!1,t.halfMap=!1,t.listMode=!1}function p(e){l(),t.mapMode=!1,t.saveMode=!1,t.collectionsMode=!1,t.showCollectionList=!0,t.showSavePanel=!1,t.showPointDetailPanel=!0,t.fullTallMap=!1,t.fullMap=!1,t.mapRetracted=!1,t.semiRetractedMap=!1,t.halfMap=!1,"dbclickCollection"==e&&(t.dbclickCollection=!0)}function f(){l(),t.mapMode=!1,t.saveMode=!1,t.collectionsMode=!0,t.showCollectionList=!0,t.showSavePanel=!1,t.showPointDetailPanel=!1,t.fullTallMap=!1,t.fullMap=!1,t.mapRetracted=!1,t.semiRetractedMap=!0,t.halfMap=!1}function h(){t.collectionsMode=!1,t.semiRetractedMap=!1,t.fullMap=!0}function m(e){l(),t.mapMode=!1,t.saveMode=!1,t.showCollectionList=!0,t.showSavePanel=!1,t.showPointDetailPanel=!1,t.fullTallMap=!1,t.mapRetracted=!1,t.halfMap=!1,t.listMode=!0,"search"==e&&(t.toggleList=!1)}function g(){t.listMode=!1,t.collectionsMode?t.semiRetractedMap=!0:(t.semiRetractedMap=!1,t.fullMap=!0)}function v(e){var n,o=e?!0:!1;t.collectionsByUser=a.get({user_id:s.data.id},function(e){console.log("reloadCollections"),e.collections.length>0?(r.collections=e.collections,"undefined"!=typeof e.most_recent_modified_collection&&(r.mostRecentModifiedCollection=e.most_recent_modified_collection),console.log(r),n=!0):n=!1,i.prepForBroadcast({type:"collectionsLoaded",data:{isFirstTime:o,hasCollectionsSaved:n,isRegisteredUser:s.data.isRegisteredUser}})})}t.collectionsByUser=[],t.mapVisible=!0,t.saveMode=!1,t.collectionsMode=!1,t.mapMode=!1,t.pointMode=!1,t.listMode=!1,t.dbclickCollection=!1,t.toggleList=!0,t.$on("closeSearch",function(){t.toggleList=!0}),t.$on("stateChange",function(){switch(console.log("[[[stateChange in savePageController]]]"),console.log(i.message.type),data=i.message.data,console.log(data),i.message.type){case"pointSelected":p();break;case"pointDbSelected":p("dbclickCollection");break;case"pointClosed":case"viewingCollection":c();break;case"viewingPointSearchResults":m("search",data);break;case"viewingCollectionList":m();break;case"closeCollectionListView":g();break;case"viewSearchResults":case"pointViewingMode":u();break;case"pointSavingMode":d();break;case"pointSaveComplete":c();break;case"viewingCollections":f();break;case"closeCollections":h();break;case"userLoaded":r.collections&&0==r.collections.length&&v(!0);break;case"viewingPointSearchResults":break;case"collectionUpdate":v()}})}]),mappingbird.SaveApp.controller("searchResultsController",["$scope","$dialog","$http","$q","$cookieStore","Presets","MapPoints","User","UserResource","Collection","Collections","PointResource","BroadcastService","PointImage","Scraper","Analytics",function(e,t,n,o,i,r,a,s,l,c,u,d,p,f,h,m){function g(){e.userDontShowSearchTip||e.noSearchQuery||e.noSearchResults?e.showSearchTip=!1:e.showSearchTip=!0}function v(t,n){console.log("placesSearchCallback"),console.log(t);var o,i=t.length,r=t.length;if(b=new Date,"undefined"!=typeof ga&&(o=(b.getTime()-w.getTime())/1e3,console.log("Google Places Search response time (secs): "+o),m.registerEvent("Performance","Google Places Search","Save Panel",o)),e.$apply(function(){e.numResults=t.length,e.searchResultsLoading=!1,e.searchResultsLoaded=!0}),"undefined"!=typeof t&&i>0){for(console.log("there are search results"),console.log(i);i--;)e.places.unshift({index:i,icon:t[i].icon,name:t[i].name,address:t[i].formatted_address,phone:"",location:{place_name:t[i].name,place_address:t[i].formatted_address,coordinates:t[i].geometry.location.lat()+","+t[i].geometry.location.lng()},coords:t[i].geometry.location.lat()+","+t[i].geometry.location.lng(),type:t[i].type||"misc",lat:t[i].geometry.location.lat(),lng:t[i].geometry.location.lng()});e.$apply(),1===r?(e.setActiveSavePoint(null,0),console.log("set activeSavePoint single"),console.log(e.activeSavePoint),m.registerEvent("Search","One search result","Save Panel")):(e.setActiveSavePoint(null,0,!0),console.log("set activeSavePoint multiple"),console.log(e.activeSavePoint),m.registerEvent("Search","Multiple search results","Save Panel")),e.$emit("placesLoaded")}else console.log("no places search result"),e.$apply(function(){e.noSearchResults=!0}),e.lastSearchQuery=e.searchQuery,e.places.length>0&&e.places.splice(0,e.places.length),p.prepForBroadcast({type:"noSearchResults",data:{}}),m.registerEvent("Search","No search results","Save Panel")}console.log("init searchResultsController");var y,w,b;e.presets=r,e.numResults=0,e.searchQuery="",e.lastSearchQuery="",e.targetUrl="",e.placesApiUrl="",e.searchResultsLoading=!1,e.searchResultsLoaded=!1,e.searchResultSelected=!1,e.places=[],e.newCollectionName="",e.activeCollectionName="",e.pageData={},e.pageImages=[],e.pageAddresses=[],e.selectedPageImages={},e.deselectedPageImages={},e.noSearchQuery=!1,e.noSearchResults=!1,e.activeSearchResult=-1,e.showSelectCollection=!1,e.saveCollectionId,e.saveCollectionName,e.noCollectionError=!1,e.showSearchTip=!1,e.userDontShowSearchTip=i.get("dontShowSearchTip")||!1,e.placeImagesLoaded=!1,e.tags=[],e.$watch(function(){return u.collections},function(t){console.log("Collections watcher: "+e.activeCollectionId),e.collections=t,-1==e.activeCollectionId&&e.collections&&e.collections.length>0?(console.log("setting active collection"),console.log(e.collections),console.log(e.collections.length),e.collections.length>1&&-1!==u.mostRecentModifiedCollection?(console.log("mostRecentModifiedCollection"),e.activeCollectionId=u.mostRecentModifiedCollection):(console.log("active collection is the first collection"),console.log(e.collections[0].id),e.activeCollectionId=e.collections[0].id),e.saveCollectionId=e.activeCollectionId):console.log("activeCollectionId already set")},!0),e.$watch("collections",function(e){u.collections=e}),e.$watch(function(){return s.data.tags},function(t){e.tags=t}),e.$watch(function(){return a.activeSavePoint},function(t){e.activeSavePoint=t,console.log("set scope.activeSavePoint"),console.log(e.activeSavePoint)}),e.$watch("activeSavePoint",function(e){a.activeSavePoint=e}),e.$watch(function(){return u.activeCollectionId},function(t){e.activeCollectionId=t}),e.$watch("activeCollectionId",function(t){if(console.log("triggered watcher of activeCollectionId"),u.activeCollectionId=t,e.collections.length>0)for(var n in e.collections)if(e.collections[n].id==t){e.activeCollectionName=e.collections[n].name;break}}),e.$watch("saveCollectionId",function(t){if(e.collections.length>0)for(var n in e.collections)if(e.collections[n].id==t){e.saveCollectionName=e.collections[n].name;break}}),e.$watch("activeSavePoint.type",function(e){p.prepForBroadcast({type:"savePointTypeChange",data:{savePointType:e}})}),e.$watch("pageImages",function(e){"undefined"!=typeof e&&e.length>0&&p.prepForBroadcast({type:"savePointSetImage",data:{imageUrl:e[0]}})}),e.$watch("userDontShowSearchTip",function(e){g()}),e.$watch("noSearchResults",function(e){g()}),e.$watch("noSearchQuery",function(e){g()}),e.getPageData=function(){console.log("getPageData"),e.targetUrl?h.get({url:e.targetUrl},function(t,n){console.log("getPageData return"),console.log(t),e.pageData={title:t.title,text:t.text},e.pageImages=t.images,t.address&&t.address.length>0}):(console.log("no url"),m.registerEvent("Search","No URL","Save Panel"))},e.fetchPlacesSearchResults=function(){console.log("fetchPlacesSearchResults"),console.log("fetchPlacesSearchResults map"),e.searchResultsLoading=!0;var t,n=new google.maps.LatLng(0,0);new google.maps.Geocoder;y=y||new google.maps.Map($("#map")[0],{zoom:r.mapZoom,center:n,mapTypeId:google.maps.MapTypeId.ROADMAP,panControl:!0,streetViewControl:!1,zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.LARGE},scaleControl:!1}),t=new google.maps.places.PlacesService(y),console.log(y),w=new Date,t.textSearch({query:[e.searchQuery]},v)},e.setActiveSavePoint=function(t,n,o){t&&(t.preventDefault(),t.stopPropagation()),console.log("setactiveSavePoint "+n);var i,r=e.places[n],a={};console.log(r),a.title=r.name,a.type=r.type,a.location={place_name:r.name,place_address:r.address,coordinates:r.coords},a.isSavePoint=!0,a.images=[],"undefined"!=typeof e.pageImages&&e.pageImages.length>0&&(a.images=[{url:e.pageImages[0]}],p.prepForBroadcast({type:"savePointSetImage",data:{imageUrl:i}})),e.activeSavePoint=a,e.activeSearchResult=n,e.$apply(),o||e.prepSaveActiveSearchResult(),p.prepForBroadcast({type:"savePointSelected",data:{}}),p.prepForBroadcast({type:"setSaveCollection",data:{collectionId:e.activeCollectionId}})},e.prepSaveActiveSearchResult=function(){e.searchResultSelected=!0,p.prepForBroadcast({type:"pointSavingMode",data:{}})},e.cancelSaveActiveSearchResult=function(t){t&&(t.preventDefault(),t.stopPropagation()),e.searchResultSelected=!1,e.setActiveSavePoint(null,e.activeSearchResult,!0),p.prepForBroadcast({type:"pointViewingMode",data:{}})},e.saveNewCollection=function(t){function n(t){c.save(t,function(t,n){console.log("saveNewCollection successful"),console.log(t),e.collections.push(t),e.selectCollection(null,t.id),e.newCollectionName="",p.prepForBroadcast({type:"collectionUpdate",data:{}}),m.registerEvent("Collection","Saved new","Save Panel")})}"function"==typeof t.stopPropagation&&(t.preventDefault(),t.stopPropagation()),console.log("saveNewCollection"),console.log(e.newCollectionName),console.log(e.newCollectionName.length),e.newCollectionName.length>0?0!==s.data.id?n({name:e.newCollectionName,user:s.data.id}):l.save({email_address:"",password:""},function(t,o){console.log("generate new user successful"),console.log(t),$cookies.bkl_user=t.id,"undefined"!=typeof t.email_address&&(s.data.emailAddress=t.email_address,/@gu.mappingbird.com$/.test(t.email_address)?(s.data.isRegisteredUser=!1,m.registerEvent("User","New unregistered user","Save Panel")):(s.data.isRegisteredUser=!0,m.registerEvent("User","New registered user","Save Panel")),s.data.id=t.id),n({name:e.newCollectionName,user:t.id})}):(console.log("no new collection name error"),e.noCollectionError=!0,m.registerEvent("Collection","Failed to save - No collection name","Save Panel"))},e.clickShowSelectCollection=function(t){t.preventDefault(),t.stopPropagation(),e.showSelectCollection=!0,e.saveCollectionId=void 0},e.selectCollection=function(t,n){t&&"function"==typeof t.stopPropagation&&(t.preventDefault(),t.stopPropagation()),console.log("selectCollection"),console.log("saveCollectionId: "+n),e.saveCollectionId=n,e.showSelectCollection=!1,e.activeCollectionId=n,p.prepForBroadcast({type:"saveCollectionChanged",data:{collectionId:n}}),m.registerEvent("Collection","Changed collection","Save Panel")},e.setPointType=function(t,n){t&&(t.preventDefault(),t.stopPropagation()),e.activeSavePoint.type=n,m.registerEvent("Point","Changed point type","Save Panel")},e.savePoint=function(t){t&&(t.preventDefault(),t.stopPropagation());var n,o,i=e.pageData.tags,r="";if("undefined"!=typeof e.saveCollectionId){if(e.noCollectionError=!1,"undefined"!=typeof i.length&&i.length>0)for(o in i)r+=i[o].text+",";else r="";n={title:e.pageData.title,url:e.targetUrl,description:e.pageData.text,tags:r,place_name:e.activeSavePoint.location.place_name,place_address:e.activeSavePoint.location.place_address,place_phone:"",coordinates:e.activeSavePoint.location.coordinates,type:e.activeSavePoint.type,collection:e.saveCollectionId},p.prepForBroadcast({type:"pointSaveRequested",data:{}}),d.save(n,function(t,n){console.log("save point successful");var o,i=t.id;for(var r in e.selectedPageImages)o={url:e.selectedPageImages[r],point:i},f.save(o,function(e,t){console.log("save image successful")});e.activeCollectionId=e.saveCollectionId,p.prepForBroadcast({type:"pointSaveComplete",data:{savedCollectionId:e.saveCollectionId,savedCollectionName:e.saveCollectionName}}),p.prepForBroadcast({type:"collectionUpdate",data:{}}),m.registerEvent("Point","Saved new","Save Panel")})}else console.log("error: no collection selected - cannot save"),e.noCollectionError=!0,m.registerEvent("Point","Failed to save - No collection selected","Save Panel")},e.searchPlaces=function(t){t&&(t.preventDefault(),t.stopPropagation()),console.log("searchPlaces fffffffffffffffffffffffffffffffffffffffffffffffffff"),e.noSearchResults=!1,e.noSearchQuery=!1,e.searchResultSelected=!1,p.prepForBroadcast({type:"newSearch",data:{}}),e.searchQuery&&e.searchQuery.length>0&&"undefined"!==e.searchQuery?(console.log("hasSearchQuery fffffffffffffffffffffffffffffffffffffffffffffffffff"),e.placesApiUrl="https://maps.googleapis.com/maps/api/place/textsearch/json?key=AIzaSyCixleTjJLXPDQs9AIG6-18Gvx1X6M7If8&sensor=false&query="+e.searchQuery+"&callback=?",e.noSearchQuery=!1,e.fetchPlacesSearchResults(),e.getPageData(),p.prepForBroadcast({type:"pointViewingMode",data:{}}),m.registerEvent("Search","Has search query","Save Panel")):(console.log("noSearchQuery fffffffffffffffffffffffffffffffffffffffffffffffffff"),e.noSearchQuery=!0,p.prepForBroadcast({type:"noSearchQuery",data:{isRegisteredUser:s.data.isRegisteredUser}}),m.registerEvent("Search","No search query","Save Panel"))},e.displaySearchTip=function(t){t.preventDefault(),t.stopPropagation(),i.remove("dontShowSearchTip"),e.userDontShowSearchTip=!1,e.showSearchTip=!0,e.searchPlaces()},e.hideSearchTip=function(t){t.preventDefault(),t.stopPropagation(),i.put("dontShowSearchTip",!0),e.userDontShowSearchTip=!0,e.showSearchTip=!1},e.loadTags=function(t){for(var n=[],i=e.tags.length;i--;)e.tags[i].text.indexOf(t.toLowerCase())>-1&&n.unshift(e.tags[i]);var r=o.defer();return r.resolve(n),r.promise},e.$on("stateChange",function(){switch(p.message.type){case"viewSearchResults":e.targetUrl=p.message.data.url,e.searchQuery=p.message.data.search,e.searchPlaces();break;case"pointSelected":-1!=p.message.data.collectionId&&(e.activeCollectionId=p.message.data.collectionId)}}),e.$on("placeImagesLoaded",function(){console.log(">>> placeImagesLoaded received"),e.placeImagesLoaded=!0}),g()}]),mappingbird.SaveApp.controller("collectionsController",["$rootScope","$scope","Collection","Collections","MapPoints","BroadcastService","$state","Analytics","User","$http","Search",function(e,t,n,o,i,r,a,s,l,c,u){function d(){t.collectionsListVisible=!1,a.go("viewCollection",{collectionId:t.activeCollectionId}),r.prepForBroadcast({type:"viewingCollection",data:{}})}function p(e){console.log("searchCollectionPoints"),console.log(e),t.showSearchResult=!0,t.searchContent=e,e&&u.get({q:e,cid:4},function(e,t){f(e)})}function f(e){console.log("loading points for collection"),console.log(e),"undefined"!=typeof e.points&&(t.saveMode&&""!=i.activeSavePoint.name&&e.points.push(i.activeSavePoint),t.activeCollectionPoints=e.points,t.activeCollectionPointLength=e.points.length)}function h(e){console.log("refreshCollectionPoints"),console.log(e),e&&n.get({id:e},function(e,t){f(e)})}function m(e){console.log("refreshCollectionPointLength"),e&&n.get({id:e},function(e,n){console.log("getting number of points for collection"),console.log(e),"undefined"!=typeof e.points&&(t.activeCollectionPointLength=e.points.length)})}function g(){if(console.log("reduceCollectionPointLength"),t.activeCollectionPointLength){var e=parseInt(t.activeCollectionPointLength);t.activeCollectionPointLength=e-1}}function v(e,o){n.save(e,function(e,n){console.log("saveNewCollection successful"),console.log(e),t.collections.push(e),r.prepForBroadcast({type:"collectionUpdate",data:{}}),o(),s.registerEvent("Collection","Create Collection","From Collection List")})}t.activeCollectionId,t.activeCollectionPoints=[],t.activeCollectionPointLength=0,t.activeCollectionName="",t.collectionsListVisible=!1,t.editMode=!1,t.deleteCollectionId=null,t.deleteCollectionName=null,t.editCollection=[],t.deleteCollectionId=null,t.deleteCollectionName=null,t.showDeleteCollectionDialog=!1,t.showSearchResult=!1,t.searchInput,t.haveSitePrevPage=!1,t.$watch(function(){return o.activeCollectionId},function(e,n){if(console.log("Collections.activeCollectionId watcher: "+e),console.log(e+" "+n),t.activeCollectionId=e,t.collections&&t.collections.length>0){console.log("get collectionName.");for(var o in t.collections)if(t.activeCollectionId==t.collections[o].id){t.activeCollectionName=t.collections[o].name;break}}}),t.$watch("activeCollectionId",function(e){console.log("activeCollectionId watcher triggered: "+e),o.activeCollectionId=t.activeCollectionId}),t.$watch(function(){return o.collections},function(e){if(console.log("collections Collections.collections watcher triggered: "+t.activeCollectionId),t.collections=e,t.collections&&t.collections.length>0){if(console.log("setting active collection"),-1!=t.activeCollectionId){var n=!1;for(var i in t.collections)if(t.activeCollectionId==t.collections[i].id){n=!0;break}}n&&-1!=t.activeCollectionId||(t.collections.length>1&&-1!==o.mostRecentModifiedCollection?(console.log("mostRecentModifiedCollection"),t.activeCollectionId=o.mostRecentModifiedCollection):(console.log("setting active collection to first collection as default"),t.activeCollectionId=t.collections[0].id),h(t.activeCollectionId)),console.log("get collectionName");for(var i in t.collections)if(t.activeCollectionId==t.collections[i].id){t.activeCollectionName=t.collections[i].name;break}}else console.log("activeCollectionId: "+t.activeCollectionId)}),t.$watch("collections",function(e){console.log("collections local collections watcher triggered"),o.collections=e}),t.$watch("activeCollectionPoints",function(e){console.log("activeCollectionPoints changed"),console.log(e),i.activeViewPoints=e,r.prepForBroadcast({type:"mapPointsLoaded",data:{}})}),t.setActiveCollection=function(e,n){e.preventDefault(),e.stopPropagation(),console.log("setActiveCollection: "+n),t.activeCollectionId=n,s.registerEvent("Collection","Change collection","Collection List")},t.clickCollection=function(e,n,o){if(e.preventDefault(),e.stopPropagation(),console.log("clickCollection"),console.log(n),t.editMode){if("Uncategorized"===o)return;$("#deleteCollectionModal").modal("toggle"),t.deleteCollectionId=n,t.deleteCollectionName=o}else t.listMode?(console.log("viewCollection&List "+n),t.collectionsListVisible=!0,r.prepForBroadcast({type:"closeCollections",data:{}}),a.go("viewCollectionList",{collectionId:n})):(console.log("viewCollection "+n),t.collectionsListVisible=!1,a.go("viewCollection",{collectionId:n}),r.prepForBroadcast({type:"viewingCollection",data:{}}),s.registerEvent("Collection","Change collection","Collection List"))},t.deleteCollection=function(e){e.preventDefault(),e.stopPropagation(),d(),$("#deleteCollectionModal").modal("hide"),console.log("delete collection: "+t.deleteCollectionId),r.prepForBroadcast({type:"requestDeleteCollection",data:{collectionToBeDeletedId:t.deleteCollectionId,collectionToBeDeletedName:t.deleteCollectionName}}),t.editMode=!1,s.registerEvent("Collection","Delete collection","Collection List")},e.$on("$stateChangeSuccess",function(e,n,o,i,r){console.log("%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%"),console.log(e,n,o,i,r),console.log(n.name),t.haveSitePrevPage=!0,t.prevPageStateName=i.name,t.prevPageStateProp=r}),t.closeSearchResult=function(e){e.preventDefault(),e.stopPropagation(),console.log("close search result"),t.showSearchResult=!1,t.$emit("closeSearch"),t.haveSitePrevPage?a.go(t.prevPageStateName,t.prevPageStateProp):a.go("default")},t.showCollections=function(e){e.preventDefault(),e.stopPropagation(),console.log("showCollections"),t.collectionsMode?(t.collectionsListVisible=!1,r.prepForBroadcast({type:"closeCollections",data:{}})):(t.collectionsListVisible=!0,r.prepForBroadcast({type:"viewingCollections",data:{}}))},t.toggleEditMode=function(e){if(e.preventDefault(),
e.stopPropagation(),t.editMode=!t.editMode,1==t.editMode)for(var n in t.collections)t.editCollection[n]!=t.collections[n]&&(t.editCollection[n]={},t.editCollection[n].name=t.collections[n].name,t.editCollection[n].id=t.collections[n].id);else if(0==t.editMode)for(var o in t.collections)t.editCollection[o].name!=t.collections[o].name&&(c.put("/api/collections/"+t.editCollection[o].id,{name:t.editCollection[o].name,user:l.data.id},{headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"}}).success(function(e,n){s.registerEvent("Collection","Rename Collection","From Collection List",t.collections[o].name+"=>"+t.editCollection[o].name)}),t.collections[o].name=t.editCollection[o].name)},t.gotoListView=function(e){e.preventDefault(),e.stopPropagation(),a.go("viewCollectionList",{collectionId:t.activeCollectionId}),s.registerEvent("Collection","Change to List View","Collection List")},t.closeListView=function(e){e.preventDefault(),e.stopPropagation(),r.prepForBroadcast({type:"closeCollectionListView",data:{}}),a.go("viewCollectionSimple",{collectionId:t.activeCollectionId}),s.registerEvent("Collection","Close List View","Collection List")},t.gotoMapView=function(e){e.preventDefault(),e.stopPropagation(),a.go("viewCollection",{collectionId:t.activeCollectionId}),s.registerEvent("Collection","Change to Map View","Collection List")},t.createCollectionModal=function(e){e.preventDefault(),e.stopPropagation(),$("#createCollectionModal").modal("toggle"),t.newCollectionName=""},t.createCollection=function(e){e.preventDefault(),e.stopPropagation(),v({name:t.newCollectionName,user:l.data.id},function(){$("#createCollectionModal").modal("hide")})},t.$on("stateChange",function(){switch(console.log("[stateChange in collectionsController]"),console.log(r.message.type),console.log(r.message.data),r.message.type){case"deleteCollection":n["delete"]({id:r.message.data.id},function(e,t){r.prepForBroadcast({type:"collectionUpdate",data:{}})});break;case"searchPoint":n["delete"]({id:r.message.data.id},function(e,t){r.prepForBroadcast({type:"collectionUpdate",data:{}})});break;case"pointSaveComplete":"undefined"!=typeof r.message.data.savedCollectionId&&(t.activeCollectionName=r.message.data.savedCollectionName,m(r.message.data.savedCollectionId));break;case"saveCollectionChanged":case"viewingCollection":"undefined"!=typeof r.message.data.collectionId&&-1!=r.message.data.collectionId&&t.activeCollectionId!=r.message.data.collectionId&&(t.activeCollectionId=r.message.data.collectionId,h(t.activeCollectionId));break;case"viewingPointSearchResults":"undefined"!=typeof r.message.data.searchInput&&-1!=r.message.data.searchInput&&t.searchInput!=r.message.data.searchInput&&(t.searchInput=r.message.data.searchInput,p(t.searchInput));break;case"viewingCollectionList":"undefined"!=typeof r.message.data.collectionId&&-1!=r.message.data.collectionId&&t.activeCollectionId!=r.message.data.collectionId&&(t.activeCollectionId=r.message.data.collectionId,h(t.activeCollectionId));break;case"setSaveCollection":"undefined"!=typeof r.message.data.collectionId&&-1!=r.message.data.collectionId&&(t.activeCollectionId=r.message.data.collectionId,h(t.activeCollectionId));break;case"pointSelected":"undefined"!=typeof r.message.data.collectionId&&-1!=r.message.data.collectionId&&t.activeCollectionId!=r.message.data.collectionId&&(t.activeCollectionId=r.message.data.collectionId,h(t.activeCollectionId));break;case"pointChangeCollection":g()}})}]),mappingbird.SaveApp.controller("mapController",["$scope","Presets","MapPoints","BroadcastService","$state","$timeout","Analytics",function(e,t,n,o,i,r,a){function s(e){console.log("resetMapSize"),$("#map").data("transitioning",!0),"undefined"!=typeof _&&$("#map").on("transitionend.resize",function(){google.maps.event.trigger(_,"resize"),$("#map").off("transitionend.resize"),$("#map").data("transitioning",!1)}),"function"==typeof e&&$("#map").on("transitionend",function(){e(),$("#map").off("transitionend")})}function l(){console.log("displayActiveSavePoint"),console.log(e.activeSavePoint);var n,o,i="";e.activeSavePoint&&(n=e.activeSavePoint.location,o=e.activeSavePoint.location.coordinates.split(","),v=e.activeSavePoint.id,w=o[0],b=o[1],x=e.activeSavePoint.type||"scenicspot",C=new google.maps.LatLng(w,b),S.center=C,_=new google.maps.Map($("#map")[0],S),h&&h.setMap(null),m&&m.setMap(null),y=_.getBounds(),k=e.activeSavePoint.images.length>0?e.activeSavePoint.images[0].url:"",h=new BucketListSmallOverlay(y,t.mapZoom,k,_,v,C,x,n.place_name,n.place_address,i,"open","save"))}function c(e,t,n){var o=Math.pow(2,_.getZoom()),i=(new google.maps.LatLng(_.getBounds().getNorthEast().lat(),_.getBounds().getSouthWest().lng()),_.getProjection().fromLatLngToPoint(e)),r=new google.maps.Point(t/o||0,n/o||0),a=new google.maps.Point(i.x-r.x,i.y+r.y),s=_.getProjection().fromPointToLatLng(a);_.panTo(s)}function u(){console.log("map height: "+function(){return $("#map").height()}()),console.log("map width: "+function(){return $("#map").width()}()),h&&"undefined"!=typeof h.setMap&&h.setMap(null),m&&"undefined"!=typeof m.setMap&&m.setMap(null);var n;for(n in T)console.log("clearing overlays"),Object.prototype.hasOwnProperty.call(T,n)&&(console.log("clearing overlay: "+n),T[n].setMap(null));if(T={},console.log(T),e.activeViewPoints&&e.activeViewPoints.length>0){console.log("activeViewPoints"),console.log(e.activeViewPoints);var r,s,l,u,d,p,f,y,w,b,x,k=e.activeViewPoints.length,P=k,M=e.activeViewPoints[0],D=new google.maps.LatLngBounds,E=new google.maps.OverlayView,A=$("#map").width()-332,I=130;for(E.onAdd=function(){},E.onRemove=function(){},E.draw=function(){},E.setMap(_),b=E.getProjection();P--;)f=e.activeViewPoints[P].location.coordinates.split(","),e.activeViewPoints[P].lat=Number(f[0]),e.activeViewPoints[P].lng=Number(f[1]),"undefined"!=typeof e.activeViewPoints[P].isSavePoint&&e.activeViewPoints[P].isSavePoint&&(console.log("savepoint: "+P),M=e.activeViewPoints[P]),D.extend(new google.maps.LatLng(e.activeViewPoints[P].lat,e.activeViewPoints[P].lng));for(C=new google.maps.LatLng(M.lat,M.lng),S.center=C,_=_||new google.maps.Map($("#map")[0],S),_.fitBounds(D);k--;)v=e.activeViewPoints[k].id,r=e.activeViewPoints[k].lat,s=e.activeViewPoints[k].lng,l=e.activeViewPoints[k].type||"scenicspot",u=e.activeViewPoints[k].title,d=e.activeViewPoints[k].location.place_address,p=e.activeViewPoints[k].location.place_phone||"",y=e.activeViewPoints[k].images&&e.activeViewPoints[k].images.length>0?e.activeViewPoints[k].images[0].url:"","undefined"!=typeof e.activeViewPoints[k].isSavePoint&&e.activeViewPoints[k].isSavePoint?(g=new BucketListSmallOverlay(D,t.mapZoom,y,_,v,new google.maps.LatLng(r,s),l,u,d,p,"open","save"),h=g,console.log(g),console.log(b),b&&b.fromLatLngToContainerPixel&&(x=b.fromLatLngToContainerPixel(new google.maps.LatLng(g.latlng_.A,g.latlng_.k)),(x.x>A||x.y<I)&&(A=x.x),x=new google.maps.Point($("#map").width()+A,-I),latlng=b.fromContainerPixelToLatLng(x),D.extend(latlng))):g=new BucketListSmallOverlay(D,t.mapZoom,y,_,v,new google.maps.LatLng(r,s),l,u,d,p,"closed","view",function(t){return function(){return $("#map").on("transitionend."+t.id,function(){e.fullMap?_.panTo(new google.maps.LatLng(t.lat,t.lng)):c(new google.maps.LatLng(t.lat,t.lng),-($("#map").width()/8)),$("#map").off("transitionend."+t.id)}),i.go("viewPoint",{pointId:t.id,collectionId:t.collection}),a.registerEvent("Point","View point detail","Map"),!1}}(e.activeViewPoints[k]),function(t){return function(n,r,s){w&&w!==t.id&&T[w]&&T[w].hidePopup(),w=t.id;var l=$("#map").width(),u=$("#map").height(),d=$("#map").offset().left,p=$("#map").offset().top,f=310,h=100;return(f>d+l-r||h>p+u-s||h>s-p)&&(e.fullMap?_.panTo(new google.maps.LatLng(t.lat,t.lng)):c(new google.maps.LatLng(t.lat,t.lng),-($("#map").width()/8))),e.showPointDetailPanel&&(i.go("viewPoint",{pointId:t.id,collectionId:t.collection}),a.registerEvent("Point","View point detail","Map")),void 0!==n.originalEvent&&o.prepForBroadcast({type:"selectListByPoint",data:{id:t.id}}),!1}}(e.activeViewPoints[k])),T[e.activeViewPoints[k].id]=g;e.activeViewPoints&&1===e.activeViewPoints.length&&_.setZoom(16),console.log("viewOverlays post marker"),console.log(T)}else _.setCenter({lat:23.6871252,lng:120.9912367}),_.setZoom(8)}function d(e){h&&h.changeType&&h.changeType(e)}function p(e){h&&h.setImage&&h.setImage(e)}function f(e){console.log("removeActiveViewPoint: "+e),e&&T[e]&&(console.log("deleted overlay exists"),T[e].setMap(null),delete T[e],console.log(typeof T[e]))}var h,m,g,v,y,w=0,b=0,x="",C=new google.maps.LatLng(w,b),S={zoom:t.mapZoom,minZoom:t.minZoom,center:C,mapTypeId:google.maps.MapTypeId.ROADMAP,panControl:!1,streetViewControl:!1,zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.LARGE,position:google.maps.ControlPosition.RIGHT_CENTER},scaleControl:!1},_=new google.maps.Map($("#map")[0],S),k="",T={};e.$watch(function(){return n.activeSavePoint},function(t){console.log("activeSavePoint change"),console.log(t),e.activeSavePoint=t}),e.$watch(function(){return n.activeViewPoints},function(t){console.log("MapPoints.activeViewPoints changed"),console.log(e.activeViewPoints),console.log(t),angular.equals(e.activeViewPoints,t)||(console.log("not equal"),e.activeViewPoints=t,$("#map").data("transitioning")?s(u):u())}),e.$watch(function(){return n.activeViewPoint},function(t){e.activeViewPoint=t}),e.$watch("activeViewPoint",function(e){n.activeViewPoint=e}),e.$on("stateChange",function(){switch(console.log("[[[stateChange mapController]]]"),console.log(o.message.type),o.message.type){case"pointSaveRequested":h&&"undefined"!=typeof h.showSavedCheckmark&&h.showSavedCheckmark();break;case"pointSaveComplete":h&&r(function(){h.hideSavedCheckmark()},3e3);break;case"collectionViewingMode":u();break;case"pointDeleted":f(o.message.data.id);break;case"pointRemoved":f(o.message.data.id);break;case"savePointSelected":l();break;case"savePointTypeChange":d(o.message.data.savePointType);break;case"savePointSetImage":console.log(o.message.data.imageUrl),p(o.message.data.imageUrl);break;case"noSearchQuery":case"noSearchResults":break;case"offsetCenterWhenListview":var t=o.message.data.oldId,n=o.message.data.id;$("#pin-"+t).removeClass("active").css("zIndex",999),$("#pin-"+n+"> a").removeClass("showme"),$("#pin-"+n).addClass("active").css("zIndex",google.maps.Marker.MAX_ZINDEX+1),e.fullMap?_.panTo(new google.maps.LatLng(o.message.data.lat,o.message.data.lng)):c(new google.maps.LatLng(o.message.data.lat,o.message.data.lng),-($("#map").width()/8))}})}]),mappingbird.SaveApp.controller("pointDetailController",["$rootScope","$scope","Presets","MapPoints","Collections","BroadcastService","$state","PointResource","PointImage","User","Collection","$http","Analytics",function(e,t,n,o,i,r,a,s,l,c,u,d,p){function f(e){var n=o.activeViewPoints,i=n.length;if(i>0)for(;i--;)if(n[i].id==e){t.activeViewPoint=n[i];break}}function h(e){var n=o.activeViewPoints,i=n.length,a=0,s=[];if(i>0){for(;i--;)if(n[i].id==e){for(t.activeViewPoint=n[i],a=n[i].images.length;a--;)s.unshift(n[i].images[a].url);t.pointImages=s,r.prepForBroadcast({type:"pointLoaded",data:{}});break}}else t.pointImages=[]}t.pointImages=[],t.selectedPointImages=[],t.deselectedPointImages=[],t.pointEditMode=!1,t.pointDeleteError=!1,t.activeViewPointId=-1,t.newCollectionName="",t.showSelectCollection=!1,t.showDeletePoint=!1,t.activeViewPoint,t.activeViewPointResource,t.fakeOpenDay={business_hours:{weekday_text:[{day:"Monday",time:"6:00 am – 10:00 pm"},{day:"Tuesday",time:"6:00 am – 10:00 pm"},{day:"Wednesday",time:"6:00 am – 10:00 pm"},{day:"Thursday",time:"6:00 am – 10:00 pm"},{day:"Friday",time:"6:00 am – 10:00 pm"},{day:"Saturday",time:"6:00 am – 8:00 pm"},{day:"Sunday",time:"6:00 am – 10:00 pm"}],open_now:!0,periods:[{close:{day:0,time:"2200"},open:{day:0,time:"1000"}},{close:{day:1,time:"2200"},open:{day:1,time:"1000"}},{close:{day:2,time:"2200"},open:{day:2,time:"1000"}},{close:{day:3,time:"2200"},open:{day:3,time:"1000"}},{close:{day:4,time:"2200"},open:{day:4,time:"1000"}},{close:{day:5,time:"2200"},open:{day:5,time:"1000"}},{close:{day:6,time:"2200"},open:{day:6,time:"1000"}}]}},e.$on("changeActiveViewPoint",function(e,t,n){a.go("viewPoint",{pointId:t,collectionId:n,dbc:!0}),f(t)}),t.$watch("activeViewPointId",function(e){console.log("activeViewPointId changed"),console.log(e),h(e)}),t.$watch("pointEditMode",function(e){console.log("pointEditMode changed"),console.log(e),r.prepForBroadcast({type:"pointEditModeChanged",data:{editMode:e}})}),t.$watch(function(){return o.activeViewPoint},function(e){t.activeViewPoint=e,t.activeViewPoint.date_created=moment(e.create_time).fromNow(),t.activeCollectionId=e.collection}),t.$watch("activeViewPoint",function(e){o.activeViewPoint=e}),t.$watch(function(){return i.collections},function(e){t.collections=e},!0),t.$watch(function(){return i.activeCollectionId},function(e){console.log("Collections.activeCollectionId watcher");var n=t.collections.length;if(t.activeCollectionId=e,t.collections&&t.collections.length>0)for(;n--;)if(e==t.collections[n].id){t.activeCollectionName=t.collections[n].name;break}}),t.$watch("activeCollectionId",function(e){i.activeCollectionId=e}),t.$on("stateChange",function(){switch(r.message.type){case"pointSelected":"undefined"!=typeof r.message.data.pointId&&(t.activeViewPointId=r.message.data.pointId);break;case"mapPointsLoaded":-1!==t.activeViewPointId&&h(t.activeViewPointId)}}),t.closePoint=function(e){e.preventDefault(),e.stopPropagation(),t.listMode?a.go("viewCollectionList",{collectionId:t.activeCollectionId}):a.go("viewCollection",{collectionId:t.activeCollectionId})},t.setPointType=function(e,n){e&&(e.preventDefault(),e.stopPropagation()),t.activeViewPoint.type=n,p.registerEvent("Point","Changed point type","Point Detail Panel")},t.togglePointEditMode=function(e){e.preventDefault(),e.stopPropagation(),t.changeCollectionName=t.activeCollectionName,t.changeCollectionId=t.activeCollectionId,t.pointEditMode=!t.pointEditMode},t.$on("HackforDeleteImage",function(e,n){t.deselectedPointImages=n}),t.savePointChanges=function(e){e.preventDefault(),e.stopPropagation(),d({url:"/api/points/"+t.activeViewPointId,method:"PATCH",data:JSON.stringify({id:t.activeViewPointId,title:t.activeViewPoint.title,description:t.activeViewPoint.description,type:t.activeViewPoint.type,collection:t.activeViewPoint.collection}),headers:{"Content-Type":"application/json"}}).success(function(n,o){t.changeCollectionId!=t.activeCollectionId&&(console.log("[Point Collection change] from "+t.activeCollectionName+" to ",t.changeCollectionName),r.prepForBroadcast({type:"pointRemoved",data:{id:t.activeViewPoint.id}}),r.prepForBroadcast({type:"collectionUpdate",data:{}}),r.prepForBroadcast({type:"pointChangeCollection",data:{}}),r.prepForBroadcast({type:"pointChangeCollectionComplete",data:{savedCollectionName:t.changeCollectionName}}),t.closePoint(e)),t.togglePointEditMode(e),p.registerEvent("Point","Saved point detail changes","Point Detail Panel")}),console.log(t.deselectedPointImages),console.log(typeof t.deselectedPointImages);var n,o;for(var i in t.deselectedPointImages)for(n=t.activeViewPoint.images.length;n--;)if("undefined"!=typeof t.activeViewPoint.images[n]&&t.activeViewPoint.images[n].url==t.deselectedPointImages[i]){o=t.activeViewPoint.images[n].url,l["delete"]({id:t.activeViewPoint.images[n].id},function(){}),console.log("delete images ",t.activeViewPoint.images[n].id,o,t.pointImages);for(var a=t.pointImages.length;a--;)if(t.pointImages[a]==o){t.pointImages.splice(a,1);break}t.activeViewPoint.images.splice(n,1);break}},t.selectPointCollection=function(e,n){e&&"function"==typeof e.stopPropagation&&(e.preventDefault(),e.stopPropagation()),console.log("selectCollection"),console.log("saveCollectionId: "+n),t.activeViewPoint.collection=n,t.changeCollectionId=n;for(var o=t.collections.length;o--;)if(n==t.collections[o].id){t.changeCollectionName=t.collections[o].name;break}t.showSelectCollection=!1},t.saveNewCollection=function(e){function n(e){u.save(e,function(e,n){console.log("saveNewCollection successful"),console.log(e),t.collections.push(e),t.selectPointCollection(null,e.id),t.newCollectionName="",r.prepForBroadcast({type:"collectionUpdate",data:{}}),p.registerEvent("Collection","Saved new","Point Detail Panel")})}"function"==typeof e.stopPropagation&&(e.preventDefault(),e.stopPropagation()),console.log("saveNewCollection"),console.log(t.newCollectionName),console.log(t.newCollectionName.length),t.newCollectionName.length>0?n({name:t.newCollectionName,user:c.data.id}):(console.log("no new collection name error"),t.noCollectionError=!0,p.registerEvent("Collection","Failed to save - no collection name","Point Detail Panel"))},t.selectPointForDelete=function(e){e.preventDefault(),e.stopPropagation(),t.showDeletePoint=!0,t.showPointDetailPanel=!1},t.unselectPointForDelete=function(e){e.preventDefault(),e.stopPropagation(),t.showDeletePoint=!1,t.showPointDetailPanel=!0},t.deletePoint=function(e){e.preventDefault(),e.stopPropagation(),console.log("deletePoint"),s["delete"]({id:t.activeViewPoint.id},function(){console.log("deletePoint return true"),r.prepForBroadcast({type:"collectionUpdate",data:{}}),r.prepForBroadcast({type:"pointDeleted",data:{id:t.activeViewPoint.id}}),r.prepForBroadcast({type:"pointChangeCollection",data:{}}),"undefined"!=typeof ga&&ga("send","event","Point","Deleted point","Point Detail Panel"),a.go("viewCollection",{collectionId:t.activeCollectionId}),t.pointEditMode=!1,t.unselectPointForDelete(e)},function(){t.pointDeleteError=!0})}}]),mappingbird.SaveApp.controller("listController",["$scope","Presets","MapPoints","BroadcastService","$state","$timeout","Analytics",function(e,t,n,o,i,r,a){e.$watch(function(){return n.activeViewPoints},function(t){console.log("MapPoints.activeViewPoints changed"),console.log(e.activeViewPoints),console.log(t),t.sort(function(e,t){return e.create_time>t.create_time?0:1}),angular.equals(e.activeViewPoints,t)||(e.activeViewPoints=t)}),e.$on("stateChange",function(){switch(console.log("[[[stateChange listController]]]"),console.log(o.message.type),o.message.type){case"listMode":break;case"selectListByPoint":r(function(){c(o.message.data.id)})}});var s=null;e.popupPin=function(t,n){if(console.log("popupPin",n,s),t.preventDefault(),s&&n==s)return void console.log("repeated click");e.isSelected=n;var o="pin-"+n;$("#"+o).removeClass("active"),$("#"+o+" > a").trigger("click"),s=n,l&&s==l&&(l=null)},e.popupDbPin=function(t,n){console.log("popupDbPin",n,s),t.preventDefault(),e.$emit("changeActiveViewPoint",n,e.activeViewPoints[0].collection),a.registerEvent("Point","View point detail","Map")};var l=null;e.offsetMapWhenHover=function(e,t,n,i){e.preventDefault(),o.prepForBroadcast({type:"offsetCenterWhenListview",data:{oldId:l,id:t,lat:n,lng:i}}),l=s&&t==s?null:t};var c=function(t){t==e.isSelected?(l=null,s=null,e.isSelected=null):(e.isSelected=t,s=t,l=t,$(".collection-listview").mCustomScrollbar("scrollTo","#list-"+t,{scrollInertia:300}))}}]),mappingbird.services.factory("Presets",function(){return{baseUrl:"/",parseUrl:"/scraper",userUrl:"/api/users",savePanelVisible:!0,mapZoom:13,minZoom:2}}),mappingbird.services.factory("MapPoints",function(){return{activeSavePoint:{icon:"",name:"",address:"",phone:"",coords:"",lat:0,lng:0,type:"misc",image:""},activeViewPoint:{id:-1,icon:"",name:"",address:"",phone:"",coords:"",lat:0,lng:0,type:"misc",images:[]},activeViewPoints:[]}}),mappingbird.services.factory("User",function(){return{data:{id:0,emailAddress:"",isRegisteredUser:!1,collections:[],isLoggedIn:!1}}}),mappingbird.services.factory("Collections",function(){return{collections:[],mostRecentModifiedCollection:-1,activeCollectionId:-1}}),mappingbird.services.factory("StateService",function(){var e;return{getParams:function(){return e},setParams:function(t){console.log("StateService setParams"),console.log(t),e=t}}}),mappingbird.services.factory("CollectionsByUserLoader",["CollectionsByUserResource","$stateParams","$q",function(e,t,n){return function(t){var o=n.defer();return e.get({user_id:t},function(e){o.resolve(e)},function(){o.reject("Unable to fetch collections for this user")}),o.promise}}]),mappingbird.services.factory("PointLoader",["PointResource","$stateParams","StateService","$q",function(e,t,n,o){return function(){var t=o.defer(),i=n.getParams();return e.get({id:i.point_id},function(e){t.resolve(e)},function(){t.reject("Unable to fetch point "+i.point_id)}),t.promise}}]),mappingbird.services.factory("UserResourceLoader",["UserResource","$cookies","$q",function(e,t,n){return function(){if(t.bkl_user){console.log("UserResourceLoader + cookie");var o=n.defer();return e.get({id:t.bkl_user},function(e){o.resolve(e)},function(){o.reject("Unable to fetch user "+t.bkl_user)}),o.promise}return console.log("UserResourceLoader + no cookie"),!1}}]),mappingbird.services.factory("BroadcastService",["$rootScope",function(e){var t={};return t.message={type:"",data:""},t.prepForBroadcast=function(e){this.message=e,this.broadcastItem()},t.broadcastItem=function(){e.$broadcast("stateChange")},t}]),mappingbird.analytics=angular.module("mappingbird.analytics",[],[function(){!function(e,t,n,o,i,r,a){e.GoogleAnalyticsObject=i,e[i]=e[i]||function(){(e[i].q=e[i].q||[]).push(arguments)},e[i].l=1*new Date,r=t.createElement(n),a=t.getElementsByTagName(n)[0],r.async=1,r.src=o,a.parentNode.insertBefore(r,a)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-60481551-1","auto"),ga("send","pageview")}]),mappingbird.analytics.factory("Analytics",function(){var e={};return e.registerEvent=function(e,t,n,o){"undefined"!=typeof ga&&("undefined"!=typeof o?ga("send","event",e,t,n,o):ga("send","event",e,t,n))},e}),mappingbird.resources.factory("Token",["$resource",function(e){return e("/api/token")}]),mappingbird.resources.factory("UserLogin",["$resource",function(e){return{local:e("/api/user/login"),facebook:e("/api/user/fb_login")}}]),mappingbird.resources.factory("UserLogout",["$resource",function(e){return e("/api/user/logout")}]),mappingbird.resources.factory("Scraper",["$resource",function(e){return e("/api/scraper")}]),mappingbird.resources.factory("Search",["$resource",function(e){return e("/api/search_point",{q:"@q",cid:"@cid"})}]),mappingbird.resources.factory("Collection",["$resource",function(e){return e("/api/collections/:id",{id:"@id"})}]),mappingbird.resources.factory("CollectionsByUserResource",["$resource",function(e){return e("/api/users/:user_id/collections",{user_id:"@user_id"})}]),mappingbird.resources.factory("PointResource",["$resource",function(e){return e("/api/points/:id",{id:"@id"},{update:{method:"PUT",params:{id:"@id",title:"@title",description:"@description",type:"@type",collection:"@collection"},headers:{"Content-type":"application/json"}}})}]),mappingbird.resources.factory("PointImage",["$resource",function(e){return e("/api/images/:id",{id:"@id"})}]),mappingbird.resources.factory("CurrentUser",["$resource",function(e){return e("/api/user/current")}]),mappingbird.resources.factory("UserResource",["$resource",function(e){return e("/api/users/:id/",{id:"@id"})}]),mappingbird.resources.factory("TagResource",["$resource",function(e){return e("/api/tags",{},{getTags:{method:"GET",isArray:!0}})}]),mappingbird.directives.directive("changeLanguage",function(){return{restrict:"A",scope:!1,controller:["$scope","$element","$attrs","$cookieStore","$window","$cookies",function(e,t,n,o,i,r){var a=n.changeLanguage;r.lang===a?t.parent().addClass("active"):t.parent().removeClass("active"),t[0].onclick=function(e){e.preventDefault(),document.cookie="lang="+a,o.put("lang",a),i.location.reload()}}]}}),mappingbird.directives.directive("collectionList",function(){return{restrict:"A",scope:!1,templateUrl:"/collection_list",replace:!1}}),mappingbird.directives.directive("collectionListView",function(){return{restrict:"A",scope:!1,templateUrl:"collection_list_view",replace:!1,controller:["$scope","$element","$attrs","BroadcastService","$window",function(e,t,n,o,i){for(var r=[],a=1;6>=a;a++)r.push({text:"Item "+a,value:a});e.list=r,e.sortingLog=[],e.sortableOptions={axis:"y",cursor:"move",tolerance:"intersect",change:function(e,t){var n=t.helper.outerHeight(!0),o=$("#sortable .mCustomScrollBox"),i=o.height(),r=3*$("#sortable li").outerHeight(!0),a=e.pageY-o.offset().top;n>a?$("#sortable").mCustomScrollbar("scrollTo","+="+r):a>i-n&&$("#sortable").mCustomScrollbar("scrollTo","-="+r)}}}]}}),mappingbird.directives.directive("heightToBottom",function(){return{restrict:"A",scope:!1,controller:["$scope","$element","$attrs","BroadcastService",function(e,t,n,o){var i;t.parent().parent().parent();i=$("body").height()-189,t.css("height",i+"px")}]}}),mappingbird.directives.directive("keypress",function(){return function(e,t,n){t.bind("keydown keypress",function(t){13===t.which&&(e.$apply(function(){e.$eval(n.myEnter)}),t.preventDefault())})}}),mappingbird.directives.directive("leftOuterHeight",function(){return{restrict:"A",scope:!1,controller:["$scope","$element","$attrs","BroadcastService",function(e,t,n,o){var i=80,r=$($("body")[0]).height()-$($("header")[0]).height()-$($("footer")[0]).height()-i;t.css("height",r+"px")}]}}),mappingbird.directives.directive("mapAlert",["BroadcastService","$timeout","$sce",function(e,t,n){return{restrict:"A",controller:["$scope","$element","$attrs","BroadcastService","$sce",function(e,t,n,o,i){e.mapAlertActive=!1,e.$on("stateChange",function(){var n,i,r,a,s,l,c;if("object"==typeof o.message)switch(o.message.type){case"noSearchResults":n=$("#map").position(),i=n.top,r=425,a=$(window).width(),s=$("#map").height(),l=i+s/2-26.5,c=r+a/2-320,t.css({top:l,left:c}),e.mapAlertTitle="Where were you searching for?",e.mapAlertMessage="Provide the name or address of a place in the search bar.",e.mapAlertActive=!0,e.$apply();break;case"newSearch":e.mapAlertTitle="",e.mapAlertMessage="",e.mapAlertActive=!1}})}],replace:!1}}]),mappingbird.directives.directive("mapDialog",["BroadcastService","$window",function(e,t){return{restrict:"A",controller:["$scope","$element","$attrs","BroadcastService","$window",function(e,t,n,o,i){e.mapDialogActive=!1,e.hasNoSearchQuery=!1,e.fromHomePage=/(^http:\/\/www.mappingbird.com|^http:\/\/localhost)/.test(i.location.href),e.hasCollectionsSaved,e.$on("stateChange",function(){var t,n;if(t=function(){e.mapDialogTitle="You haven't saved any places yet",e.mapDialogMessage="Learn how to save places to MappingBird by following the 'How It Works' tutorial on the homepage.",e.mapDialogButtonLabel="Back to the homepage",e.mapDialogAction=function(){i.location.href="/static/index.html#/how-it-works"},e.mapDialogActive=!0},n=function(){e.mapDialogTitle="",e.mapDialogMessage="",e.mapDialogButtonLabel="",e.mapDialogAction=function(){},e.mapDialogActive=!1},"object"==typeof o.message)switch(o.message.type){case"collectionsLoaded":o.message.data.hasCollectionsSaved===!1?(e.hasCollectionsSaved=!1,e.hasNoSearchQuery?(console.log("noShow"),n()):(console.log("show"),t())):e.hasCollectionsSaved=!0;break;case"noSearchQuery":e.hasNoSearchQuery=!0,e.hasCollectionsSaved===!1?t():n();break;case"newSearch":case"viewSearchResults":console.log(e.hasNoSearchQuery),n()}})}],replace:!1}}]),mappingbird.directives.directive("massiveAlert",["BroadcastService","$window",function(e,t){return{restrict:"A",controller:["$scope","$element","$attrs","BroadcastService","$window",function(e,t,n,o,i){e.hasNoSearchQuery,e.hasCollectionsSaved,e.$on("stateChange",function(){if("object"==typeof o.message)switch(o.message.type){case"noSearchQuery":console.log("noSearchQuery + massiveAlert"),console.log(o.message.data),console.log(e.hasCollectionsSaved),e.hasNoSearchQuery=!0,e.hasCollectionsSaved!==!0||/(^http:\/\/www.mappingbird.com|^http:\/\/localhost)/.test(document.referrer)?t.removeClass("visible"):t.addClass("visible");break;case"collectionsLoaded":o.message.data.hasCollectionsSaved!==!1||/(^http:\/\/www.mappingbird.com|^http:\/\/localhost)/.test(document.referrer)?(e.hasCollectionsSaved=!0,t.removeClass("visible")):(e.hasCollectionsSaved=!1,console.log("noCollectionsSaved + massiveAlert"),console.log(o.message.data),console.log(e.hasCollectionsSaved),o.message.data.isRegisteredUser?t.addClass("visible"):e.hasNoSearchQuery?t.addClass("visible"):t.removeClass("visible"));break;case"newSearch":default:t.removeClass("visible")}})}],replace:!1}}]),mappingbird.directives.directive("mCustomScrollbar",function(){return{restrict:"A",scope:!1,link:function(e,t,n){var o=e.$eval(n.mCustomScrollbar),i=o.triggerEvent;i&&e.$on(i,function(){console.log("trigger mCustomScrollbar"),t.attr("parent-height")&&t.css("height",t.attr("parent-height")+"px")}),$(t).hasClass("mCustomScrollbar")||$(t).mCustomScrollbar(o)}}}),mappingbird.directives.directive("mCustomScrollbarParent",function(){return{restrict:"A",scope:!1,controller:["$scope","$element","$attrs","BroadcastService",function(e,t,n,o){var i=68,r=$($("body")[0]).height()-$($("header")[0]).height()-$($(".collection-wrapper")[0]).height()-$($("footer")[0]).height()-i;console.log("mCustomScrollbarParent height: "+r),t.css("height",r+"px"),t.find("[m-custom-scrollbar]").attr("parent-height",r)}]}}),mappingbird.directives.directive("newWindow",function(){return{restrict:"A",link:function(e,t,n){t.on("click",function(e){e.preventDefault(),window.open(n.href,"_blank")})},replace:!1}}),mappingbird.directives.directive("onRepeatDone",["$compile",function(e){return{restrict:"A",link:function(e,t,n){e.$last&&(console.log("onRepeatDone last"),e.$emit(n.onRepeatDone||"repeat_done",t))}}}]),mappingbird.directives.directive("openDay",["BroadcastService","$timeout","$sce",function(e,t,n){return{restrict:"A",templateUrl:"/open_day",link:function(e,t,n){e.inlineDisplay=!1,e.today=function(){var e=(new Date).getDay();return 0==e?e=6:e--,e}(),e.toggleOpenDayDisplay=function(t){console.log("click toggleOpenDayDisplay"),t.preventDefault(),t.stopPropagation(),e.inlineDisplay=!e.inlineDisplay}}}}]),mappingbird.directives.directive("pAlert",["BroadcastService","$timeout","$sce",function(e,t,n){return{restrict:"A",link:function(e,t,n){t.find(".close").on("click",function(t){e.alertActive=!1})},controller:["$scope","$element","$attrs","BroadcastService","$sce",function(e,n,o,i,r){e.alertActive=!1,e.$on("stateChange",function(){if("object"==typeof i.message)switch(i.message.type){case"pointSaveComplete":e.alertActive=!0,e.message=r.trustAsHtml("A new place was saved to <strong>"+i.message.data.savedCollectionName+"</strong> successfully. :)"),e.actionMessage="",t(function(){e.alertActive=!1},3e3);break;case"pointDeleted":e.alertActive=!0,e.message=r.trustAsHtml(gettext("Point deleted successfully.")),e.actionMessage="",t(function(){e.alertActive=!1},3e3);break;case"requestDeleteCollection":e.alertActive=!0,e.message=r.trustAsHtml("<strong>"+i.message.data.collectionToBeDeletedName+"</strong> is being deleted."),e.actionMessage="Undo";var o=i.message.data.collectionToBeDeletedId;console.log("requestDelectCollection countdown ID: "+o);var a=t(function(){e.alertActive=!1,i.prepForBroadcast({type:"deleteCollection",data:{id:o}})},4e3);n.find(".alert-action").on("click",function(n){n.preventDefault(),n.stopPropagation(),t.cancel(a),$(this).off("click"),e.alertActive=!1});break;case"pointChangeCollectionComplete":e.alertActive=!0,e.message=r.trustAsHtml(gettext("Point was changed")+" to <strong>"+i.message.data.savedCollectionName+"</strong>. :)"),t(function(){e.alertActive=!1},3e3)}})}],replace:!1}}]),mappingbird.directives.directive("pointDetail",function(){return{restrict:"A",scope:!1,templateUrl:"/point_detail",replace:!1}}),mappingbird.directives.directive("savePanel",function(){return{restrict:"A",scope:!1,templateUrl:"/save_panel",replace:!1}}),mappingbird.directives.directive("scrollbarHeightToBottom",function(){return{restrict:"A",scope:!1,controller:["$scope","$element","$attrs","BroadcastService",function(e,t,n,o){var i;i=$("body").height()-300,
t.css("max-height",i+"px")}]}}),mappingbird.directives.directive("searchBox",function(){return{restrict:"A",scope:!1,controller:["$scope","$element","$attrs","BroadcastService",function(e,t,n,o){e.$on("stateChange",function(){"object"==typeof o.message&&"noSearchQuery"==o.message.type&&$(t).attr({placeholder:"Name or address of a place"})})}]}}),mappingbird.directives.directive("thumbAlignment",["$compile",function(e){return{restrict:"A",scope:!0,replace:!1,template:'<div class="photo-obj"></div><div id="picstest"></div>',controller:["$scope","$element","$attrs","BroadcastService","Utility",function(e,t,n,o,i){function r(t,n){console.log("processPhotos");var i,r,s=u.innerWidth(),l=180,c=2,d=[],p=0,h=0,v=0,y=0,b=t.length,x=!1;for(console.log("lastWidth: "+n),console.log("innerwidth: "+s),console.log("numPhotos: "+b),$.each(t,function(e,t){var n=parseInt(t.naturalWidth,10),o=parseInt(t.naturalHeight,10);o!=l&&(n=Math.floor(n*(l/o))),d.push(n)});b>p;){h++,i=$("<div class='picrow'></div>"),g&&i.addClass("white"),w.append(i),i.width(n),i.empty(),y=0;for(var S=0,_=0;s>1.1*S&&(_=p+y++,_!=b);)S+=d[_]+2*c;var k=s/S,T=0;S=0;for(var P=Math.floor(l*k)<1.1*l?Math.floor(l*k):1.1*l;y>T;){if(r=t[p+T]){var M=P==1.1*l?Math.floor(parseInt(t[p+T].width,10)*(1.1*l)/parseInt(t[p+T].height,10)):Math.floor(d[p+T]*k);S+=M+2*c,function(e){var n,r=t[p+e].src,s=Math.floor(10*Math.random()+1),l="",u=v+"_"+s,d=$("<img/>",{"class":"photo",src:r,width:M}),g=$("<span></span>",{"class":"select-img"});m?(l=0==e&&1==h?"is-selected":"",f[u]=r,o.prepForBroadcast({type:"savePointSetImage",data:{imageUrl:t[p+e].src}})):t[p+e].naturalWidth>250||t[p+e].naturalHeight>250?(l="is-selected",x||(x=!0,o.prepForBroadcast({type:"savePointSetImage",data:{imageUrl:t[p+e].src}})),f[u]=r):l="",n=$("<a></a>",{"class":l,href:"#",id:u}).css("margin",c+"px"),v++,n.on("click",a),n.append(d),i.append(n),$(d).on("load",function(){var e=$(d).position(),t=e.left+$(d).width()/2-23,o=e.top+$(d).height()/2-23;g.css("left",t+"px").css("top",o+"px"),n.append(g)})}(T)}T++}if(r){for(T=0;s>S;){var D=i.find("img:nth-child("+(T+1)+")");$(D).each(function(){$(this).width($(this).width()+1)}),T=(T+1)%y,S++}for(T=0;S>s;){var E=i.find("img:nth-child("+(T+1)+")");$(E).each(function(){$(this).width($(this).width()-1)}),T=(T+1)%y,S--}}i.height(P+2*c),p+=y}C.remove(),e.$emit("placeImagesLoaded")}function a(t){t.preventDefault(),t.stopPropagation();var n=this.id,o=$("#check_"+n),i=$($(this).find("img")[0]).attr("src");!b&&x?$.slimbox(i,"",{resizeDuration:100}):($(this).hasClass("is-selected")?($(this).removeClass("is-selected"),$(o).hide(),e.$apply(function(){console.log("delete selected image"),h[n]=f[n],delete f[n]}),"undefined"!=typeof ga&&ga("send","event","Save Panel Photos","Deselect","Save Panel")):($(this).addClass("is-selected"),$(o).show(),e.$apply(function(){console.log("add selected image"),f[n]=i,h[n]&&delete h[n]}),"undefined"!=typeof ga&&ga("send","event","Save Panel Photos","Select","Save Panel")),e.$emit("HackforDeleteImage",h))}function s(){console.log("last image load"),v=t.find(".photo-obj").children(),console.log(v),y=$(t).find("#picstest").innerWidth()-15,u=$(t).find(".picrow"),u.width(y),r(v,y)}function l(){t.find(".photo-obj").empty(),t.find(".picrow").remove(),t.append(C),t.append('<div class="picrow" />'),h={}}function c(n){if(console.log("loadImages"),console.log(n),"undefined"!=typeof n&&"undefined"!=typeof n.length&&n.length>0){l();var o=n,i=o.length,r=i,a=0,c=t.find(".photo-obj");for(console.log("len2: "+r);r--;)c.prepend($('<img src="'+n[r]+'">').on("error",function(){console.log("image loading error"),$(this).remove(),++a==i&&(console.log(a),s())}).on("load",function(){console.log("image loaded successfully"),(this.width<100||this.height<100)&&$(this).remove(),++a==i&&(console.log(a),s())}))}else console.log("no images - empty photo"),l(),C.remove(),e.$emit("placeImagesLoaded")}var u,d=e.$eval(n.thumbAlignment),p=d.displayArray,f=d.selectImages||{},h=d.deselectImages||{},m=d.onlyFirstSelected,g=d.whiteBackground,v=null,y=0,w=($($(t).find(".photo-obj")[0]),$(t)),b=d.editMode||!1,x=d.enableLightbox||!1,C=$('<div class="loading">Loading...<img src="/static/img/loading-circle.png"></div>');e.$watch(p,function(e,t){i.arraysAreEqual(e,t)||c(e)},!0),e.$on("stateChange",function(){"object"==typeof o.message&&"pointEditModeChanged"==o.message.type&&(b=o.message.data.editMode)})}]}}]);